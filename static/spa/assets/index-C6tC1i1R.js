var tf=Object.defineProperty;var Qo=s=>{throw TypeError(s)};var sf=(s,e,t)=>e in s?tf(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var O=(s,e,t)=>sf(s,typeof e!="symbol"?e+"":e,t),nf=(s,e,t)=>e.has(s)||Qo("Cannot "+t);var Zo=(s,e,t)=>e.has(s)?Qo("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t);var Ui=(s,e,t)=>(nf(s,e,"access private method"),t);import{r as z,a as af,R as Ps,c as rf}from"./vendor-DXY7kvCo.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();var wc={exports:{}},Mn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of=z,lf=Symbol.for("react.element"),cf=Symbol.for("react.fragment"),df=Object.prototype.hasOwnProperty,hf=of.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uf={key:!0,ref:!0,__self:!0,__source:!0};function jc(s,e,t){var i,n={},a=null,r=null;t!==void 0&&(a=""+t),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(r=e.ref);for(i in e)df.call(e,i)&&!uf.hasOwnProperty(i)&&(n[i]=e[i]);if(s&&s.defaultProps)for(i in e=s.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:lf,type:s,key:a,ref:r,props:n,_owner:hf.current}}Mn.Fragment=cf;Mn.jsx=jc;Mn.jsxs=jc;wc.exports=Mn;var o=wc.exports,kc,Jo=af;kc=Jo.createRoot,Jo.hydrateRoot;const Nc=z.createContext(void 0),ff={status:"idle",error:null,result:null,raw:null};function mf(s,e){switch(e.type){case"SUBMIT_START":return{...s,status:"submitting",error:null};case"SUBMIT_SUCCESS":return{...s,status:"success",result:e.payload.normalized,raw:e.payload.raw};case"SUBMIT_ERROR":return{...s,status:"error",error:e.payload};default:return s}}const gf=({children:s,initialState:e})=>{const[t,i]=z.useReducer(mf,e||ff);return o.jsx(Nc.Provider,{value:{state:t,dispatch:i},children:s})};function Cc(){const s=z.useContext(Nc);if(!s)throw new Error("useCalculation must be used within CalculationProvider");return s}const pf=({toast:s,onDismiss:e,animationDuration:t=300,showCloseButton:i=!0,className:n="",style:a={},...r})=>{const l=z.useRef(null);z.useEffect(()=>(s.autoHide&&s.autoHide>0&&(l.current=setTimeout(()=>{e(s.id)},s.autoHide)),()=>{l.current&&clearTimeout(l.current)}),[s.autoHide,s.id,e]);const c=()=>{e(s.id)},h=s.variant?`toast-${s.variant}`:"",u=()=>"just now",m=["toast","show",h,n].filter(Boolean).join(" ");return o.jsxs("div",{...r,className:m,role:"alert","aria-live":"assertive","aria-atomic":"true",style:{"--bs-toast-animation-duration":`${t}ms`,...a},children:[s.title&&o.jsxs("strong",{className:"toast-header me-auto",children:[s.icon&&o.jsx("i",{className:`fas ${s.icon} me-2`,role:"img","aria-hidden":"true"}),s.title,s.showTimestamp&&o.jsx("small",{className:"toast-timestamp text-muted ms-2",children:u()}),i&&o.jsx("button",{type:"button",className:"btn-close ms-auto","aria-label":"Close",onClick:c})]}),o.jsxs("div",{className:"toast-body",children:[!s.title&&s.icon&&o.jsx("i",{className:`fas ${s.icon} me-2`,role:"img","aria-hidden":"true"}),s.message,!s.title&&i&&o.jsx("button",{type:"button",className:"btn-close btn-close-white position-absolute top-50 end-0 translate-middle-y me-2","aria-label":"Close",onClick:c}),!s.title&&s.showTimestamp&&o.jsx("div",{className:"toast-timestamp text-muted small mt-1",children:u()})]})]})},xf=({toasts:s=[],position:e="top-end",maxToasts:t=5,animationDuration:i=300,showCloseButton:n=!0,className:a="",onDismiss:r})=>{const l=s.slice(0,t),c=()=>{switch(e){case"top-start":return"toast-container position-fixed top-0 start-0";case"top-center":return"toast-container position-fixed top-0 start-50 translate-middle-x";case"top-end":return"toast-container position-fixed top-0 end-0";case"middle-start":return"toast-container position-fixed top-50 start-0 translate-middle-y";case"middle-center":return"toast-container position-fixed top-50 start-50 translate-middle";case"middle-end":return"toast-container position-fixed top-50 end-0 translate-middle-y";case"bottom-start":return"toast-container position-fixed bottom-0 start-0";case"bottom-center":return"toast-container position-fixed bottom-0 start-50 translate-middle-x";case"bottom-end":return"toast-container position-fixed bottom-0 end-0";default:return"toast-container position-fixed top-0 end-0"}};return l.length===0?null:o.jsx("div",{className:`${c()} p-3 ${a}`,children:l.map(h=>o.jsx(pf,{toast:h,onDismiss:r,animationDuration:i,showCloseButton:n},h.id))})},bf=z.createContext(void 0),_f=({children:s,position:e="top-end",maxToasts:t=5,defaultAutoHide:i=5e3,animationDuration:n=300,showCloseButton:a=!0})=>{const[r,l]=z.useState([]),c=z.useCallback((y,w="info",N={})=>{const S=Date.now().toString()+Math.random().toString(36).substr(2,9),E={id:S,message:y,variant:w,autoHide:i,showTimestamp:!1,...N};return l(M=>[...M,E]),S},[i]),h=z.useCallback(y=>{l(w=>w.filter(N=>N.id!==y))},[]),u=z.useCallback(()=>{l([])},[]),m=z.useCallback((y,w)=>c(y,"success",w),[c]),g=z.useCallback((y,w)=>c(y,"danger",w),[c]),b=z.useCallback((y,w)=>c(y,"warning",w),[c]),v=z.useCallback((y,w)=>c(y,"info",w),[c]),x={toasts:r,addToast:c,removeToast:h,clearToasts:u,showSuccess:m,showError:g,showWarning:b,showInfo:v};return o.jsxs(bf.Provider,{value:x,children:[s,o.jsx(xf,{toasts:r,position:e,maxToasts:t,animationDuration:n,showCloseButton:a,onDismiss:h})]})},as={config:{associateTag:"cgttaxtool-20",defaultDisclosure:"As an Amazon Associate, we earn from qualifying purchases. This helps support our free tax calculation tools.",enableTracking:!0,placeholderImage:"/images/book-placeholder.jpg",amazonBaseUrl:"https://www.amazon.co.uk"},products:[{id:"uk-tax-guide-2024",title:"Tolley's Tax Guide 2024-25",description:"The definitive guide to UK taxation including capital gains tax, income tax, and corporation tax. Essential for investors and tax professionals.",asin:"B0BTXX5N5L",affiliateUrl:"https://amzn.to/4pCCh96",imageUrl:"https://m.media-amazon.com/images/I/61v-3RYPZPL._SY522_.jpg",category:"tax",tags:["uk-tax","capital-gains","income-tax","reference"],price:"¬£143.99",rating:5,reviewCount:1,featured:!0,publishedDate:"2024-09-30",author:"Tolley",isbn:"978-0754559573"},{id:"capital-gains-tax-uk",title:"Shares and Taxation",description:"A Practical Guide to Saving Tax on Your Shares.",asin:"B08VHXMC9K",affiliateUrl:"https://amzn.to/3KkWtfx",imageUrl:"https://m.media-amazon.com/images/I/519DCz1azmL.jpg",category:"tax",tags:["capital-gains","uk-tax","property","shares"],price:"¬£13.56",rating:5,reviewCount:1,featured:!0,publishedDate:"2010-10-12",author:"Jimmy B. Prince ",isbn:""},{id:"intelligent-investor",title:"The Intelligent Investor",description:"Benjamin Graham's timeless investment principles. Essential reading for understanding value investing and building long-term wealth.",asin:"B000FC12C8",affiliateUrl:"https://amzn.to/46yvrbV",imageUrl:"https://m.media-amazon.com/images/I/71piwvkH0sL._SY522_.jpg",category:"trading",tags:["investing","value-investing","warren-buffett","classic"],price:"¬£14.45",rating:4.7,reviewCount:382,featured:!0,publishedDate:"2024-10-24",author:"Benjamin Graham",isbn:"978-0063423527"},{id:"bogleheads-guide",title:"The Bogleheads' Guide to Investing",description:"Simple, effective investment strategies from John Bogle's disciples. Perfect for passive investing and building diversified portfolios.",asin:"B00JUV01RW",affiliateUrl:"https://amzn.to/4gG21xn",imageUrl:"https://m.media-amazon.com/images/I/814Z8SEGU0L._SY522_.jpg",category:"trading",tags:["passive-investing","index-funds","portfolio","bogle"],price:"¬£16.39",rating:4.7,reviewCount:2940,featured:!1,publishedDate:"2022-02-28",author:"Taylor Larimore",isbn:"9978-1119847670"},{id:"rich-dad-poor-dad",title:"Rich Dad Poor Dad",description:"Robert Kiyosaki's bestselling guide to financial literacy. Learn about assets, liabilities, and building passive income streams.",asin:"B07C7M8SX9",affiliateUrl:"https://amzn.to/3KDzcW9",imageUrl:"https://m.media-amazon.com/images/I/81BE7eeKzAL._SY522_.jpg",category:"finance",tags:["financial-literacy","passive-income","mindset","bestseller"],price:"¬£10.87",rating:4.6,reviewCount:88909,featured:!1,publishedDate:"2022-05-19",author:"Robert T. Kiyosaki",isbn:"9978-1612681122"},{id:"uk-property-tax",title:"How to Save Property Tax 2024/25",description:"Almost 300 pages of tax planning information for landlords and property investors.",asin:"B0C45FGHJ2",affiliateUrl:"https://amzn.to/480kIto",imageUrl:"https://m.media-amazon.com/images/I/71a68-28d4L._SY522_.jpg",category:"tax",tags:["property-tax","landlords","uk-tax"],price:"¬£28.00",rating:4.6,reviewCount:143,featured:!1,publishedDate:"2024-05-01",author:"Carl Bayley",isbn:"978-1916539653"},{id:"thinking-fast-and-slow",title:"Thinking, Fast and Slow",description:"Daniel Kahneman's classic on the two systems that drive the way we think.",asin:"0141033576",affiliateUrl:"https://www.amazon.co.uk/Thinking-Fast-Slow-Daniel-Kahneman/dp/0141033576",imageUrl:"https://m.media-amazon.com/images/I/71b3oX+p8gL._SY522_.jpg",category:"trading",tags:["psychology","behavioral-finance","decision-making"],price:"¬£10.34",rating:4.5,reviewCount:46177,featured:!1,publishedDate:"2012-05-10",author:"Daniel Kahneman",isbn:"978-0141033570"},{id:"technical-analysis-financial-markets",title:"Technical Analysis of the Financial Markets",description:"A comprehensive guide to trading methods and applications, from the 'bible' of technical analysis.",asin:"0735200661",affiliateUrl:"https://www.amazon.co.uk/Technical-Analysis-Financial-Markets-Comprehensive/dp/0735200661",imageUrl:"https://m.media-amazon.com/images/I/71+i0bV+c3L._SY522_.jpg",category:"trading",tags:["technical-analysis","charting","trading","markets"],price:"¬£38.00",rating:4.6,reviewCount:2853,featured:!1,publishedDate:"1999-01-01",author:"John J. Murphy",isbn:"978-0735200661"},{id:"mastering-the-market-cycle",title:"Mastering the Market Cycle",description:"Howard Marks provides invaluable insight into market cycles, helping you get the odds on your side.",asin:"1473695686",affiliateUrl:"https://www.amazon.co.uk/Mastering-Market-Cycle-Getting-odds/dp/1473695686/",imageUrl:"https://m.media-amazon.com/images/I/71BqS+ODoNL._SY522_.jpg",category:"trading",tags:["market-cycles","investing","howard-marks"],price:"¬£12.99",rating:4.3,reviewCount:3331,featured:!1,publishedDate:"2020-01-23",author:"Howard Marks",isbn:"978-1473695689"},{id:"reminiscences-of-a-stock-operator",title:"Reminiscences of a Stock Operator",description:"A timeless classic that provides a vivid and engaging account of a stock market speculator's life.",asin:"0471770884",affiliateUrl:"https://www.amazon.co.uk/Reminiscences-Stock-Operator-Edwin-Lefevre/dp/0471770884",imageUrl:"https://m.media-amazon.com/images/I/81+gG0oGZBL._SY522_.jpg",category:"trading",tags:["trading","biography","classic","speculation"],price:"¬£16.98",rating:4.4,reviewCount:4567,featured:!1,publishedDate:"2006-02-10",author:"Edwin Lef√®vre",isbn:"978-0471770886"},{id:"trading-psychology",title:"Trading in the Zone",description:"Master the psychology of trading. Essential for understanding market emotions and developing disciplined trading strategies.",asin:"B007DC7C4G",affiliateUrl:"https://amzn.to/4pFDr3y",imageUrl:"https://m.media-amazon.com/images/I/91h1hHF7awL._SY522_.jpg",category:"trading",tags:["psychology","trading-mindset","discipline","emotions"],price:"¬£27.80",rating:4.6,reviewCount:9202,featured:!0,publishedDate:"2001-01-01",author:"Mark Douglas",isbn:"978-0735201446"},{id:"uk-business-tax",title:"TAXTOPIA",description:"How I Discovered the Injustices, Scams and Guilty Secrets of the Tax Evasion Game",asin:"B0D12EFG34",affiliateUrl:"https://amzn.to/3KkZfS3",imageUrl:"https://m.media-amazon.com/images/I/61PCti3j6yL._SY522_.jpg",category:"business",tags:["business-tax","corporation-tax","vat","small-business"],price:"¬£6.59",rating:4.5,reviewCount:583,featured:!1,publishedDate:"2024-02-20",author:"The Rebel Accountant",isbn:"978-1800960879"},{id:"thinking-fast-and-slow-2",title:"Thinking, Fast and Slow",description:"Daniel Kahneman's seminal work on the two systems that drive the way we think. Essential for understanding and overcoming cognitive biases in trading.",asin:"0141033576",affiliateUrl:"https://www.amazon.co.uk/Thinking-Fast-Slow-Daniel-Kahneman/dp/0141033576",imageUrl:"https://m.media-amazon.com/images/I/71m6X-iOAOL._SY522_.jpg",category:"trading",tags:["psychology","cognitive-bias","mindset","kahneman"],price:"¬£11.99",rating:4.6,reviewCount:25e3,featured:!0,publishedDate:"2012-04-10",author:"Daniel Kahneman",isbn:"978-0141033570"},{id:"technical-analysis-of-financial-markets-2",title:"Technical Analysis of the Financial Markets",description:"A comprehensive guide to technical analysis, considered by many to be the bible of the subject. Covers chart patterns, indicators, and trading theory.",asin:"0735200661",affiliateUrl:"https://www.amazon.co.uk/Technical-Analysis-Financial-Markets-Comprehensive/dp/0735200661",imageUrl:"https://m.media-amazon.com/images/I/71p6T1m2VjL._SY522_.jpg",category:"trading",tags:["technical-analysis","charting","indicators","classic"],price:"¬£65.50",rating:4.7,reviewCount:4500,featured:!1,publishedDate:"1999-01-15",author:"John J. Murphy",isbn:"978-0735200661"},{id:"mastering-the-market-cycle-2",title:"Mastering the Market Cycle: Getting the Odds on Your Side",description:"Howard Marks provides a brilliant framework for understanding market cycles, helping investors know where they stand and how to act.",asin:"147214044X",affiliateUrl:"https://www.amazon.co.uk/Mastering-Market-Cycle-Getting-odds/dp/1473695686/",imageUrl:"https://m.media-amazon.com/images/I/71y3-f-i2AL._SY522_.jpg",category:"investing",tags:["market-cycles","investing-strategy","howard-marks","economics"],price:"¬£12.99",rating:4.6,reviewCount:2300,featured:!1,publishedDate:"2020-07-09",author:"Howard Marks",isbn:"978-1472140443"},{id:"reminiscences-of-a-stock-operator-2",title:"Reminiscences of a Stock Operator",description:"A fictionalized biography of Jesse Livermore, this book is a timeless classic on speculation, crowd psychology, and the art of trading.",asin:"0471770884",affiliateUrl:"https://amzn.to/433dvVR",imageUrl:"https://m.media-amazon.com/images/I/815fdzmtwAL._SY522_.jpg",category:"trading",tags:["classic","trading-psychology","speculation","jesse-livermore"],price:"¬£16.98",rating:4.4,reviewCount:4567,featured:!1,publishedDate:"2006-05-12",author:"Edwin Lef√®vre",isbn:"978-0471770886"}]};let xa=null,Yi=null;function vf(s,e){const t=[];["id","title","description","asin","affiliateUrl","imageUrl","category"].forEach(a=>{(!s[a]||typeof s[a]=="string"&&s[a].trim()==="")&&t.push({field:`products[${e}].${a}`,message:`Missing required field: ${a}`,value:s[a]})});const n=["tax","trading","finance","business","investing"];return s.category&&!n.includes(s.category)&&t.push({field:`products[${e}].category`,message:`Invalid category. Must be one of: ${n.join(", ")}`,value:s.category}),s.asin&&!/^[A-Z0-9]{10}$/.test(s.asin)&&t.push({field:`products[${e}].asin`,message:"ASIN must be 10 alphanumeric characters",value:s.asin}),s.affiliateUrl&&!el(s.affiliateUrl)&&t.push({field:`products[${e}].affiliateUrl`,message:"Invalid affiliate URL format",value:s.affiliateUrl}),s.imageUrl&&!el(s.imageUrl)&&t.push({field:`products[${e}].imageUrl`,message:"Invalid image URL format",value:s.imageUrl}),s.rating!==void 0&&(s.rating<1||s.rating>5)&&t.push({field:`products[${e}].rating`,message:"Rating must be between 1 and 5",value:s.rating}),t}function el(s){try{return new URL(s),!0}catch{return!1}}function Sc(){const s=[];if(as.config?["associateTag","defaultDisclosure","amazonBaseUrl"].forEach(t=>{as.config[t]||s.push({field:`config.${t}`,message:`Missing required config field: ${t}`})}):s.push({field:"config",message:"Missing config section"}),!as.products||!Array.isArray(as.products))s.push({field:"products",message:"Products must be an array"});else{const e=new Set;as.products.forEach((t,i)=>{t.id&&(e.has(t.id)&&s.push({field:`products[${i}].id`,message:`Duplicate product ID: ${t.id}`,value:t.id}),e.add(t.id)),s.push(...vf(t,i))})}return s}function Tc(){if(!Yi){const s=Sc();s.length>0?(console.error("[AffiliateLoader] Validation errors:",s),Yi={associateTag:"cgttaxtool-20",defaultDisclosure:"As an Amazon Associate, we earn from qualifying purchases.",enableTracking:!0,placeholderImage:"/images/book-placeholder.jpg",amazonBaseUrl:"https://www.amazon.co.uk"}):Yi=as.config}return Yi}function $t(){if(!xa){const s=Sc();if(s.length>0)return console.error("[AffiliateLoader] Validation errors:",s),[];xa=as.products}return[...xa]}function Ac(s){return $t().filter(e=>e.category===s)}function Mc(){return $t().filter(s=>s.featured)}function Ec(s){const e=s.toLowerCase().trim();return e?$t().filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.tags.some(i=>i.toLowerCase().includes(e))||t.author&&t.author.toLowerCase().includes(e)):$t()}function yf(s){if(Tc().enableTracking)try{console.log("[AffiliateLoader] Affiliate click tracked:",{productId:s.id,productTitle:s.title,category:s.category,timestamp:new Date().toISOString()})}catch(t){console.error("[AffiliateLoader] Error tracking affiliate click:",t)}}const ri=({product:s,children:e,className:t="",showDisclosure:i=!0,disclosureText:n,onClick:a,target:r="_blank",rel:l="noopener noreferrer sponsored",...c})=>{const h=m=>{yf(s),a&&a(m)},u=`affiliate-link ${t}`.trim();return o.jsxs(o.Fragment,{children:[o.jsx("a",{href:s.affiliateUrl,className:u,target:r,rel:l,onClick:h,title:`View ${s.title} on Amazon`,"data-product-id":s.id,"data-asin":s.asin,...c,children:e||s.title}),i&&o.jsx("small",{className:"affiliate-disclosure text-muted ms-1",children:n||"*"})]})},Dc=({product:s,layout:e="vertical",showFullDescription:t=!1,showRating:i=!0,showPrice:n=!0,className:a="",imageHeight:r=200,ctaText:l="View on Amazon",compact:c=!1})=>{const h=["affiliate-card","card","h-100",`affiliate-card--${e}`,c&&"affiliate-card--compact",a].filter(Boolean).join(" "),u=t?s.description:s.description.length>120?`${s.description.substring(0,120)}...`:s.description,m=v=>{const x=Math.floor(v),y=v%1!==0,w=5-Math.ceil(v);return o.jsxs("div",{className:"affiliate-rating d-flex align-items-center",children:[[...Array(x)].map((N,S)=>o.jsx("i",{className:"bi bi-star-fill text-warning"},`full-${S}`)),y&&o.jsx("i",{className:"bi bi-star-half text-warning"}),[...Array(w)].map((N,S)=>o.jsx("i",{className:"bi bi-star text-warning"},`empty-${S}`)),o.jsxs("span",{className:"ms-2 text-muted small",children:["(",v,")"]})]})},g=()=>o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"affiliate-card__image",children:o.jsx("img",{src:s.imageUrl,alt:s.title,className:"card-img-top",style:{height:`${r}px`,objectFit:"contain"},loading:"lazy",onError:v=>{const x=v.target;x.src="/images/book-placeholder.jpg"}})}),o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsxs("div",{className:"affiliate-card__content flex-grow-1",children:[o.jsx("h5",{className:"card-title affiliate-product-title",children:s.title}),s.author&&o.jsxs("h6",{className:"card-subtitle mb-2 text-muted",children:["by ",s.author]}),o.jsx("p",{className:"card-text affiliate-product-description",children:u}),i&&s.rating&&o.jsx("div",{className:"mb-2",children:m(s.rating)}),n&&s.price&&o.jsxs("div",{className:"affiliate-price mb-2",children:[o.jsx("span",{className:"h6 text-primary",children:s.price}),s.originalPrice&&s.originalPrice!==s.price&&o.jsx("span",{className:"text-muted text-decoration-line-through ms-2 small",children:s.originalPrice})]})]}),o.jsx("div",{className:"affiliate-card__actions mt-auto",children:o.jsxs(ri,{product:s,className:"btn btn-primary w-100",showDisclosure:!1,children:[o.jsx("i",{className:"bi bi-cart3 me-2"}),l]})})]})]}),b=()=>o.jsxs("div",{className:"row g-0",children:[o.jsx("div",{className:"col-md-4",children:o.jsx("div",{className:"affiliate-card__image",children:o.jsx("img",{src:s.imageUrl,alt:s.title,className:"img-fluid rounded-start h-100",style:{objectFit:"contain"},loading:"lazy",onError:v=>{const x=v.target;x.src="/images/book-placeholder.jpg"}})})}),o.jsx("div",{className:"col-md-8",children:o.jsxs("div",{className:"card-body d-flex flex-column h-100",children:[o.jsxs("div",{className:"affiliate-card__content flex-grow-1",children:[o.jsx("h5",{className:"card-title affiliate-product-title",children:s.title}),s.author&&o.jsxs("h6",{className:"card-subtitle mb-2 text-muted",children:["by ",s.author]}),o.jsx("p",{className:"card-text affiliate-product-description",children:u}),i&&s.rating&&o.jsx("div",{className:"mb-2",children:m(s.rating)}),n&&s.price&&o.jsxs("div",{className:"affiliate-price mb-2",children:[o.jsx("span",{className:"h6 text-primary",children:s.price}),s.originalPrice&&s.originalPrice!==s.price&&o.jsx("span",{className:"text-muted text-decoration-line-through ms-2 small",children:s.originalPrice})]})]}),o.jsx("div",{className:"affiliate-card__actions mt-auto",children:o.jsxs(ri,{product:s,className:"btn btn-primary",showDisclosure:!1,children:[o.jsx("i",{className:"bi bi-cart3 me-2"}),l]})})]})})]});return o.jsxs("div",{className:h,children:[e==="horizontal"?b():g(),s.category&&o.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:o.jsx("span",{className:`badge bg-${wf(s.category)}`,children:s.category})}),s.featured&&o.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:o.jsxs("span",{className:"badge bg-warning text-dark",children:[o.jsx("i",{className:"bi bi-star-fill me-1"}),"Featured"]})})]})};function wf(s){return{tax:"success",trading:"primary",finance:"info",business:"secondary"}[s]||"secondary"}const At=({products:s,category:e,featuredOnly:t=!1,limit:i,className:n="",showCategories:a=!1,showRatings:r=!0,layout:l="vertical",columns:c={xs:1,sm:2,md:2,lg:3,xl:4},searchQuery:h,sortBy:u="default",emptyStateMessage:m="No products found",loading:g=!1})=>{const v=(()=>{if(s)return s;let w=[];switch(t?w=Mc():e?w=Ac(e):w=$t(),h&&h.trim()&&(w=Ec(h)),u){case"rating":w=w.filter(N=>N.rating!==void 0).sort((N,S)=>(S.rating||0)-(N.rating||0));break;case"title":w=w.sort((N,S)=>N.title.localeCompare(S.title));break;case"category":w=w.sort((N,S)=>N.category.localeCompare(S.category));break;case"featured":w=w.sort((N,S)=>N.featured&&!S.featured?-1:!N.featured&&S.featured?1:0);break}return i&&i>0&&(w=w.slice(0,i)),w})(),x=()=>{const w=[];if(typeof c=="object"&&c!==null)c.xs&&w.push(`col-${12/c.xs}`),c.sm&&w.push(`col-sm-${12/c.sm}`),c.md&&w.push(`col-md-${12/c.md}`),c.lg&&w.push(`col-lg-${12/c.lg}`),c.xl&&w.push(`col-xl-${12/c.xl}`);else{const N=c||3;w.push(`col-12 col-md-${12/N}`)}return w.join(" ")},y=["affiliate-grid",n].filter(Boolean).join(" ");return g?o.jsx("div",{className:y,children:o.jsx("div",{className:"row",children:[...Array(typeof c=="object"?c.md||2:c||2)].map((w,N)=>o.jsx("div",{className:x(),children:o.jsxs("div",{className:"card h-100",children:[o.jsx("div",{className:"card-img-top bg-light",style:{height:"200px"},children:o.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"placeholder-glow",children:[o.jsx("h5",{className:"placeholder col-8"}),o.jsx("h6",{className:"placeholder col-6"}),o.jsx("p",{className:"placeholder col-12"}),o.jsx("p",{className:"placeholder col-8"})]})})]})},N))})}):v.length===0?o.jsx("div",{className:y,children:o.jsxs("div",{className:"text-center py-5",children:[o.jsx("i",{className:"bi bi-search display-4 text-muted mb-3"}),o.jsx("h4",{className:"text-muted",children:m}),h&&o.jsxs("p",{className:"text-muted",children:['No products found for "',h,'". Try adjusting your search terms.']}),e&&o.jsxs("p",{className:"text-muted",children:['No products found in the "',e,'" category.']})]})}):o.jsxs("div",{className:y,children:[o.jsxs("div",{className:"affiliate-grid__header mb-3 d-flex justify-content-between align-items-center",children:[o.jsxs("small",{className:"text-muted",children:["Showing ",v.length," product",v.length!==1?"s":"",e&&` in ${e}`,h&&` for "${h}"`]}),a&&o.jsx("div",{className:"affiliate-grid__categories",children:Array.from(new Set(v.map(w=>w.category))).map(w=>o.jsx("span",{className:`badge bg-${jf(w)} me-1`,children:w},w))})]}),o.jsx("div",{className:"row g-4",children:v.map(w=>o.jsx("div",{className:x(),children:o.jsx(Dc,{product:w,layout:l,showRating:r,className:"h-100"})},w.id))}),i&&$t().length>i&&o.jsx("div",{className:"text-center mt-4",children:o.jsxs("p",{className:"text-muted",children:["Showing ",i," of ",$t().length," products"]})})]})};function jf(s){return{tax:"success",trading:"primary",finance:"info",business:"secondary"}[s]||"secondary"}const hn=({text:s,style:e="inline",className:t="",showIcon:i=!0})=>{const n=Tc(),a=s||n.defaultDisclosure,r=()=>{const m=["affiliate-disclosure"];switch(e){case"banner":return[...m,"alert","alert-info","mb-3","d-flex","align-items-center",t].filter(Boolean).join(" ");case"footer":return[...m,"text-muted","small","border-top","pt-3","mt-4",t].filter(Boolean).join(" ");case"inline":default:return[...m,"text-muted","small",t].filter(Boolean).join(" ")}},l=()=>{if(!i)return null;switch(e){case"banner":return o.jsx("i",{className:"bi bi-info-circle-fill me-2 text-info"});case"footer":return o.jsx("i",{className:"bi bi-asterisk me-1"});case"inline":default:return o.jsx("i",{className:"bi bi-asterisk me-1"})}},c=()=>o.jsxs("div",{className:r(),role:"complementary","aria-label":"Affiliate Disclosure",children:[l(),o.jsxs("div",{children:[o.jsx("strong",{className:"me-2",children:"Disclosure:"}),a]})]}),h=()=>o.jsx("div",{className:r(),role:"contentinfo","aria-label":"Affiliate Disclosure",children:o.jsxs("div",{className:"d-flex align-items-start",children:[l(),o.jsxs("div",{children:[o.jsx("strong",{className:"d-block mb-1",children:"Affiliate Disclosure"}),o.jsx("p",{className:"mb-0",children:a}),o.jsx("p",{className:"mb-0 mt-2",children:"This helps support our free educational content. Thank you for your support!"})]})]})}),u=()=>o.jsxs("span",{className:r(),title:"Affiliate Disclosure",children:[l(),a]});switch(e){case"banner":return c();case"footer":return h();case"inline":default:return u()}},kf=({children:s,showSidebar:e=!0,className:t=""})=>{const[i,n]=z.useState(!1),a=()=>{n(!i)},r=()=>{n(!1)};return z.useEffect(()=>{const l=c=>{const h=c.target;i&&!h.closest(".navbar")&&n(!1)};if(i)return document.addEventListener("click",l),()=>document.removeEventListener("click",l)},[i]),o.jsxs("div",{className:`layout ${t}`,children:[o.jsx("header",{className:"header-section",children:o.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-white shadow-sm",children:o.jsxs("div",{className:"container-fluid",children:[o.jsxs("a",{className:"navbar-brand d-flex align-items-center",href:"/",children:[o.jsx("i",{className:"bi bi-calculator-fill me-2 text-primary"}),o.jsx("span",{className:"fw-bold",children:"UK Tax Calculator"})]}),o.jsx("button",{className:"navbar-toggler",type:"button",onClick:a,"aria-controls":"navbarNav","aria-expanded":i,"aria-label":"Toggle navigation",children:o.jsx("span",{className:"navbar-toggler-icon"})}),o.jsxs("div",{className:`collapse navbar-collapse ${i?"show":""}`,id:"navbarNav",children:[o.jsxs("ul",{className:"navbar-nav me-auto",children:[o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#calculator",onClick:r,children:"Calculator"})}),o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#about",onClick:r,children:"About"})}),o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#help",onClick:r,children:"Help"})}),o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#guide",onClick:r,children:"CGT Guide"})}),o.jsx("li",{className:"nav-item",children:o.jsx("a",{className:"nav-link",href:"#blog",onClick:r,children:"Blog"})}),o.jsx("li",{className:"nav-item",children:o.jsxs("a",{className:"nav-link",href:"#affiliate-demo",onClick:r,children:[o.jsx("span",{className:"badge bg-primary me-1",children:"New"}),"Resources"]})})]}),o.jsx("div",{className:"d-flex",children:o.jsx("span",{className:"navbar-text small text-muted",children:"Free UK Tax Calculator"})})]})]})})}),o.jsx("main",{className:"main-content",children:o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:`col ${e?"col-lg-9":"col-12"}`,children:o.jsx("div",{className:"content-wrapper py-4",children:s})}),e&&o.jsx("div",{className:"col-lg-3 d-none d-lg-block",children:o.jsx("aside",{className:"sidebar py-4",children:o.jsxs("div",{className:"sidebar-content mt-4",children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"Need Help?"}),o.jsx("p",{className:"card-text small",children:"Check our comprehensive guide for UK capital gains tax calculations."}),o.jsx("a",{href:"/help",className:"btn btn-sm btn-outline-primary",children:"Get Help"})]})}),o.jsx("div",{className:"card mt-3",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"About This Tool"}),o.jsx("p",{className:"card-text small",children:"Free, accurate UK tax calculations for Interactive Brokers users."}),o.jsx("a",{href:"/about",className:"btn btn-sm btn-outline-secondary",children:"Learn More"})]})})]})})})]})})}),o.jsx("footer",{className:"footer bg-dark text-light py-4 mt-5",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("h6",{children:"UK Tax Calculator"}),o.jsx("p",{className:"small mb-0",children:"Free capital gains tax calculations for UK residents."})]}),o.jsxs("div",{className:"col-md-6 text-md-end",children:[o.jsxs("div",{className:"footer-links",children:[o.jsx("a",{href:"/privacy",className:"text-light text-decoration-none me-3",children:"Privacy"}),o.jsx("a",{href:"/terms",className:"text-light text-decoration-none me-3",children:"Terms"}),o.jsx("a",{href:"/about",className:"text-light text-decoration-none",children:"About"})]}),o.jsx("p",{className:"small mt-2 mb-0 text-muted",children:"¬© 2024 UK Tax Calculator. Educational purposes only."})]})]}),o.jsx("div",{className:"row mt-3 pt-3 border-top border-secondary",children:o.jsx("div",{className:"col-12",children:o.jsx(hn,{style:"footer",className:"text-light"})})})]})})]})},Ge=({children:s,className:e="",title:t,subtitle:i,image:n,imageAlt:a="",bordered:r=!1,hoverable:l=!1,variant:c="default",header:h,footer:u,actions:m,centered:g=!1,...b})=>{const v=["card",r&&"border",l&&"card-hoverable",c!=="default"&&`border-${c}`,e].filter(Boolean).join(" "),x=["card-body",g&&"text-center"].filter(Boolean).join(" "),y=t||h,w=u||m;return o.jsxs("div",{className:v,...b,children:[n&&o.jsx("img",{src:n,alt:a,className:"card-img-top"}),y&&o.jsx("div",{className:"card-header",children:h||o.jsxs(o.Fragment,{children:[t&&o.jsx("h5",{className:"card-title",children:t}),i&&o.jsx("h6",{className:"card-subtitle mb-2 text-muted",children:i})]})}),o.jsx("div",{className:x,children:s}),w&&o.jsxs("div",{className:"card-footer",children:[u,m]})]})},Nf=()=>{const s=()=>{window.location.hash="calculator"},e=()=>{window.location.hash="blog"},t=()=>{window.location.hash="guide"},i=[{id:"taxtopia-book",title:"Taxtopia: How I Fell in Love with Tax",description:"Essential reading for UK taxpayers - learn how the tax system really works",asin:"B01MXDQ6Q7",price:"¬£8.99",rating:4.5,category:"tax",tags:["tax","education","uk"],affiliateUrl:"https://amzn.to/3HxSIlP",imageUrl:"/api/placeholder/200/280"},{id:"interactive-brokers-guide",title:"The Complete Guide to Interactive Brokers",description:"Master IBKR platform for UK investors with tax-efficient strategies",asin:"B08XQJK2N1",price:"¬£12.99",rating:4.7,category:"trading",tags:["ibkr","trading","investment"],affiliateUrl:"https://amzn.to/4myUMZI",imageUrl:"/api/placeholder/200/280"},{id:"tax-free-income",title:"Tax-Free Income for Life",description:"Proven strategies to minimize your UK tax burden legally",asin:"B07QG8K3N2",price:"¬£9.99",rating:4.6,category:"tax",tags:["tax","strategy","planning"],affiliateUrl:"https://amzn.to/3YvW2tX",imageUrl:"/api/placeholder/200/280"}];return o.jsxs("div",{className:"landing-page",children:[o.jsxs("section",{className:"hero-section py-5 mb-5",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",position:"relative",overflow:"hidden"},children:[o.jsx("div",{className:"container",children:o.jsxs("div",{className:"row align-items-center min-vh-75",children:[o.jsxs("div",{className:"col-lg-7",children:[o.jsxs("h1",{className:"display-3 fw-bold mb-4",children:["UK Tax Calculator for",o.jsx("span",{className:"d-block text-warning",children:"Interactive Brokers"})]}),o.jsx("p",{className:"lead mb-4 fs-5",children:"Calculate your UK capital gains tax, dividend income, and portfolio performance from IBKR transactions. HMRC compliant calculations with detailed reporting."}),o.jsxs("div",{className:"d-flex gap-3 mb-4 flex-wrap",children:[o.jsxs("button",{onClick:s,className:"btn btn-light btn-lg px-4 py-3 fw-semibold",children:[o.jsx("i",{className:"fas fa-calculator me-2"}),"Start Calculation"]}),o.jsxs("button",{onClick:t,className:"btn btn-outline-light btn-lg px-4 py-3",children:[o.jsx("i",{className:"fas fa-book me-2"}),"CGT Guide"]})]}),o.jsxs("div",{className:"d-flex gap-4 text-light small opacity-90 flex-wrap",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"fas fa-shield-alt me-2"}),"HMRC Compliant"]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"fas fa-users me-2"}),"10k+ Users"]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"fas fa-star me-2"}),"Free to Use"]})]})]}),o.jsx("div",{className:"col-lg-5",children:o.jsx(Ge,{className:"bg-white bg-opacity-10 backdrop-blur border-0 text-white",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsxs("h5",{className:"card-title text-warning mb-3",children:[o.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),"CGT Rate Changes 2024-25"]}),o.jsx("p",{className:"card-text mb-3",children:"Major capital gains tax increases from 30 October 2024:"}),o.jsxs("div",{className:"row text-center mb-3",children:[o.jsxs("div",{className:"col-6",children:[o.jsx("small",{className:"text-light",children:"Before Oct 30"}),o.jsx("div",{className:"fw-bold",children:"10% | 20%"})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("small",{className:"text-light",children:"From Oct 30"}),o.jsx("div",{className:"fw-bold text-warning",children:"18% | 24%"})]})]}),o.jsx("button",{onClick:t,className:"btn btn-warning btn-sm",children:"Read Full Guide"})]})})})]})}),o.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})]}),o.jsx("section",{className:"py-5 mb-5",children:o.jsxs("div",{className:"container",children:[o.jsx("div",{className:"row text-center mb-5",children:o.jsxs("div",{className:"col-lg-8 mx-auto",children:[o.jsx("h2",{className:"display-5 fw-bold mb-3",children:"Why Choose Our Tax Calculator?"}),o.jsx("p",{className:"lead text-muted",children:"Comprehensive UK tax calculations designed specifically for Interactive Brokers users"})]})}),o.jsxs("div",{className:"row g-4",children:[o.jsx("div",{className:"col-md-4",children:o.jsx(Ge,{className:"feature-card h-100 border-0 shadow-sm",children:o.jsxs("div",{className:"card-body text-center p-4",children:[o.jsx("div",{className:"bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3",style:{width:"70px",height:"70px"},children:o.jsx("i",{className:"fas fa-calculator fa-xl"})}),o.jsx("h5",{className:"card-title fw-bold mb-3",children:"HMRC Compliant"}),o.jsx("p",{className:"card-text text-muted",children:"Accurate UK tax calculations following HMRC guidelines for capital gains, dividends, and currency gains."})]})})}),o.jsx("div",{className:"col-md-4",children:o.jsx(Ge,{className:"feature-card h-100 border-0 shadow-sm",children:o.jsxs("div",{className:"card-body text-center p-4",children:[o.jsx("div",{className:"bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3",style:{width:"70px",height:"70px"},children:o.jsx("i",{className:"fas fa-chart-line fa-xl"})}),o.jsx("h5",{className:"card-title fw-bold mb-3",children:"Portfolio Analytics"}),o.jsx("p",{className:"card-text text-muted",children:"Comprehensive portfolio analysis with performance metrics, market breakdown, and current holdings."})]})})}),o.jsx("div",{className:"col-md-4",children:o.jsx(Ge,{className:"feature-card h-100 border-0 shadow-sm",children:o.jsxs("div",{className:"card-body text-center p-4",children:[o.jsx("div",{className:"bg-info text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3",style:{width:"70px",height:"70px"},children:o.jsx("i",{className:"fas fa-file-alt fa-xl"})}),o.jsx("h5",{className:"card-title fw-bold mb-3",children:"Detailed Reports"}),o.jsx("p",{className:"card-text text-muted",children:"Generate comprehensive reports in multiple formats for tax filing and portfolio review."})]})})})]})]})}),o.jsx("section",{className:"py-5 mb-5 bg-light",children:o.jsxs("div",{className:"container",children:[o.jsx("div",{className:"row text-center mb-5",children:o.jsxs("div",{className:"col-lg-8 mx-auto",children:[o.jsx("h2",{className:"display-5 fw-bold mb-3",children:"How It Works"}),o.jsx("p",{className:"lead text-muted",children:"Get your tax calculations done in 3 simple steps"})]})}),o.jsxs("div",{className:"row g-4",children:[o.jsx("div",{className:"col-md-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3 fw-bold fs-3",style:{width:"80px",height:"80px"},children:"1"}),o.jsx("h5",{className:"fw-bold mb-3",children:"Upload Your Data"}),o.jsx("p",{className:"text-muted",children:"Upload your IBKR activity statement or manually enter transaction data"})]})}),o.jsx("div",{className:"col-md-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3 fw-bold fs-3",style:{width:"80px",height:"80px"},children:"2"}),o.jsx("h5",{className:"fw-bold mb-3",children:"Automatic Calculation"}),o.jsx("p",{className:"text-muted",children:"Our system automatically calculates CGT, dividend tax, and currency gains"})]})}),o.jsx("div",{className:"col-md-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-info text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3 fw-bold fs-3",style:{width:"80px",height:"80px"},children:"3"}),o.jsx("h5",{className:"fw-bold mb-3",children:"Get Your Report"}),o.jsx("p",{className:"text-muted",children:"Download comprehensive reports ready for HMRC submission"})]})})]})]})}),o.jsx("section",{className:"py-5 mb-5",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"row align-items-center mb-5",children:[o.jsxs("div",{className:"col-lg-8",children:[o.jsx("h2",{className:"display-5 fw-bold mb-3",children:"UK Tax & Investment Blog"}),o.jsx("p",{className:"lead text-muted",children:"Expert insights, guides, and updates on UK tax policy and investment strategies"})]}),o.jsx("div",{className:"col-lg-4 text-lg-end",children:o.jsxs("button",{onClick:e,className:"btn btn-outline-primary btn-lg",children:["View All Articles",o.jsx("i",{className:"fas fa-arrow-right ms-2"})]})})]}),o.jsxs("div",{className:"row g-4",children:[o.jsx("div",{className:"col-md-4",children:o.jsx(Ge,{className:"h-100 border-0 shadow-sm",children:o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"badge bg-primary mb-3",children:"Tax Guide"}),o.jsx("h5",{className:"card-title",children:"Understanding UK Capital Gains Tax"}),o.jsx("p",{className:"card-text text-muted",children:"Complete guide to CGT calculations, allowances, and optimization strategies for 2024-25."}),o.jsx("button",{onClick:()=>window.location.hash="blog/post/understanding-uk-capital-gains-tax",className:"btn btn-sm btn-outline-primary",children:"Read More"})]})})}),o.jsx("div",{className:"col-md-4",children:o.jsx(Ge,{className:"h-100 border-0 shadow-sm",children:o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"badge bg-success mb-3",children:"Strategy"}),o.jsx("h5",{className:"card-title",children:"Tax-Efficient Investment Strategies"}),o.jsx("p",{className:"card-text text-muted",children:"Learn how to minimize your tax burden while maximizing investment returns."}),o.jsx("button",{onClick:()=>window.location.hash="blog/post/tax-efficient-investment-strategies",className:"btn btn-sm btn-outline-primary",children:"Read More"})]})})}),o.jsx("div",{className:"col-md-4",children:o.jsx(Ge,{className:"h-100 border-0 shadow-sm",children:o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"badge bg-info mb-3",children:"How-To"}),o.jsx("h5",{className:"card-title",children:"Using Interactive Brokers Data"}),o.jsx("p",{className:"card-text text-muted",children:"Step-by-step guide to extracting and processing IBKR data for UK tax calculations."}),o.jsx("button",{onClick:()=>window.location.hash="blog/post/using-interactive-brokers-data",className:"btn btn-sm btn-outline-primary",children:"Read More"})]})})})]})]})}),o.jsx("section",{className:"py-5 mb-5 bg-light",children:o.jsxs("div",{className:"container",children:[o.jsx("div",{className:"row text-center mb-5",children:o.jsxs("div",{className:"col-lg-8 mx-auto",children:[o.jsx("h2",{className:"display-5 fw-bold mb-3",children:"Recommended Resources"}),o.jsx("p",{className:"lead text-muted",children:"Essential books and tools for UK investors and taxpayers"})]})}),o.jsx(At,{products:i,columns:{xs:1,sm:2,md:3},showRatings:!0,showCategories:!0,layout:"vertical",className:"justify-content-center"})]})}),o.jsx("section",{className:"py-5 text-center",style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)"},children:o.jsx("div",{className:"container",children:o.jsx("div",{className:"row justify-content-center",children:o.jsxs("div",{className:"col-lg-8",children:[o.jsx("h2",{className:"display-5 fw-bold mb-4",children:"Ready to Calculate Your UK Taxes?"}),o.jsx("p",{className:"lead text-muted mb-4",children:"Join thousands of UK investors who trust our platform for accurate tax calculations"}),o.jsxs("div",{className:"d-flex gap-3 justify-content-center flex-wrap",children:[o.jsxs("button",{onClick:s,className:"btn btn-primary btn-lg px-5 py-3",children:[o.jsx("i",{className:"fas fa-calculator me-2"}),"Start Free Calculation"]}),o.jsxs("button",{onClick:e,className:"btn btn-outline-primary btn-lg px-5 py-3",children:[o.jsx("i",{className:"fas fa-book-open me-2"}),"Read Our Guides"]})]}),o.jsxs("div",{className:"mt-4 small text-muted",children:[o.jsx("i",{className:"fas fa-lock me-1"}),"Your data is processed securely and never stored permanently"]})]})})})}),o.jsxs("section",{className:"d-none",children:[o.jsx("h3",{children:"UK Tax Calculator for Interactive Brokers Users"}),o.jsx("p",{children:"Calculate capital gains tax, dividend tax, and currency gains for UK investors using Interactive Brokers. Our HMRC-compliant calculator processes IBKR activity statements to generate accurate tax calculations for your Self Assessment return."}),o.jsx("h4",{children:"Features:"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Capital Gains Tax calculation with Section 104 pooling"}),o.jsx("li",{children:"Dividend income tax calculation"}),o.jsx("li",{children:"Currency gain/loss calculation"}),o.jsx("li",{children:"Portfolio performance analysis"}),o.jsx("li",{children:"HMRC-ready reports"}),o.jsx("li",{children:"Support for stocks, ETFs, and other securities"})]}),o.jsx("h4",{children:"Keywords:"}),o.jsx("p",{children:"UK tax calculator, Interactive Brokers tax, IBKR tax, capital gains tax calculator, dividend tax calculator, CGT calculator, HMRC compliance, UK investment tax, Section 104 pooling, Self Assessment, tax return, portfolio analysis"})]})]})};async function Cf({file:s,taxYear:e,analysisType:t}){const i=window.location.origin+"/prod",n=new FormData;n.append("file",s),n.append("tax_year",e),n.append("analysis_type",t);const a=await fetch(i+"/calculate",{method:"POST",body:n});if(!a.ok){let l="HTTP "+a.status;try{const c=await a.json();c.error&&(l=c.error)}catch{}throw new Error(l)}return{raw:await a.json()}}const Mt=({variant:s="info",title:e,icon:t,dismissible:i=!1,onDismiss:n,children:a,className:r="",...l})=>{const c=["alert",`alert-${s}`,i&&"alert-dismissible",r].filter(Boolean).join(" ");return o.jsxs("div",{className:c,role:"alert",...l,children:[e&&o.jsxs("h4",{className:"alert-heading",children:[t&&o.jsx("i",{className:`fas ${t} me-2`}),e]}),!e&&t&&o.jsx("i",{className:`fas ${t} me-2`}),a,i&&o.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:n})]})};Mt.displayName="Alert";const xn=({size:s="md",variant:e="border",color:t,text:i="Loading...",label:n,centered:a=!1,inline:r=!1,className:l="",...c})=>{const h=[e==="border"?"spinner-border":"spinner-grow",s==="sm"?e==="border"?"spinner-border-sm":"spinner-grow-sm":"",t?`text-${t}`:"",l].filter(Boolean).join(" "),u=[a?"d-flex justify-content-center align-items-center":"",r?"d-inline-flex":""].filter(Boolean).join(" "),m=s==="lg"?{width:"3rem",height:"3rem"}:{},g=o.jsx("div",{...c,className:h,role:"status","aria-hidden":"true",style:{...m,...c.style},children:o.jsx("span",{className:"visually-hidden",children:i===""?"":i||"Loading..."})});return u?o.jsxs("div",{className:u,children:[n&&o.jsx("span",{className:"me-2",children:n}),g]}):n?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"me-2",children:n}),g]}):g},Da=Ps.forwardRef(({options:s=[],size:e="md",isValid:t,placeholder:i,className:n="",disabled:a,required:r,multiple:l,...c},h)=>{const u=["form-select",e==="sm"&&"form-select-sm",e==="lg"&&"form-select-lg",t===!0&&"is-valid",t===!1&&"is-invalid",n].filter(Boolean).join(" "),m={};return t!==void 0&&(m["aria-invalid"]=!t),o.jsxs("select",{ref:h,className:u,disabled:a,required:r,multiple:l,...m,...c,children:[i&&o.jsx("option",{value:"",disabled:!0,children:i}),s.map((g,b)=>o.jsx("option",{value:g.value,disabled:g.disabled,children:g.label},`${g.value}-${b}`))]})});Da.displayName="Select";const Sf=()=>o.jsxs("div",{className:"ibkr-guide",children:[o.jsx("h4",{children:"How to Export Data from Interactive Brokers"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"üèÜ Recommended: QFX Export (Most Comprehensive)"}),o.jsx("p",{className:"mb-3",children:"QFX files provide the most complete data for UK tax calculations:"}),o.jsxs("ol",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Navigate to Reports"}),":",o.jsxs("ul",{children:[o.jsxs("li",{children:["From the main menu, select ",o.jsx("strong",{children:"Performance & Reports"})]}),o.jsxs("li",{children:["Choose ",o.jsx("strong",{children:"Statements"})," from the dropdown"]})]})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Select Third-Party Downloads"}),":",o.jsxs("ul",{children:[o.jsxs("li",{children:["Look for the ",o.jsx("strong",{children:"Third-Party Downloads"})," section"]}),o.jsx("li",{children:"Click to access export options"})]})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Choose Quicken Format"}),":",o.jsxs("ul",{children:[o.jsxs("li",{children:["Select ",o.jsx("strong",{children:"Quicken"})," as the export format"]}),o.jsx("li",{children:"This generates a comprehensive QFX file"})]})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Set Date Range"}),":",o.jsx("ul",{children:o.jsx("li",{children:"Choose your tax year dates (e.g., 06/04/2023 - 05/04/2024)"})})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Generate and Download"}),":",o.jsxs("ul",{children:[o.jsxs("li",{children:["Click ",o.jsx("strong",{children:"Generate"})," to create the QFX file"]}),o.jsx("li",{children:"Download when ready"})]})]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{children:"üîÑ Alternative: CSV Export via Flex Queries"}),o.jsx("p",{className:"mb-3",children:"For CSV format or when QFX encounters issues:"}),o.jsxs("ol",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Login to Interactive Brokers"}),":",o.jsx("ul",{children:o.jsxs("li",{children:["Access your ",o.jsx("a",{href:"https://www.interactivebrokers.com.au/sso/Login",target:"_blank",rel:"noopener noreferrer",children:"Interactive Brokers account"})]})})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Navigate to Reports"}),":",o.jsxs("ul",{children:[o.jsxs("li",{children:["Click on the ",o.jsx("strong",{children:"Reports"})," tab"]}),o.jsxs("li",{children:["Select ",o.jsx("strong",{children:"Flex Queries"})]})]})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Create Activity Flex Query"}),":",o.jsx("ul",{children:o.jsxs("li",{children:["Click ",o.jsx("strong",{children:"'+'"})," next to ",o.jsx("strong",{children:"Activity Flex Query"})]})})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Select Data Sections"}),":",o.jsxs("ul",{children:[o.jsxs("li",{children:["Select ",o.jsx("strong",{children:"Trades"})," under ",o.jsx("strong",{children:"Sections"})]}),o.jsxs("li",{children:["Select ",o.jsx("strong",{children:"Executions"})," on the pop-up window"]})]})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Configure Fields"}),":",o.jsxs("ul",{children:[o.jsxs("li",{children:["Tick ",o.jsx("strong",{children:"SELECT ALL"})," to include all available fields"]}),o.jsxs("li",{children:["Click ",o.jsx("strong",{children:"Save"})]})]})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Name Your Query"}),":",o.jsx("ul",{children:o.jsxs("li",{children:["Enter a ",o.jsx("strong",{children:"Query Name"}),' (e.g., "Tax Calculator Export")']})})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Set Date Format"}),":",o.jsx("ul",{children:o.jsxs("li",{children:["Change ",o.jsx("strong",{children:"Date Format"})," to ",o.jsx("strong",{children:"mm/dd/yyyy"})," under ",o.jsx("strong",{children:"General Configuration"})]})})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Create and Run Query"}),":",o.jsxs("ul",{children:[o.jsxs("li",{children:["Click ",o.jsx("strong",{children:"Create"})," to save your query"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Run"})," the Activity Flex Query"]})]})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Set Date Range"}),":",o.jsxs("ul",{children:[o.jsxs("li",{children:["Under ",o.jsx("strong",{children:"Period"}),", select ",o.jsx("strong",{children:"Custom Date Range"})]}),o.jsx("li",{children:"Choose dates to cover all your trades"})]})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Download CSV File"}),":",o.jsxs("ul",{children:[o.jsxs("li",{children:["Set ",o.jsx("strong",{children:"Format"})," as ",o.jsx("strong",{children:"CSV"})]}),o.jsxs("li",{children:["Click ",o.jsx("strong",{children:"Run"})," and download your trades file"]})]})]})]})]}),o.jsxs("div",{className:"alert alert-info mt-3",children:[o.jsx("strong",{children:"Important:"})," QFX files contain the most comprehensive data including corporate actions, dividends, and complete fee structures. Use CSV only if QFX import encounters issues."]})]}),Tf=()=>{console.log("[CalculatorPage] Rendering component");const{state:s,dispatch:e}=Cc(),[t,i]=z.useState(null),[n,a]=z.useState("2024-2025"),[r,l]=z.useState("both"),[c,h]=z.useState(!1),[u,m]=z.useState({}),g=()=>{const v={};return t?t.name.match(/\.(csv|qfx)$/i)?t.size>10*1024*1024&&(v.file="File size must be less than 10MB"):v.file="Please select a valid CSV or QFX file":v.file="Please select a file to upload",n||(v.taxYear="Please select a tax year"),r||(v.analysisType="Please select an analysis type"),m(v),Object.keys(v).length===0},b=async v=>{if(v.preventDefault(),!!g()){e({type:"SUBMIT_START"});try{const x=new FormData;x.append("file",t),x.append("tax_year",n),x.append("analysis_type",r);const y=await Cf({file:t,taxYear:n,analysisType:r});e({type:"SUBMIT_SUCCESS",payload:y}),window.location.hash="results"}catch(x){console.error("[CalculatorPage] Submission error:",x),e({type:"SUBMIT_ERROR",payload:x.message||"An error occurred during calculation"})}}};return o.jsx("div",{className:"calculator-page",children:o.jsxs("div",{className:"calculator-content",children:[o.jsx("section",{className:"calculator-hero",children:o.jsx("div",{className:"container",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-lg-8 text-center",children:o.jsxs("div",{className:"calculator-hero-content fade-in-up",children:[o.jsx("h1",{className:"mb-4",children:"UK Tax Calculator"}),o.jsx("p",{className:"lead mb-4",children:"Calculate your Capital Gains Tax for informational purposes. This tool follows HMRC guidelines but results are for reference only."}),o.jsx("div",{className:"disclaimer-banner",children:o.jsxs("div",{className:"alert alert-warning border-0 mb-4",children:[o.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),o.jsx("strong",{children:"Important:"})," This calculator is for informational purposes only. You are solely responsible for verifying calculations and submitting accurate information to HMRC. Use at your own risk."]})}),o.jsxs("div",{className:"trust-indicators",children:[o.jsxs("div",{className:"trust-indicator",children:[o.jsx("i",{className:"bi bi-info-circle trust-icon"}),o.jsx("span",{children:"Educational Tool"})]}),o.jsxs("div",{className:"trust-indicator",children:[o.jsx("i",{className:"bi bi-lock-fill trust-icon"}),o.jsx("span",{children:"Private & Secure"})]}),o.jsxs("div",{className:"trust-indicator",children:[o.jsx("i",{className:"bi bi-code-slash trust-icon"}),o.jsx("span",{children:"Open Source"})]}),o.jsxs("div",{className:"trust-indicator",children:[o.jsx("i",{className:"bi bi-clock-fill trust-icon"}),o.jsx("span",{children:"Instant Results"})]})]})]})})})})}),o.jsx("div",{className:"container",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-lg-8 col-xl-7",children:o.jsxs("div",{className:"calculator-form-card p-4 p-md-5 mb-5",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h2",{className:"h4 mb-2",children:"Upload Your Portfolio Data"}),o.jsx("p",{className:"text-muted",children:"Get started by uploading your transaction file"})]}),o.jsxs("form",{onSubmit:b,children:[o.jsxs("div",{className:"modern-form-field",children:[o.jsxs("label",{className:"modern-form-label",children:[o.jsx("span",{className:"emoji",children:"üìÅ"}),"Upload Your Portfolio File *"]}),u.file&&o.jsx("div",{className:"alert alert-danger py-2 px-3 mb-3",children:o.jsx("small",{children:u.file})}),o.jsxs("div",{className:"modern-file-upload",onClick:()=>{const v=document.createElement("input");v.type="file",v.accept=".csv,.qfx,.ofx",v.onchange=x=>{var w;const y=x.target;(w=y.files)!=null&&w[0]&&i(y.files[0])},v.click()},children:[o.jsx("div",{className:"file-upload-icon",children:o.jsx("i",{className:"bi bi-cloud-upload"})}),o.jsx("div",{className:"file-upload-text",children:t?"Change File":"Choose File to Upload"}),o.jsx("div",{className:"file-upload-subtext",children:"CSV or QFX files from IBKR, HL, Sharesight, etc. (Max 10MB)"}),o.jsx("button",{className:"btn btn-link btn-sm mt-2",onClick:v=>{v.stopPropagation(),h(!c)},children:"How to get my QFX file from IBKR?"})]}),c&&o.jsx(Sf,{}),t&&o.jsxs("div",{className:"selected-file-display",children:[o.jsx("div",{className:"file-icon",children:o.jsx("i",{className:"bi bi-file-earmark-text"})}),o.jsxs("div",{className:"flex-grow-1",children:[o.jsx("div",{className:"fw-semibold",children:t.name}),o.jsxs("div",{className:"text-muted small",children:[(t.size/1024).toFixed(1)," KB ‚Ä¢ ",t.type||"Unknown type"]})]}),o.jsx("div",{className:"text-success",children:o.jsx("i",{className:"bi bi-check-circle-fill"})})]})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"modern-form-field",children:[o.jsxs("label",{className:"modern-form-label",children:[o.jsx("span",{className:"emoji",children:"üìÖ"}),"Tax Year *"]}),u.taxYear&&o.jsx("div",{className:"alert alert-danger py-2 px-3 mb-2",children:o.jsx("small",{children:u.taxYear})}),o.jsx(Da,{value:n,onChange:v=>a(v.target.value),disabled:s.status==="submitting",className:"modern-select",options:[{value:"2024-2025",label:"2024-2025"},{value:"2023-2024",label:"2023-2024"},{value:"2022-2023",label:"2022-2023"},{value:"2021-2022",label:"2021-2022"}]})]})}),o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"modern-form-field",children:[o.jsxs("label",{className:"modern-form-label",children:[o.jsx("span",{className:"emoji",children:"üìä"}),"Analysis Type *"]}),u.analysisType&&o.jsx("div",{className:"alert alert-danger py-2 px-3 mb-2",children:o.jsx("small",{children:u.analysisType})}),o.jsx(Da,{value:r,onChange:v=>l(v.target.value),disabled:s.status==="submitting",className:"modern-select",options:[{value:"both",label:"Tax & Portfolio Analysis"},{value:"tax",label:"Tax Analysis Only"},{value:"portfolio",label:"Portfolio Analysis Only"}]})]})})]}),o.jsxs("div",{className:"text-center mt-4",children:[o.jsx("button",{type:"submit",className:"calculator-submit-btn w-100",disabled:s.status==="submitting"||!t,children:s.status==="submitting"?o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"bi bi-arrow-repeat me-2 pulse"}),"Calculating Your Tax..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"bi bi-calculator me-2"}),"Calculate My Tax & Portfolio"]})}),o.jsxs("div",{className:"mt-3",children:[o.jsxs("small",{className:"text-muted",children:[o.jsx("i",{className:"bi bi-shield-check me-1"}),"Files processed securely & deleted immediately - no data retained"]}),o.jsx("br",{}),o.jsxs("small",{className:"text-warning",children:[o.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),"For educational purposes only - verify all results independently"]})]})]})]}),s.error&&o.jsxs(Mt,{variant:"danger",className:"mt-4",children:[o.jsx("strong",{children:"Error:"})," ",s.error]}),s.status==="submitting"&&!s.error&&o.jsxs("div",{className:"text-center mt-4",children:[o.jsx(xn,{size:"lg"}),o.jsx("p",{className:"mt-2 text-muted",children:"Analyzing your portfolio..."})]}),s.result&&o.jsxs(Mt,{variant:"success",className:"mt-4",children:[o.jsx("strong",{children:"Success!"})," Calculation completed.",o.jsx("a",{href:"#results",className:"alert-link ms-2",children:"View Results ‚Üí"})]})]})})})}),o.jsx("section",{className:"features-section",children:o.jsxs("div",{className:"container",children:[o.jsx("div",{className:"row justify-content-center mb-5",children:o.jsxs("div",{className:"col-lg-8 text-center",children:[o.jsx("h2",{className:"h3 mb-3",children:"Calculator Features"}),o.jsx("p",{className:"text-muted",children:"Free educational tool to help you understand UK tax calculations"})]})}),o.jsxs("div",{className:"row g-4 mb-5",children:[o.jsx("div",{className:"col-md-6 col-lg-3",children:o.jsxs("div",{className:"feature-card text-center",children:[o.jsx("div",{className:"feature-icon mx-auto",children:o.jsx("i",{className:"bi bi-shield-check"})}),o.jsx("h3",{className:"feature-title",children:"HMRC Guidelines"}),o.jsx("p",{className:"feature-description",children:"Follows HMRC guidelines for educational purposes. Always verify calculations independently"})]})}),o.jsx("div",{className:"col-md-6 col-lg-3",children:o.jsxs("div",{className:"feature-card text-center",children:[o.jsx("div",{className:"feature-icon mx-auto",children:o.jsx("i",{className:"bi bi-lightning-charge"})}),o.jsx("h3",{className:"feature-title",children:"Instant Results"}),o.jsx("p",{className:"feature-description",children:"Get detailed tax calculations and portfolio analysis in seconds, not hours"})]})}),o.jsx("div",{className:"col-md-6 col-lg-3",children:o.jsxs("div",{className:"feature-card text-center",children:[o.jsx("div",{className:"feature-icon mx-auto",children:o.jsx("i",{className:"bi bi-lock-fill"})}),o.jsx("h3",{className:"feature-title",children:"Data Privacy"}),o.jsx("p",{className:"feature-description",children:"Files processed securely on AWS and immediately deleted. No personal data is stored or retained"})]})}),o.jsx("div",{className:"col-md-6 col-lg-3",children:o.jsxs("div",{className:"feature-card text-center",children:[o.jsx("div",{className:"feature-icon mx-auto",children:o.jsx("i",{className:"bi bi-file-earmark-text"})}),o.jsx("h3",{className:"feature-title",children:"Multiple Formats"}),o.jsx("p",{className:"feature-description",children:"Support for IBKR QFX files, Sharesight CSV, and other major broker formats"})]})})]}),o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-lg-10",children:o.jsx("div",{className:"disclaimer-section",children:o.jsxs("div",{className:"alert alert-info border-0 p-4",children:[o.jsxs("h4",{className:"alert-heading mb-3",children:[o.jsx("i",{className:"bi bi-info-circle me-2"}),"Important Disclaimers"]}),o.jsxs("div",{className:"row g-4",children:[o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"flex-shrink-0 me-3",children:o.jsx("i",{className:"bi bi-exclamation-triangle text-warning"})}),o.jsxs("div",{children:[o.jsx("strong",{children:"Use at Your Own Risk:"})," This calculator is provided for educational purposes only. You are solely responsible for verifying all calculations and ensuring accuracy before submitting to HMRC."]})]})}),o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"flex-shrink-0 me-3",children:o.jsx("i",{className:"bi bi-person-check text-primary"})}),o.jsxs("div",{children:[o.jsx("strong",{children:"Professional Advice:"})," Always consult with a qualified tax advisor or accountant for official tax advice and complex situations."]})]})}),o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"flex-shrink-0 me-3",children:o.jsx("i",{className:"bi bi-currency-pound text-success"})}),o.jsxs("div",{children:[o.jsx("strong",{children:"Free to Use:"})," This tool is completely free. We earn from affiliate links to tax-related books and resources to keep this service running."]})]})}),o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"d-flex",children:[o.jsx("div",{className:"flex-shrink-0 me-3",children:o.jsx("i",{className:"bi bi-shield-check text-info"})}),o.jsxs("div",{children:[o.jsx("strong",{children:"Data Privacy:"})," Files are processed securely on AWS and immediately deleted. No personal or financial data is stored or retained on our servers."]})]})})]})]})})})})]})}),o.jsx("div",{className:"container",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-lg-10",children:o.jsxs("div",{className:"mt-5",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h2",{className:"h3 text-dark mb-2",children:"üìö Recommended Tax Resources"}),o.jsx("p",{className:"text-muted",children:"Enhance your tax knowledge with these expert-recommended guides"})]}),o.jsx(At,{category:"tax",limit:3,columns:{xs:1,sm:2,md:3},showRatings:!0,showCategories:!1,layout:"vertical"})]})})})})]})})},kt=({children:s,className:e="",variant:t="primary",size:i="md",disabled:n=!1,loading:a=!1,type:r="button",onClick:l,icon:c,iconPosition:h="left","data-testid":u,...m})=>{const g="btn",b=`btn-${t}`,v=i!=="md"?`btn-${i}`:"",y=[g,b,v,n?"disabled":"",e].filter(Boolean).join(" "),w=M=>{if(n||a){M.preventDefault();return}l==null||l(M)},N=()=>o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true","data-testid":"loading-spinner"}),S=()=>c?o.jsx("i",{className:`fa ${c} ${s?h==="left"?"me-2":"ms-2":""}`,"data-testid":"button-icon","aria-hidden":"true"}):null,E=()=>{if(a)return N();const M=S();return s?h==="right"?o.jsxs(o.Fragment,{children:[s,M]}):o.jsxs(o.Fragment,{children:[M,s]}):M};return o.jsx("button",{type:r,className:y,disabled:n||a,onClick:w,"aria-disabled":n||a,"aria-busy":a,"data-testid":u,...m,children:E()})};kt.displayName="Button";const oi=({children:s,variant:e="primary",size:t,pill:i=!1,className:n="",...a})=>{const r=["badge",`bg-${e}`,t&&`badge-${t}`,i&&"rounded-pill",n].filter(Boolean).join(" ");return o.jsx("span",{className:r,...a,children:s})},Af=({portfolioAnalysis:s,className:e=""})=>{const t=(c,h="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:h,minimumFractionDigits:2,maximumFractionDigits:2}).format(c),i=c=>`${c>=0?"+":""}${c.toFixed(2)}%`,n=c=>c>=0?"success":"danger",a=Object.values(s.market_summaries).reduce((c,h)=>c+h.holdings.length,0),r=(c,h)=>{const u=h-c;return u>0?c/u*100:0},l=r(s.total_unrealized_gain_loss||0,s.total_portfolio_value||0);return o.jsxs(Ge,{className:`portfolio-summary ${e}`,title:"Portfolio Summary",header:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"fas fa-chart-line me-2 text-primary"}),o.jsx("span",{children:"Portfolio Summary"})]}),children:[o.jsxs("div",{className:"row g-3",children:[o.jsx("div",{className:"col-md-4",children:o.jsxs("div",{className:"summary-metric",children:[o.jsx("div",{className:"metric-label text-muted small",children:"Total Portfolio Value"}),o.jsx("div",{className:"metric-value h4 mb-0 text-primary fw-bold",children:t(s.total_portfolio_value)})]})}),o.jsx("div",{className:"col-md-4",children:o.jsxs("div",{className:"summary-metric",children:[o.jsx("div",{className:"metric-label text-muted small",children:"Total Holdings"}),o.jsx("div",{className:"metric-value h4 mb-0 fw-bold",children:a})]})}),o.jsx("div",{className:"col-md-4",children:o.jsxs("div",{className:"summary-metric",children:[o.jsx("div",{className:"metric-label text-muted small",children:"Currencies"}),o.jsx("div",{className:"metric-value",children:Object.keys(s.market_summaries).map(c=>o.jsx(oi,{variant:"outline-secondary",className:"me-1 mb-1",children:c},c))})]})}),o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"summary-metric",children:[o.jsx("div",{className:"metric-label text-muted small",children:"Unrealized Gain/Loss"}),o.jsx("div",{className:"d-flex align-items-center",children:o.jsx("div",{className:`metric-value h5 mb-0 fw-bold text-${n(s.total_unrealized_gain_loss)}`,children:t(s.total_unrealized_gain_loss)})})]})}),o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"summary-metric",children:[o.jsx("div",{className:"metric-label text-muted small",children:"Unrealized Gain/Loss %"}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx(oi,{variant:n(l),className:"fs-6",children:i(l)}),o.jsx("i",{className:`fas fa-trending-${l>=0?"up":"down"} ms-2`})]})]})})]}),Object.keys(s.market_summaries).length>1&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("h6",{className:"text-muted mb-3",children:[o.jsx("i",{className:"fas fa-globe me-2"}),"Breakdown by Currency"]}),o.jsx("div",{className:"row g-3",children:Object.entries(s.market_summaries).map(([c,h])=>o.jsx("div",{className:"col-md-6 col-lg-4",children:o.jsxs("div",{className:"border rounded p-3",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx(oi,{variant:"primary",children:c}),o.jsxs("small",{className:"text-muted",children:[h.holdings.length," holdings"]})]}),o.jsx("div",{className:"metric-value h6 mb-1",children:t(h.total_market_value,c)}),o.jsxs("div",{className:`small text-${n(h.total_unrealized_gain_loss)}`,children:[t(h.total_unrealized_gain_loss,c),"(",i(r(h.total_unrealized_gain_loss||0,h.total_market_value||0)),")"]})]})},c))})]})]})},Oa=(s,e)=>typeof e=="function"?e(s):typeof e=="string"?e.split(".").reduce((t,i)=>t&&t[i]!==void 0?t[i]:"",s):(typeof e=="symbol"||typeof e=="number")&&s[e]||"",Mf=(s,e,t)=>{if(!e.column||!e.direction)return s;const i=t.find(n=>n.key===e.column);return!i||!i.accessor?s:[...s].sort((n,a)=>{const r=Oa(n,i.accessor),l=Oa(a,i.accessor);if(r==null&&l==null)return 0;if(r==null)return e.direction==="asc"?-1:1;if(l==null)return e.direction==="asc"?1:-1;const c=String(r).toLowerCase(),h=String(l).toLowerCase(),u=Number(r),m=Number(l);return!isNaN(u)&&!isNaN(m)?e.direction==="asc"?u-m:m-u:c<h?e.direction==="asc"?-1:1:c>h?e.direction==="asc"?1:-1:0})},Ef=(s,e,t)=>{const i=e*t,n=i+t;return s.slice(i,n)},Df=({currentPage:s,totalPages:e,totalItems:t,pageSize:i,onPageChange:n})=>{if(e<=1)return null;const a=s*i+1,r=Math.min((s+1)*i,t);return o.jsxs("nav",{"aria-label":"Table pagination",className:"d-flex justify-content-between align-items-center mt-3",children:[o.jsxs("div",{className:"text-muted small",children:["Showing ",a," to ",r," of ",t," entries"]}),o.jsxs("ul",{className:"pagination mb-0",children:[o.jsx("li",{className:`page-item ${s===0?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>n(s-1),disabled:s===0,"aria-label":"Previous page",children:o.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})}),Array.from({length:Math.min(5,e)},(l,c)=>{let h;return e<=5||s<3?h=c:s>e-4?h=e-5+c:h=s-2+c,o.jsx("li",{className:`page-item ${s===h?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>n(h),"aria-label":`Go to page ${h+1}`,children:h+1})},h)}),o.jsx("li",{className:`page-item ${s===e-1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>n(s+1),disabled:s===e-1,"aria-label":"Next page",children:o.jsx("i",{className:"fas fa-chevron-right","aria-hidden":"true"})})})]})]})},Of=({data:s,columns:e,loading:t=!1,emptyMessage:i="No data available",size:n="md",striped:a=!1,bordered:r=!1,hover:l=!1,responsive:c=!0,sortable:h=!1,defaultSort:u,onSort:m,pagination:g=!1,paginationConfig:b,currentPage:v=0,pageSize:x=10,totalItems:y,onPageChange:w,onRowClick:N,rowClassName:S,className:E="",children:M,"data-testid":I,...$})=>{const[F,H]=z.useState(u||{column:null,direction:null}),W=m?u||{column:null,direction:null}:F,G=z.useCallback(K=>{if(!h)return;const T=W.column===K&&W.direction==="asc"?"desc":"asc",Pe={column:K,direction:T};m?m(Pe):H(Pe)},[h,W,m]),Z=z.useMemo(()=>{let K=[...s];return h&&W.column&&W.direction&&(K=Mf(K,W,e)),g&&(K=Ef(K,v,x)),K},[s,W,e,h,g,v,x]),_e=Math.ceil((y||s.length)/x),Se=["table",n==="sm"&&"table-sm",a&&"table-striped",r&&"table-bordered",l&&"table-hover"].filter(Boolean).join(" "),se=[c&&"table-responsive",t&&"position-relative opacity-50",E].filter(Boolean).join(" "),ae=z.useCallback((K,T)=>{N&&N(K,T)},[N]),me=K=>{switch(K){case"left":return"text-start";case"center":return"text-center";case"right":return"text-end";default:return""}},Ae=(K,T)=>T?W.column===K?W.direction==="asc"?o.jsx("i",{className:"fas fa-sort-up ms-1","aria-hidden":"true"}):o.jsx("i",{className:"fas fa-sort-down ms-1","aria-hidden":"true"}):o.jsx("i",{className:"fas fa-sort ms-1 text-muted","aria-hidden":"true"}):null,ke=K=>{if(W.column===K)return W.direction==="asc"?"ascending":"descending"};return o.jsxs("div",{className:se,"data-testid":I,...$,children:[t&&o.jsx("div",{className:"position-absolute top-50 start-50 translate-middle",style:{zIndex:10},children:o.jsx("div",{role:"status","aria-live":"polite","aria-label":"Loading table data",children:o.jsx(xn,{size:"lg",text:"Loading data..."})})}),o.jsxs("table",{className:Se,role:"table",children:[o.jsx("thead",{children:o.jsx("tr",{children:e.map(K=>o.jsxs("th",{scope:"col",className:[me(K.align),K.hiddenOnMobile&&"d-none d-md-table-cell",K.sortable&&h&&"user-select-none cursor-pointer"].filter(Boolean).join(" "),style:{width:K.width},onClick:()=>K.sortable&&G(K.key),"aria-sort":ke(K.key),role:"columnheader",children:[K.header,Ae(K.key,K.sortable&&h)]},K.key))})}),o.jsx("tbody",{children:Z.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:e.length,className:"text-center text-muted py-4",children:t?o.jsx("div",{role:"status","aria-live":"polite","aria-label":"Loading table content",children:o.jsx(xn,{size:"sm",text:"Loading..."})}):i})}):Z.map((K,T)=>{const Pe=[N&&"cursor-pointer",S&&S(K,T)].filter(Boolean).join(" ");return o.jsx("tr",{className:Pe,onClick:()=>ae(K,T),role:"row",children:e.map(Ee=>{const $e=Ee.accessor?Oa(K,Ee.accessor):"",Me=Ee.render?Ee.render($e,K,T):$e;return o.jsx("td",{className:[me(Ee.align),Ee.hiddenOnMobile&&"d-none d-md-table-cell"].filter(Boolean).join(" "),role:"cell",children:Me},Ee.key)})},T)})})]}),g&&_e>1&&o.jsx(Df,{currentPage:v,totalPages:_e,totalItems:y||s.length,pageSize:x,onPageChange:w||(()=>{})})]})},Pf=({columns:s,...e})=>{const t=[{key:"symbol",header:"Symbol",accessor:i=>i.security.symbol,sortable:!0,width:"120px"},{key:"name",header:"Security",accessor:i=>i.security.name||i.security.symbol,sortable:!0},{key:"quantity",header:"Quantity",accessor:"quantity",sortable:!0,align:"right",render:i=>i.toLocaleString("en-GB",{maximumFractionDigits:0})},{key:"average_cost",header:"Avg Cost",accessor:"average_cost_gbp",sortable:!0,align:"right",render:i=>`¬£${i.toLocaleString("en-GB",{minimumFractionDigits:2})}`},{key:"current_value",header:"Current Value",accessor:"current_value_gbp",sortable:!0,align:"right",render:i=>`¬£${i.toLocaleString("en-GB",{minimumFractionDigits:2})}`},{key:"gain_loss",header:"Gain/Loss",accessor:"unrealized_gain_loss",sortable:!0,align:"right",render:(i,n)=>o.jsxs("span",{className:i>=0?"text-success fw-semibold":"text-danger fw-semibold",children:[i>=0?"+":"","¬£",i.toLocaleString("en-GB",{minimumFractionDigits:2}),n.total_return_pct!==void 0&&o.jsxs("small",{className:"d-block text-muted",children:["(",n.total_return_pct>=0?"+":"",n.total_return_pct.toFixed(2),"%)"]})]})}];return o.jsx(Of,{columns:s||t,...e})},Lf=({marketSummaries:s,className:e=""})=>{const t=Ps.useMemo(()=>{const a=[];return Object.entries(s).forEach(([,r])=>{r.holdings.forEach(l=>{var u,m,g;const h={security:{symbol:((u=l.security)==null?void 0:u.symbol)||"N/A",name:((m=l.security)==null?void 0:m.name)||((g=l.security)==null?void 0:g.symbol)||"N/A"},quantity:l.quantity,average_cost_gbp:l.average_cost_gbp||l.current_value_gbp/l.quantity,current_value_gbp:l.current_value_gbp,total_cost_gbp:(l.average_cost_gbp||l.current_value_gbp/l.quantity)*l.quantity,unrealized_gain_loss:l.unrealized_gain_loss||0,total_return_pct:l.total_return_pct||0};a.push(h)})}),a},[s]),i=t.reduce((a,r)=>a+r.current_value_gbp,0),n=t.reduce((a,r)=>a+r.unrealized_gain_loss,0);return o.jsx(Ge,{className:`holdings-table-card ${e}`,title:"Holdings Details",header:o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"fas fa-table me-2 text-primary"}),o.jsx("span",{children:"Holdings Details"})]}),o.jsxs("div",{className:"d-flex gap-3",children:[o.jsxs("small",{className:"text-muted",children:[o.jsx("strong",{children:"Total Value:"})," ¬£",i.toLocaleString("en-GB",{minimumFractionDigits:2})]}),o.jsxs("small",{className:`fw-bold ${n>=0?"text-success":"text-danger"}`,children:[o.jsx("strong",{children:"Total P&L:"})," ",n>=0?"+":"","¬£",n.toLocaleString("en-GB",{minimumFractionDigits:2})]})]})]}),children:o.jsx(Pf,{data:t,loading:!1,pagination:!0,emptyMessage:"No holdings found",className:"holdings-results-table"})})},Rf=({taxCalculations:s,className:e=""})=>{const t=l=>{const c=typeof l=="number"&&isFinite(l)?l:0;return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:2,maximumFractionDigits:2}).format(c)},i=[{label:"Capital Gains Tax",amount:Number(s.capital_gains_tax)||0,description:"Tax on capital gains from share disposals",type:"tax"},{label:"Dividend Tax",amount:Number(s.dividend_tax)||0,description:"Tax on dividend income received",type:"tax"},{label:"Total Tax Liability",amount:Number(s.total_tax_liability)||0,description:"Total tax owed to HMRC",type:"total"}],n=s.total_tax_liability>0,a=s.section_104_pools||{},r=s.disposal_calculations||[];return o.jsxs("div",{className:`tax-calculations ${e}`,children:[o.jsxs(Ge,{className:"tax-summary-card mb-4",title:"Tax Summary",header:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"fas fa-calculator me-2 text-warning"}),o.jsx("span",{children:"UK Tax Calculations"})]}),children:[n&&o.jsx(Mt,{variant:"warning",className:"mb-3",dismissible:!1,children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Tax Liability Identified"}),o.jsx("div",{className:"small mt-1",children:"You may need to report these gains and pay tax. Please consult with a tax advisor."})]})]})}),o.jsx("div",{className:"row g-3",children:i.map((l,c)=>o.jsx("div",{className:"col-md-4",children:o.jsxs("div",{className:"tax-item",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"tax-label small text-muted",children:l.label}),l.description&&o.jsx("div",{className:"tax-description small text-muted",children:l.description})]}),o.jsx(oi,{variant:l.type==="total"?l.amount>0?"danger":"success":l.amount>0?"warning":"secondary",className:"ms-2",children:l.amount>0?"Tax Due":"No Tax"})]}),o.jsx("div",{className:`tax-amount h5 mb-0 fw-bold ${l.type==="total"?l.amount>0?"text-danger":"text-success":l.amount>0?"text-warning":"text-muted"}`,children:t(l.amount)})]})},c))})]}),Object.keys(a).length>0&&o.jsxs(Ge,{className:"section-104-card mb-4",title:"Section 104 Pools",header:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"fas fa-layer-group me-2 text-info"}),o.jsx("span",{children:"Section 104 Pools"})]}),children:[o.jsx("div",{className:"mb-3",children:o.jsx(Mt,{variant:"info",dismissible:!1,children:o.jsxs("div",{className:"small",children:[o.jsx("strong",{children:"Section 104 Pools"})," track the average cost of identical shares. These pools are used to calculate capital gains when shares are disposed of."]})})}),o.jsx("div",{className:"row g-3",children:Object.entries(a).map(([l,c],h)=>o.jsx("div",{className:"col-md-6 col-lg-4",children:o.jsxs("div",{className:"border rounded p-3",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsx(oi,{variant:"primary",children:l}),o.jsx("small",{className:"text-muted",children:"Pool"})]}),o.jsxs("div",{className:"pool-details",children:[o.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[o.jsx("small",{className:"text-muted",children:"Quantity:"}),o.jsx("small",{className:"fw-semibold",children:c.quantity||0})]}),o.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[o.jsx("small",{className:"text-muted",children:"Total Cost:"}),o.jsx("small",{className:"fw-semibold",children:t(c.total_cost||0)})]}),o.jsxs("div",{className:"d-flex justify-content-between",children:[o.jsx("small",{className:"text-muted",children:"Avg Cost:"}),o.jsx("small",{className:"fw-semibold",children:c.quantity>0?t((c.total_cost||0)/c.quantity):t(0)})]})]})]})},h))})]}),r.length>0&&o.jsxs(Ge,{className:"disposal-calculations-card",title:"Disposal Calculations",header:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"fas fa-exchange-alt me-2 text-secondary"}),o.jsx("span",{children:"Share Disposals"})]}),children:[o.jsx("div",{className:"mb-3",children:o.jsx(Mt,{variant:"info",dismissible:!1,children:o.jsx("div",{className:"small",children:"Detailed calculations for each share disposal, showing gains/losses and tax implications."})})}),o.jsxs("div",{className:"disposal-list",children:[r.slice(0,5).map((l,c)=>o.jsx("div",{className:"disposal-item border-bottom pb-2 mb-2",children:o.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[o.jsxs("div",{children:[o.jsx("div",{className:"fw-semibold",children:l.symbol||"Unknown"}),o.jsx("small",{className:"text-muted",children:l.disposal_date||"Date not available"})]}),o.jsxs("div",{className:"text-end",children:[o.jsxs("div",{className:`fw-semibold ${(l.gain_loss||0)>=0?"text-success":"text-danger"}`,children:[(l.gain_loss||0)>=0?"+":"",t(l.gain_loss||0)]}),o.jsxs("small",{className:"text-muted",children:[l.quantity||0," shares"]})]})]})},c)),r.length>5&&o.jsx("div",{className:"text-center",children:o.jsxs("small",{className:"text-muted",children:["... and ",r.length-5," more disposals"]})})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function yi(s){return s+.5|0}const It=(s,e,t)=>Math.max(Math.min(s,t),e);function ei(s){return It(yi(s*2.55),0,255)}function Bt(s){return It(yi(s*255),0,255)}function St(s){return It(yi(s/2.55)/100,0,1)}function tl(s){return It(yi(s*100),0,100)}const st={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pa=[..."0123456789ABCDEF"],If=s=>Pa[s&15],Ff=s=>Pa[(s&240)>>4]+Pa[s&15],qi=s=>(s&240)>>4===(s&15),zf=s=>qi(s.r)&&qi(s.g)&&qi(s.b)&&qi(s.a);function $f(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&st[s[1]]*17,g:255&st[s[2]]*17,b:255&st[s[3]]*17,a:e===5?st[s[4]]*17:255}:(e===7||e===9)&&(t={r:st[s[1]]<<4|st[s[2]],g:st[s[3]]<<4|st[s[4]],b:st[s[5]]<<4|st[s[6]],a:e===9?st[s[7]]<<4|st[s[8]]:255})),t}const Bf=(s,e)=>s<255?e(s):"";function Hf(s){var e=zf(s)?If:Ff;return s?"#"+e(s.r)+e(s.g)+e(s.b)+Bf(s.a,e):void 0}const Wf=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Oc(s,e,t){const i=e*Math.min(t,1-t),n=(a,r=(a+s/30)%12)=>t-i*Math.max(Math.min(r-3,9-r,1),-1);return[n(0),n(8),n(4)]}function Vf(s,e,t){const i=(n,a=(n+s/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Uf(s,e,t){const i=Oc(s,1,.5);let n;for(e+t>1&&(n=1/(e+t),e*=n,t*=n),n=0;n<3;n++)i[n]*=1-e-t,i[n]+=e;return i}function Yf(s,e,t,i,n){return s===n?(e-t)/i+(e<t?6:0):e===n?(t-s)/i+2:(s-e)/i+4}function Ka(s){const t=s.r/255,i=s.g/255,n=s.b/255,a=Math.max(t,i,n),r=Math.min(t,i,n),l=(a+r)/2;let c,h,u;return a!==r&&(u=a-r,h=l>.5?u/(2-a-r):u/(a+r),c=Yf(t,i,n,u,a),c=c*60+.5),[c|0,h||0,l]}function Ga(s,e,t,i){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,i)).map(Bt)}function Xa(s,e,t){return Ga(Oc,s,e,t)}function qf(s,e,t){return Ga(Uf,s,e,t)}function Kf(s,e,t){return Ga(Vf,s,e,t)}function Pc(s){return(s%360+360)%360}function Gf(s){const e=Wf.exec(s);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?ei(+e[5]):Bt(+e[5]));const n=Pc(+e[2]),a=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?i=qf(n,a,r):e[1]==="hsv"?i=Kf(n,a,r):i=Xa(n,a,r),{r:i[0],g:i[1],b:i[2],a:t}}function Xf(s,e){var t=Ka(s);t[0]=Pc(t[0]+e),t=Xa(t),s.r=t[0],s.g=t[1],s.b=t[2]}function Qf(s){if(!s)return;const e=Ka(s),t=e[0],i=tl(e[1]),n=tl(e[2]);return s.a<255?`hsla(${t}, ${i}%, ${n}%, ${St(s.a)})`:`hsl(${t}, ${i}%, ${n}%)`}const sl={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},il={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Zf(){const s={},e=Object.keys(il),t=Object.keys(sl);let i,n,a,r,l;for(i=0;i<e.length;i++){for(r=l=e[i],n=0;n<t.length;n++)a=t[n],l=l.replace(a,sl[a]);a=parseInt(il[r],16),s[l]=[a>>16&255,a>>8&255,a&255]}return s}let Ki;function Jf(s){Ki||(Ki=Zf(),Ki.transparent=[0,0,0,0]);const e=Ki[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const em=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function tm(s){const e=em.exec(s);let t=255,i,n,a;if(e){if(e[7]!==i){const r=+e[7];t=e[8]?ei(r):It(r*255,0,255)}return i=+e[1],n=+e[3],a=+e[5],i=255&(e[2]?ei(i):It(i,0,255)),n=255&(e[4]?ei(n):It(n,0,255)),a=255&(e[6]?ei(a):It(a,0,255)),{r:i,g:n,b:a,a:t}}}function sm(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${St(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const ba=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,As=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function im(s,e,t){const i=As(St(s.r)),n=As(St(s.g)),a=As(St(s.b));return{r:Bt(ba(i+t*(As(St(e.r))-i))),g:Bt(ba(n+t*(As(St(e.g))-n))),b:Bt(ba(a+t*(As(St(e.b))-a))),a:s.a+t*(e.a-s.a)}}function Gi(s,e,t){if(s){let i=Ka(s);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Xa(i),s.r=i[0],s.g=i[1],s.b=i[2]}}function Lc(s,e){return s&&Object.assign(e||{},s)}function nl(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=Bt(s[3]))):(e=Lc(s,{r:0,g:0,b:0,a:1}),e.a=Bt(e.a)),e}function nm(s){return s.charAt(0)==="r"?tm(s):Gf(s)}class mi{constructor(e){if(e instanceof mi)return e;const t=typeof e;let i;t==="object"?i=nl(e):t==="string"&&(i=$f(e)||Jf(e)||nm(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Lc(this._rgb);return e&&(e.a=St(e.a)),e}set rgb(e){this._rgb=nl(e)}rgbString(){return this._valid?sm(this._rgb):void 0}hexString(){return this._valid?Hf(this._rgb):void 0}hslString(){return this._valid?Qf(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,n=e.rgb;let a;const r=t===a?.5:t,l=2*r-1,c=i.a-n.a,h=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;a=1-h,i.r=255&h*i.r+a*n.r+.5,i.g=255&h*i.g+a*n.g+.5,i.b=255&h*i.b+a*n.b+.5,i.a=r*i.a+(1-r)*n.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=im(this._rgb,e._rgb,t)),this}clone(){return new mi(this.rgb)}alpha(e){return this._rgb.a=Bt(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=yi(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Gi(this._rgb,2,e),this}darken(e){return Gi(this._rgb,2,-e),this}saturate(e){return Gi(this._rgb,1,e),this}desaturate(e){return Gi(this._rgb,1,-e),this}rotate(e){return Xf(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jt(){}const am=(()=>{let s=0;return()=>s++})();function pe(s){return s==null}function Ne(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ie(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function nt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function mt(s,e){return nt(s)?s:e}function J(s,e){return typeof s>"u"?e:s}const rm=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,Rc=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function be(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function le(s,e,t,i){let n,a,r;if(Ne(s))for(a=s.length,n=0;n<a;n++)e.call(t,s[n],n);else if(ie(s))for(r=Object.keys(s),a=r.length,n=0;n<a;n++)e.call(t,s[r[n]],r[n])}function bn(s,e){let t,i,n,a;if(!s||!e||s.length!==e.length)return!1;for(t=0,i=s.length;t<i;++t)if(n=s[t],a=e[t],n.datasetIndex!==a.datasetIndex||n.index!==a.index)return!1;return!0}function _n(s){if(Ne(s))return s.map(_n);if(ie(s)){const e=Object.create(null),t=Object.keys(s),i=t.length;let n=0;for(;n<i;++n)e[t[n]]=_n(s[t[n]]);return e}return s}function Ic(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function om(s,e,t,i){if(!Ic(s))return;const n=e[s],a=t[s];ie(n)&&ie(a)?gi(n,a,i):e[s]=_n(a)}function gi(s,e,t){const i=Ne(e)?e:[e],n=i.length;if(!ie(s))return s;t=t||{};const a=t.merger||om;let r;for(let l=0;l<n;++l){if(r=i[l],!ie(r))continue;const c=Object.keys(r);for(let h=0,u=c.length;h<u;++h)a(c[h],s,r,t)}return s}function li(s,e){return gi(s,e,{merger:lm})}function lm(s,e,t){if(!Ic(s))return;const i=e[s],n=t[s];ie(i)&&ie(n)?li(i,n):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=_n(n))}const al={"":s=>s,x:s=>s.x,y:s=>s.y};function cm(s){const e=s.split("."),t=[];let i="";for(const n of e)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function dm(s){const e=cm(s);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function os(s,e){return(al[e]||(al[e]=dm(e)))(s)}function Qa(s){return s.charAt(0).toUpperCase()+s.slice(1)}const pi=s=>typeof s<"u",Ht=s=>typeof s=="function",rl=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function hm(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const ce=Math.PI,ye=2*ce,um=ye+ce,vn=Number.POSITIVE_INFINITY,fm=ce/180,Ce=ce/2,es=ce/4,ol=ce*2/3,Fc=Math.log10,_t=Math.sign;function ci(s,e,t){return Math.abs(s-e)<t}function ll(s){const e=Math.round(s);s=ci(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(Fc(s))),i=s/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function mm(s){const e=[],t=Math.sqrt(s);let i;for(i=1;i<t;i++)s%i===0&&(e.push(i),e.push(s/i));return t===(t|0)&&e.push(t),e.sort((n,a)=>n-a).pop(),e}function gm(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function yn(s){return!gm(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function pm(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function xm(s,e,t){let i,n,a;for(i=0,n=s.length;i<n;i++)a=s[i][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Tt(s){return s*(ce/180)}function bm(s){return s*(180/ce)}function cl(s){if(!nt(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function zc(s,e){const t=e.x-s.x,i=e.y-s.y,n=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*ce&&(a+=ye),{angle:a,distance:n}}function La(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function _m(s,e){return(s-e+um)%ye-ce}function ct(s){return(s%ye+ye)%ye}function xi(s,e,t,i){const n=ct(s),a=ct(e),r=ct(t),l=ct(a-n),c=ct(r-n),h=ct(n-a),u=ct(n-r);return n===a||n===r||i&&a===r||l>c&&h<u}function We(s,e,t){return Math.max(e,Math.min(t,s))}function vm(s){return We(s,-32768,32767)}function Ft(s,e,t,i=1e-6){return s>=Math.min(e,t)-i&&s<=Math.max(e,t)+i}function Za(s,e,t){t=t||(r=>s[r]<e);let i=s.length-1,n=0,a;for(;i-n>1;)a=n+i>>1,t(a)?n=a:i=a;return{lo:n,hi:i}}const Ra=(s,e,t,i)=>Za(s,t,i?n=>{const a=s[n][e];return a<t||a===t&&s[n+1][e]===t}:n=>s[n][e]<t),ym=(s,e,t)=>Za(s,t,i=>s[i][e]>=t);function wm(s,e,t){let i=0,n=s.length;for(;i<n&&s[i]<e;)i++;for(;n>i&&s[n-1]>t;)n--;return i>0||n<s.length?s.slice(i,n):s}const $c=["push","pop","shift","splice","unshift"];function jm(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),$c.forEach(t=>{const i="_onData"+Qa(t),n=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...a){const r=n.apply(this,a);return s._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...a)}),r}})})}function dl(s,e){const t=s._chartjs;if(!t)return;const i=t.listeners,n=i.indexOf(e);n!==-1&&i.splice(n,1),!(i.length>0)&&($c.forEach(a=>{delete s[a]}),delete s._chartjs)}function Bc(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const Hc=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function Wc(s,e){let t=[],i=!1;return function(...n){t=n,i||(i=!0,Hc.call(window,()=>{i=!1,s.apply(e,t)}))}}function km(s,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(s,e,i)):s.apply(this,i),e}}const Ja=s=>s==="start"?"left":s==="end"?"right":"center",De=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,Nm=(s,e,t,i)=>s===(i?"left":"right")?t:s==="center"?(e+t)/2:e,Xi=s=>s===0||s===1,hl=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*ye/t)),ul=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*ye/t)+1,di={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Ce)+1,easeOutSine:s=>Math.sin(s*Ce),easeInOutSine:s=>-.5*(Math.cos(ce*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Xi(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Xi(s)?s:hl(s,.075,.3),easeOutElastic:s=>Xi(s)?s:ul(s,.075,.3),easeInOutElastic(s){return Xi(s)?s:s<.5?.5*hl(s*2,.1125,.45):.5+.5*ul(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-di.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?di.easeInBounce(s*2)*.5:di.easeOutBounce(s*2-1)*.5+.5};function er(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function fl(s){return er(s)?s:new mi(s)}function _a(s){return er(s)?s:new mi(s).saturate(.5).darken(.1).hexString()}const Cm=["x","y","borderWidth","radius","tension"],Sm=["color","borderColor","backgroundColor"];function Tm(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:Sm},numbers:{type:"number",properties:Cm}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Am(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ml=new Map;function Mm(s,e){e=e||{};const t=s+JSON.stringify(e);let i=ml.get(t);return i||(i=new Intl.NumberFormat(s,e),ml.set(t,i)),i}function tr(s,e,t){return Mm(e,t).format(s)}const Em={values(s){return Ne(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const i=this.chart.options.locale;let n,a=s;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(n="scientific"),a=Dm(s,t)}const r=Fc(Math.abs(a)),l=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:n,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),tr(s,i,c)}};function Dm(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var Vc={formatters:Em};function Om(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ls=Object.create(null),Ia=Object.create(null);function hi(s,e){if(!e)return s;const t=e.split(".");for(let i=0,n=t.length;i<n;++i){const a=t[i];s=s[a]||(s[a]=Object.create(null))}return s}function va(s,e,t){return typeof e=="string"?gi(hi(s,e),t):gi(hi(s,""),e)}class Pm{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>_a(n.backgroundColor),this.hoverBorderColor=(i,n)=>_a(n.borderColor),this.hoverColor=(i,n)=>_a(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return va(this,e,t)}get(e){return hi(this,e)}describe(e,t){return va(Ia,e,t)}override(e,t){return va(ls,e,t)}route(e,t,i,n){const a=hi(this,e),r=hi(this,i),l="_"+t;Object.defineProperties(a,{[l]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],h=r[n];return ie(c)?Object.assign({},h,c):J(c,h)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var je=new Pm({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Tm,Am,Om]);function Lm(s){return!s||pe(s.size)||pe(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function gl(s,e,t,i,n){let a=e[n];return a||(a=e[n]=s.measureText(n).width,t.push(n)),a>i&&(i=a),i}function ts(s,e,t){const i=s.currentDevicePixelRatio,n=t!==0?Math.max(t/2,.5):0;return Math.round((e-n)*i)/i+n}function pl(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function Fa(s,e,t,i){Uc(s,e,t,i,null)}function Uc(s,e,t,i,n){let a,r,l,c,h,u,m,g;const b=e.pointStyle,v=e.rotation,x=e.radius;let y=(v||0)*fm;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){s.save(),s.translate(t,i),s.rotate(y),s.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),s.restore();return}if(!(isNaN(x)||x<=0)){switch(s.beginPath(),b){default:n?s.ellipse(t,i,n/2,x,0,0,ye):s.arc(t,i,x,0,ye),s.closePath();break;case"triangle":u=n?n/2:x,s.moveTo(t+Math.sin(y)*u,i-Math.cos(y)*x),y+=ol,s.lineTo(t+Math.sin(y)*u,i-Math.cos(y)*x),y+=ol,s.lineTo(t+Math.sin(y)*u,i-Math.cos(y)*x),s.closePath();break;case"rectRounded":h=x*.516,c=x-h,r=Math.cos(y+es)*c,m=Math.cos(y+es)*(n?n/2-h:c),l=Math.sin(y+es)*c,g=Math.sin(y+es)*(n?n/2-h:c),s.arc(t-m,i-l,h,y-ce,y-Ce),s.arc(t+g,i-r,h,y-Ce,y),s.arc(t+m,i+l,h,y,y+Ce),s.arc(t-g,i+r,h,y+Ce,y+ce),s.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*x,u=n?n/2:c,s.rect(t-u,i-c,2*u,2*c);break}y+=es;case"rectRot":m=Math.cos(y)*(n?n/2:x),r=Math.cos(y)*x,l=Math.sin(y)*x,g=Math.sin(y)*(n?n/2:x),s.moveTo(t-m,i-l),s.lineTo(t+g,i-r),s.lineTo(t+m,i+l),s.lineTo(t-g,i+r),s.closePath();break;case"crossRot":y+=es;case"cross":m=Math.cos(y)*(n?n/2:x),r=Math.cos(y)*x,l=Math.sin(y)*x,g=Math.sin(y)*(n?n/2:x),s.moveTo(t-m,i-l),s.lineTo(t+m,i+l),s.moveTo(t+g,i-r),s.lineTo(t-g,i+r);break;case"star":m=Math.cos(y)*(n?n/2:x),r=Math.cos(y)*x,l=Math.sin(y)*x,g=Math.sin(y)*(n?n/2:x),s.moveTo(t-m,i-l),s.lineTo(t+m,i+l),s.moveTo(t+g,i-r),s.lineTo(t-g,i+r),y+=es,m=Math.cos(y)*(n?n/2:x),r=Math.cos(y)*x,l=Math.sin(y)*x,g=Math.sin(y)*(n?n/2:x),s.moveTo(t-m,i-l),s.lineTo(t+m,i+l),s.moveTo(t+g,i-r),s.lineTo(t-g,i+r);break;case"line":r=n?n/2:Math.cos(y)*x,l=Math.sin(y)*x,s.moveTo(t-r,i-l),s.lineTo(t+r,i+l);break;case"dash":s.moveTo(t,i),s.lineTo(t+Math.cos(y)*(n?n/2:x),i+Math.sin(y)*x);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function bi(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function sr(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function ir(s){s.restore()}function Rm(s,e,t,i,n){if(!e)return s.lineTo(t.x,t.y);if(n==="middle"){const a=(e.x+t.x)/2;s.lineTo(a,e.y),s.lineTo(a,t.y)}else n==="after"!=!!i?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function Im(s,e,t,i){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function Fm(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),pe(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function zm(s,e,t,i,n){if(n.strikethrough||n.underline){const a=s.measureText(i),r=e-a.actualBoundingBoxLeft,l=e+a.actualBoundingBoxRight,c=t-a.actualBoundingBoxAscent,h=t+a.actualBoundingBoxDescent,u=n.strikethrough?(c+h)/2:h;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=n.decorationWidth||2,s.moveTo(r,u),s.lineTo(l,u),s.stroke()}}function $m(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function _i(s,e,t,i,n,a={}){const r=Ne(e)?e:[e],l=a.strokeWidth>0&&a.strokeColor!=="";let c,h;for(s.save(),s.font=n.string,Fm(s,a),c=0;c<r.length;++c)h=r[c],a.backdrop&&$m(s,a.backdrop),l&&(a.strokeColor&&(s.strokeStyle=a.strokeColor),pe(a.strokeWidth)||(s.lineWidth=a.strokeWidth),s.strokeText(h,t,i,a.maxWidth)),s.fillText(h,t,i,a.maxWidth),zm(s,t,i,h,a),i+=Number(n.lineHeight);s.restore()}function wn(s,e){const{x:t,y:i,w:n,h:a,radius:r}=e;s.arc(t+r.topLeft,i+r.topLeft,r.topLeft,1.5*ce,ce,!0),s.lineTo(t,i+a-r.bottomLeft),s.arc(t+r.bottomLeft,i+a-r.bottomLeft,r.bottomLeft,ce,Ce,!0),s.lineTo(t+n-r.bottomRight,i+a),s.arc(t+n-r.bottomRight,i+a-r.bottomRight,r.bottomRight,Ce,0,!0),s.lineTo(t+n,i+r.topRight),s.arc(t+n-r.topRight,i+r.topRight,r.topRight,0,-Ce,!0),s.lineTo(t+r.topLeft,i)}const Bm=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Hm=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Wm(s,e){const t=(""+s).match(Bm);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const Vm=s=>+s||0;function nr(s,e){const t={},i=ie(e),n=i?Object.keys(e):e,a=ie(s)?i?r=>J(s[r],s[e[r]]):r=>s[r]:()=>s;for(const r of n)t[r]=Vm(a(r));return t}function Yc(s){return nr(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Es(s){return nr(s,["topLeft","topRight","bottomLeft","bottomRight"])}function at(s){const e=Yc(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Oe(s,e){s=s||{},e=e||je.font;let t=J(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=J(s.style,e.style);i&&!(""+i).match(Hm)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:J(s.family,e.family),lineHeight:Wm(J(s.lineHeight,e.lineHeight),t),size:t,style:i,weight:J(s.weight,e.weight),string:""};return n.string=Lm(n),n}function Qi(s,e,t,i){let n,a,r;for(n=0,a=s.length;n<a;++n)if(r=s[n],r!==void 0&&r!==void 0)return r}function Um(s,e,t){const{min:i,max:n}=s,a=Rc(e,(n-i)/2),r=(l,c)=>t&&l===0?0:l+c;return{min:r(i,-Math.abs(a)),max:r(n,a)}}function hs(s,e){return Object.assign(Object.create(s),e)}function ar(s,e=[""],t,i,n=()=>s[0]){const a=t||s;typeof i>"u"&&(i=Xc("_fallback",s));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:a,_fallback:i,_getTarget:n,override:l=>ar([l,...s],e,a,i)};return new Proxy(r,{deleteProperty(l,c){return delete l[c],delete l._keys,delete s[0][c],!0},get(l,c){return Kc(l,c,()=>Jm(c,e,s,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,c){return bl(l).includes(c)},ownKeys(l){return bl(l)},set(l,c,h){const u=l._storage||(l._storage=n());return l[c]=u[c]=h,delete l._keys,!0}})}function Ls(s,e,t,i){const n={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:qc(s,i),setContext:a=>Ls(s,a,t,i),override:a=>Ls(s.override(a),e,t,i)};return new Proxy(n,{deleteProperty(a,r){return delete a[r],delete s[r],!0},get(a,r,l){return Kc(a,r,()=>qm(a,r,l))},getOwnPropertyDescriptor(a,r){return a._descriptors.allKeys?Reflect.has(s,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,r)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(a,r){return Reflect.has(s,r)},ownKeys(){return Reflect.ownKeys(s)},set(a,r,l){return s[r]=l,delete a[r],!0}})}function qc(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:n=e.allKeys}=s;return{allKeys:n,scriptable:t,indexable:i,isScriptable:Ht(t)?t:()=>t,isIndexable:Ht(i)?i:()=>i}}const Ym=(s,e)=>s?s+Qa(e):e,rr=(s,e)=>ie(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Kc(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const i=t();return s[e]=i,i}function qm(s,e,t){const{_proxy:i,_context:n,_subProxy:a,_descriptors:r}=s;let l=i[e];return Ht(l)&&r.isScriptable(e)&&(l=Km(e,l,s,t)),Ne(l)&&l.length&&(l=Gm(e,l,s,r.isIndexable)),rr(e,l)&&(l=Ls(l,n,a&&a[e],r)),l}function Km(s,e,t,i){const{_proxy:n,_context:a,_subProxy:r,_stack:l}=t;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let c=e(a,r||i);return l.delete(s),rr(s,c)&&(c=or(n._scopes,n,s,c)),c}function Gm(s,e,t,i){const{_proxy:n,_context:a,_subProxy:r,_descriptors:l}=t;if(typeof a.index<"u"&&i(s))return e[a.index%e.length];if(ie(e[0])){const c=e,h=n._scopes.filter(u=>u!==c);e=[];for(const u of c){const m=or(h,n,s,u);e.push(Ls(m,a,r&&r[s],l))}}return e}function Gc(s,e,t){return Ht(s)?s(e,t):s}const Xm=(s,e)=>s===!0?e:typeof s=="string"?os(e,s):void 0;function Qm(s,e,t,i,n){for(const a of e){const r=Xm(t,a);if(r){s.add(r);const l=Gc(r._fallback,t,n);if(typeof l<"u"&&l!==t&&l!==i)return l}else if(r===!1&&typeof i<"u"&&t!==i)return null}return!1}function or(s,e,t,i){const n=e._rootScopes,a=Gc(e._fallback,t,i),r=[...s,...n],l=new Set;l.add(i);let c=xl(l,r,t,a||t,i);return c===null||typeof a<"u"&&a!==t&&(c=xl(l,r,a,c,i),c===null)?!1:ar(Array.from(l),[""],n,a,()=>Zm(e,t,i))}function xl(s,e,t,i,n){for(;t;)t=Qm(s,e,t,i,n);return t}function Zm(s,e,t){const i=s._getTarget();e in i||(i[e]={});const n=i[e];return Ne(n)&&ie(t)?t:n||{}}function Jm(s,e,t,i){let n;for(const a of e)if(n=Xc(Ym(a,s),t),typeof n<"u")return rr(s,n)?or(t,i,s,n):n}function Xc(s,e){for(const t of e){if(!t)continue;const i=t[s];if(typeof i<"u")return i}}function bl(s){let e=s._keys;return e||(e=s._keys=eg(s._scopes)),e}function eg(s){const e=new Set;for(const t of s)for(const i of Object.keys(t).filter(n=>!n.startsWith("_")))e.add(i);return Array.from(e)}const tg=Number.EPSILON||1e-14,Rs=(s,e)=>e<s.length&&!s[e].skip&&s[e],Qc=s=>s==="x"?"y":"x";function sg(s,e,t,i){const n=s.skip?e:s,a=e,r=t.skip?e:t,l=La(a,n),c=La(r,a);let h=l/(l+c),u=c/(l+c);h=isNaN(h)?0:h,u=isNaN(u)?0:u;const m=i*h,g=i*u;return{previous:{x:a.x-m*(r.x-n.x),y:a.y-m*(r.y-n.y)},next:{x:a.x+g*(r.x-n.x),y:a.y+g*(r.y-n.y)}}}function ig(s,e,t){const i=s.length;let n,a,r,l,c,h=Rs(s,0);for(let u=0;u<i-1;++u)if(c=h,h=Rs(s,u+1),!(!c||!h)){if(ci(e[u],0,tg)){t[u]=t[u+1]=0;continue}n=t[u]/e[u],a=t[u+1]/e[u],l=Math.pow(n,2)+Math.pow(a,2),!(l<=9)&&(r=3/Math.sqrt(l),t[u]=n*r*e[u],t[u+1]=a*r*e[u])}}function ng(s,e,t="x"){const i=Qc(t),n=s.length;let a,r,l,c=Rs(s,0);for(let h=0;h<n;++h){if(r=l,l=c,c=Rs(s,h+1),!l)continue;const u=l[t],m=l[i];r&&(a=(u-r[t])/3,l[`cp1${t}`]=u-a,l[`cp1${i}`]=m-a*e[h]),c&&(a=(c[t]-u)/3,l[`cp2${t}`]=u+a,l[`cp2${i}`]=m+a*e[h])}}function ag(s,e="x"){const t=Qc(e),i=s.length,n=Array(i).fill(0),a=Array(i);let r,l,c,h=Rs(s,0);for(r=0;r<i;++r)if(l=c,c=h,h=Rs(s,r+1),!!c){if(h){const u=h[e]-c[e];n[r]=u!==0?(h[t]-c[t])/u:0}a[r]=l?h?_t(n[r-1])!==_t(n[r])?0:(n[r-1]+n[r])/2:n[r-1]:n[r]}ig(s,n,a),ng(s,a,e)}function Zi(s,e,t){return Math.max(Math.min(s,t),e)}function rg(s,e){let t,i,n,a,r,l=bi(s[0],e);for(t=0,i=s.length;t<i;++t)r=a,a=l,l=t<i-1&&bi(s[t+1],e),a&&(n=s[t],r&&(n.cp1x=Zi(n.cp1x,e.left,e.right),n.cp1y=Zi(n.cp1y,e.top,e.bottom)),l&&(n.cp2x=Zi(n.cp2x,e.left,e.right),n.cp2y=Zi(n.cp2y,e.top,e.bottom)))}function og(s,e,t,i,n){let a,r,l,c;if(e.spanGaps&&(s=s.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")ag(s,n);else{let h=i?s[s.length-1]:s[0];for(a=0,r=s.length;a<r;++a)l=s[a],c=sg(h,l,s[Math.min(a+1,r-(i?0:1))%r],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,h=l}e.capBezierPoints&&rg(s,t)}function lr(){return typeof window<"u"&&typeof document<"u"}function cr(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function jn(s,e,t){let i;return typeof s=="string"?(i=parseInt(s,10),s.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=s,i}const En=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function lg(s,e){return En(s).getPropertyValue(e)}const cg=["top","right","bottom","left"];function rs(s,e,t){const i={};t=t?"-"+t:"";for(let n=0;n<4;n++){const a=cg[n];i[a]=parseFloat(s[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const dg=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function hg(s,e){const t=s.touches,i=t&&t.length?t[0]:s,{offsetX:n,offsetY:a}=i;let r=!1,l,c;if(dg(n,a,s.target))l=n,c=a;else{const h=e.getBoundingClientRect();l=i.clientX-h.left,c=i.clientY-h.top,r=!0}return{x:l,y:c,box:r}}function is(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:i}=e,n=En(t),a=n.boxSizing==="border-box",r=rs(n,"padding"),l=rs(n,"border","width"),{x:c,y:h,box:u}=hg(s,t),m=r.left+(u&&l.left),g=r.top+(u&&l.top);let{width:b,height:v}=e;return a&&(b-=r.width+l.width,v-=r.height+l.height),{x:Math.round((c-m)/b*t.width/i),y:Math.round((h-g)/v*t.height/i)}}function ug(s,e,t){let i,n;if(e===void 0||t===void 0){const a=s&&cr(s);if(!a)e=s.clientWidth,t=s.clientHeight;else{const r=a.getBoundingClientRect(),l=En(a),c=rs(l,"border","width"),h=rs(l,"padding");e=r.width-h.width-c.width,t=r.height-h.height-c.height,i=jn(l.maxWidth,a,"clientWidth"),n=jn(l.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||vn,maxHeight:n||vn}}const Ji=s=>Math.round(s*10)/10;function fg(s,e,t,i){const n=En(s),a=rs(n,"margin"),r=jn(n.maxWidth,s,"clientWidth")||vn,l=jn(n.maxHeight,s,"clientHeight")||vn,c=ug(s,e,t);let{width:h,height:u}=c;if(n.boxSizing==="content-box"){const g=rs(n,"border","width"),b=rs(n,"padding");h-=b.width+g.width,u-=b.height+g.height}return h=Math.max(0,h-a.width),u=Math.max(0,i?h/i:u-a.height),h=Ji(Math.min(h,r,c.maxWidth)),u=Ji(Math.min(u,l,c.maxHeight)),h&&!u&&(u=Ji(h/2)),(e!==void 0||t!==void 0)&&i&&c.height&&u>c.height&&(u=c.height,h=Ji(Math.floor(u*i))),{width:h,height:u}}function _l(s,e,t){const i=e||1,n=Math.floor(s.height*i),a=Math.floor(s.width*i);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const r=s.canvas;return r.style&&(t||!r.style.height&&!r.style.width)&&(r.style.height=`${s.height}px`,r.style.width=`${s.width}px`),s.currentDevicePixelRatio!==i||r.height!==n||r.width!==a?(s.currentDevicePixelRatio=i,r.height=n,r.width=a,s.ctx.setTransform(i,0,0,i,0,0),!0):!1}const mg=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};lr()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function vl(s,e){const t=lg(s,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ns(s,e,t,i){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function gg(s,e,t,i){return{x:s.x+t*(e.x-s.x),y:i==="middle"?t<.5?s.y:e.y:i==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function pg(s,e,t,i){const n={x:s.cp2x,y:s.cp2y},a={x:e.cp1x,y:e.cp1y},r=ns(s,n,t),l=ns(n,a,t),c=ns(a,e,t),h=ns(r,l,t),u=ns(l,c,t);return ns(h,u,t)}const xg=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},bg=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function Ds(s,e,t){return s?xg(e,t):bg()}function Zc(s,e){let t,i;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=i)}function Jc(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function ed(s){return s==="angle"?{between:xi,compare:_m,normalize:ct}:{between:Ft,compare:(e,t)=>e-t,normalize:e=>e}}function yl({start:s,end:e,count:t,loop:i,style:n}){return{start:s%t,end:e%t,loop:i&&(e-s+1)%t===0,style:n}}function _g(s,e,t){const{property:i,start:n,end:a}=t,{between:r,normalize:l}=ed(i),c=e.length;let{start:h,end:u,loop:m}=s,g,b;if(m){for(h+=c,u+=c,g=0,b=c;g<b&&r(l(e[h%c][i]),n,a);++g)h--,u--;h%=c,u%=c}return u<h&&(u+=c),{start:h,end:u,loop:m,style:s.style}}function vg(s,e,t){if(!t)return[s];const{property:i,start:n,end:a}=t,r=e.length,{compare:l,between:c,normalize:h}=ed(i),{start:u,end:m,loop:g,style:b}=_g(s,e,t),v=[];let x=!1,y=null,w,N,S;const E=()=>c(n,S,w)&&l(n,S)!==0,M=()=>l(a,w)===0||c(a,S,w),I=()=>x||E(),$=()=>!x||M();for(let F=u,H=u;F<=m;++F)N=e[F%r],!N.skip&&(w=h(N[i]),w!==S&&(x=c(w,n,a),y===null&&I()&&(y=l(w,n)===0?F:H),y!==null&&$()&&(v.push(yl({start:y,end:F,loop:g,count:r,style:b})),y=null),H=F,S=w));return y!==null&&v.push(yl({start:y,end:m,loop:g,count:r,style:b})),v}function yg(s,e){const t=[],i=s.segments;for(let n=0;n<i.length;n++){const a=vg(i[n],s.points,e);a.length&&t.push(...a)}return t}function wg(s,e,t,i){let n=0,a=e-1;if(t&&!i)for(;n<e&&!s[n].skip;)n++;for(;n<e&&s[n].skip;)n++;for(n%=e,t&&(a+=n);a>n&&s[a%e].skip;)a--;return a%=e,{start:n,end:a}}function jg(s,e,t,i){const n=s.length,a=[];let r=e,l=s[e],c;for(c=e+1;c<=t;++c){const h=s[c%n];h.skip||h.stop?l.skip||(i=!1,a.push({start:e%n,end:(c-1)%n,loop:i}),e=r=h.stop?c:null):(r=c,l.skip&&(e=c)),l=h}return r!==null&&a.push({start:e%n,end:r%n,loop:i}),a}function kg(s,e){const t=s.points,i=s.options.spanGaps,n=t.length;if(!n)return[];const a=!!s._loop,{start:r,end:l}=wg(t,n,a,i);if(i===!0)return wl(s,[{start:r,end:l,loop:a}],t,e);const c=l<r?l+n:l,h=!!s._fullLoop&&r===0&&l===n-1;return wl(s,jg(t,r,c,h),t,e)}function wl(s,e,t,i){return!i||!i.setContext||!t?e:Ng(s,e,t,i)}function Ng(s,e,t,i){const n=s._chart.getContext(),a=jl(s.options),{_datasetIndex:r,options:{spanGaps:l}}=s,c=t.length,h=[];let u=a,m=e[0].start,g=m;function b(v,x,y,w){const N=l?-1:1;if(v!==x){for(v+=c;t[v%c].skip;)v-=N;for(;t[x%c].skip;)x+=N;v%c!==x%c&&(h.push({start:v%c,end:x%c,loop:y,style:w}),u=w,m=x%c)}}for(const v of e){m=l?m:v.start;let x=t[m%c],y;for(g=m+1;g<=v.end;g++){const w=t[g%c];y=jl(i.setContext(hs(n,{type:"segment",p0:x,p1:w,p0DataIndex:(g-1)%c,p1DataIndex:g%c,datasetIndex:r}))),Cg(y,u)&&b(m,g-1,v.loop,u),x=w,u=y}m<g-1&&b(m,g-1,v.loop,u)}return h}function jl(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function Cg(s,e){if(!e)return!1;const t=[],i=function(n,a){return er(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(s,i)!==JSON.stringify(e,i)}function en(s,e,t){return s.options.clip?s[t]:e[t]}function Sg(s,e){const{xScale:t,yScale:i}=s;return t&&i?{left:en(t,e,"left"),right:en(t,e,"right"),top:en(i,e,"top"),bottom:en(i,e,"bottom")}:e}function Tg(s,e){const t=e._clip;if(t.disabled)return!1;const i=Sg(e,s.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Ag{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){const a=t.listeners[n],r=t.duration;a.forEach(l=>l({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Hc.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const a=i.items;let r=a.length-1,l=!1,c;for(;r>=0;--r)c=a[r],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),l=!0):(a[r]=a[a.length-1],a.pop());l&&(n.draw(),this._notify(n,i,e,"progress")),a.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Nt=new Ag;const kl="transparent",Mg={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const i=fl(s||kl),n=i.valid&&fl(e||kl);return n&&n.valid?n.mix(i,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class Eg{constructor(e,t,i,n){const a=t[i];n=Qi([e.to,n,a,e.from]);const r=Qi([e.from,a,n]);this._active=!0,this._fn=e.fn||Mg[e.type||typeof r],this._easing=di[e.easing]||di.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const n=this._target[this._prop],a=i-this._start,r=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Qi([e.to,t,n,e.from]),this._from=Qi([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,n=this._prop,a=this._from,r=this._loop,l=this._to;let c;if(this._active=a!==l&&(r||t<i),!this._active){this._target[n]=l,this._notify(!0);return}if(t<0){this._target[n]=a;return}c=t/i%2,c=r&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(a,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][t]()}}class td{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ie(e))return;const t=Object.keys(je.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const a=e[n];if(!ie(a))return;const r={};for(const l of t)r[l]=a[l];(Ne(a.properties)&&a.properties||[n]).forEach(l=>{(l===n||!i.has(l))&&i.set(l,r)})})}_animateOptions(e,t){const i=t.options,n=Og(e,i);if(!n)return[];const a=this._createAnimations(n,i);return i.$shared&&Dg(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){const i=this._properties,n=[],a=e.$animations||(e.$animations={}),r=Object.keys(t),l=Date.now();let c;for(c=r.length-1;c>=0;--c){const h=r[c];if(h.charAt(0)==="$")continue;if(h==="options"){n.push(...this._animateOptions(e,t));continue}const u=t[h];let m=a[h];const g=i.get(h);if(m)if(g&&m.active()){m.update(g,u,l);continue}else m.cancel();if(!g||!g.duration){e[h]=u;continue}a[h]=m=new Eg(g,e,h,u),n.push(m)}return n}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Nt.add(this._chart,i),!0}}function Dg(s,e){const t=[],i=Object.keys(e);for(let n=0;n<i.length;n++){const a=s[i[n]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function Og(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Nl(s,e){const t=s&&s.options||{},i=t.reverse,n=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:n,end:i?n:a}}function Pg(s,e,t){if(t===!1)return!1;const i=Nl(s,t),n=Nl(e,t);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function Lg(s){let e,t,i,n;return ie(s)?(e=s.top,t=s.right,i=s.bottom,n=s.left):e=t=i=n=s,{top:e,right:t,bottom:i,left:n,disabled:s===!1}}function sd(s,e){const t=[],i=s._getSortedDatasetMetas(e);let n,a;for(n=0,a=i.length;n<a;++n)t.push(i[n].index);return t}function Cl(s,e,t,i={}){const n=s.keys,a=i.mode==="single";let r,l,c,h;if(e===null)return;let u=!1;for(r=0,l=n.length;r<l;++r){if(c=+n[r],c===t){if(u=!0,i.all)continue;break}h=s.values[c],nt(h)&&(a||e===0||_t(e)===_t(h))&&(e+=h)}return!u&&!i.all?0:e}function Rg(s,e){const{iScale:t,vScale:i}=e,n=t.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",r=Object.keys(s),l=new Array(r.length);let c,h,u;for(c=0,h=r.length;c<h;++c)u=r[c],l[c]={[n]:u,[a]:s[u]};return l}function ya(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function Ig(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function Fg(s){const{min:e,max:t,minDefined:i,maxDefined:n}=s.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:n?t:Number.POSITIVE_INFINITY}}function zg(s,e,t){const i=s[e]||(s[e]={});return i[t]||(i[t]={})}function Sl(s,e,t,i){for(const n of e.getMatchingVisibleMetas(i).reverse()){const a=s[n.index];if(t&&a>0||!t&&a<0)return n.index}return null}function Tl(s,e){const{chart:t,_cachedMeta:i}=s,n=t._stacks||(t._stacks={}),{iScale:a,vScale:r,index:l}=i,c=a.axis,h=r.axis,u=Ig(a,r,i),m=e.length;let g;for(let b=0;b<m;++b){const v=e[b],{[c]:x,[h]:y}=v,w=v._stacks||(v._stacks={});g=w[h]=zg(n,u,x),g[l]=y,g._top=Sl(g,r,!0,i.type),g._bottom=Sl(g,r,!1,i.type);const N=g._visualValues||(g._visualValues={});N[l]=y}}function wa(s,e){const t=s.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function $g(s,e){return hs(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Bg(s,e,t){return hs(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ks(s,e){const t=s.controller.index,i=s.vScale&&s.vScale.axis;if(i){e=e||s._parsed;for(const n of e){const a=n._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}const ja=s=>s==="reset"||s==="none",Al=(s,e)=>e?s:Object.assign({},s),Hg=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:sd(t,!0),values:null};class Os{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ya(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(m,g,b,v)=>m==="x"?g:m==="r"?v:b,a=t.xAxisID=J(i.xAxisID,wa(e,"x")),r=t.yAxisID=J(i.yAxisID,wa(e,"y")),l=t.rAxisID=J(i.rAxisID,wa(e,"r")),c=t.indexAxis,h=t.iAxisID=n(c,a,r,l),u=t.vAxisID=n(c,r,a,l);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&dl(this._data,this),e._stacked&&Ks(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(ie(t)){const n=this._cachedMeta;this._data=Rg(t,n)}else if(i!==t){if(i){dl(i,this);const n=this._cachedMeta;Ks(n),n._parsed=[]}t&&Object.isExtensible(t)&&jm(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const a=t._stacked;t._stacked=ya(t.vScale,t),t.stack!==i.stack&&(n=!0,Ks(t),t.stack=i.stack),this._resyncElements(e),(n||a!==t._stacked)&&(Tl(this,t._parsed),t._stacked=ya(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:n}=this,{iScale:a,_stacked:r}=i,l=a.axis;let c=e===0&&t===n.length?!0:i._sorted,h=e>0&&i._parsed[e-1],u,m,g;if(this._parsing===!1)i._parsed=n,i._sorted=!0,g=n;else{Ne(n[e])?g=this.parseArrayData(i,n,e,t):ie(n[e])?g=this.parseObjectData(i,n,e,t):g=this.parsePrimitiveData(i,n,e,t);const b=()=>m[l]===null||h&&m[l]<h[l];for(u=0;u<t;++u)i._parsed[u+e]=m=g[u],c&&(b()&&(c=!1),h=m);i._sorted=c}r&&Tl(this,g)}parsePrimitiveData(e,t,i,n){const{iScale:a,vScale:r}=e,l=a.axis,c=r.axis,h=a.getLabels(),u=a===r,m=new Array(n);let g,b,v;for(g=0,b=n;g<b;++g)v=g+i,m[g]={[l]:u||a.parse(h[v],v),[c]:r.parse(t[v],v)};return m}parseArrayData(e,t,i,n){const{xScale:a,yScale:r}=e,l=new Array(n);let c,h,u,m;for(c=0,h=n;c<h;++c)u=c+i,m=t[u],l[c]={x:a.parse(m[0],u),y:r.parse(m[1],u)};return l}parseObjectData(e,t,i,n){const{xScale:a,yScale:r}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=new Array(n);let u,m,g,b;for(u=0,m=n;u<m;++u)g=u+i,b=t[g],h[u]={x:a.parse(os(b,l),g),y:r.parse(os(b,c),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const n=this.chart,a=this._cachedMeta,r=t[e.axis],l={keys:sd(n,!0),values:t._stacks[e.axis]._visualValues};return Cl(l,r,a.index,{mode:i})}updateRangeFromParsed(e,t,i,n){const a=i[t.axis];let r=a===null?NaN:a;const l=n&&i._stacks[t.axis];n&&l&&(n.values=l,r=Cl(n,a,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const i=this._cachedMeta,n=i._parsed,a=i._sorted&&e===i.iScale,r=n.length,l=this._getOtherScale(e),c=Hg(t,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:m}=Fg(l);let g,b;function v(){b=n[g];const x=b[l.axis];return!nt(b[e.axis])||u>x||m<x}for(g=0;g<r&&!(!v()&&(this.updateRangeFromParsed(h,e,b,c),a));++g);if(a){for(g=r-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(h,e,b,c);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let n,a,r;for(n=0,a=t.length;n<a;++n)r=t[n][e.axis],nt(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,n=t.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:n?""+n.getLabelForValue(a[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Lg(J(this.options.clip,Pg(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,n=i.data||[],a=t.chartArea,r=[],l=this._drawStart||0,c=this._drawCount||n.length-l,h=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,a,l,c),u=l;u<l+c;++u){const m=n[u];m.hidden||(m.active&&h?r.push(m):m.draw(e,a))}for(u=0;u<r.length;++u)r[u].draw(e,a)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const n=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];a=r.$context||(r.$context=Bg(this.getContext(),e,r)),a.parsed=this.getParsed(e),a.raw=n.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=$g(this.chart.getContext(),this.index)),a.dataset=n,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const n=t==="active",a=this._cachedDataOpts,r=e+"-"+t,l=a[r],c=this.enableOptionSharing&&pi(i);if(l)return Al(l,c);const h=this.chart.config,u=h.datasetElementScopeKeys(this._type,e),m=n?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),u),b=Object.keys(je.elements[e]),v=()=>this.getContext(i,n,t),x=h.resolveNamedOptions(g,b,v,m);return x.$shared&&(x.$shared=c,a[r]=Object.freeze(Al(x,c))),x}_resolveAnimations(e,t,i){const n=this.chart,a=this._cachedDataOpts,r=`animation-${t}`,l=a[r];if(l)return l;let c;if(n.options.animation!==!1){const u=this.chart.config,m=u.datasetAnimationScopeKeys(this._type,t),g=u.getOptionScopes(this.getDataset(),m);c=u.createResolver(g,this.getContext(e,i,t))}const h=new td(n,c&&c.animations);return c&&c._cacheable&&(a[r]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ja(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,a=this.getSharedOptions(i),r=this.includeOptions(t,a)||a!==n;return this.updateSharedOptions(a,t,i),{sharedOptions:a,includeOptions:r}}updateElement(e,t,i,n){ja(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!ja(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;const a=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[l,c,h]of this._syncList)this[l](c,h);this._syncList=[];const n=i.length,a=t.length,r=Math.min(a,n);r&&this.parse(0,r),a>n?this._insertElements(n,a-n,e):a<n&&this._removeElements(a,n-a)}_insertElements(e,t,i=!0){const n=this._cachedMeta,a=n.data,r=e+t;let l;const c=h=>{for(h.length+=t,l=h.length-1;l>=r;l--)h[l]=h[l-t]};for(c(a),l=e;l<r;++l)a[l]=new this.dataElementType;this._parsing&&c(n._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(e,t);i._stacked&&Ks(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}O(Os,"defaults",{}),O(Os,"datasetElementType",null),O(Os,"dataElementType",null);function Wg(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let i=[];for(let n=0,a=t.length;n<a;n++)i=i.concat(t[n].controller.getAllParsedValues(s));s._cache.$bar=Bc(i.sort((n,a)=>n-a))}return s._cache.$bar}function Vg(s){const e=s.iScale,t=Wg(e,s.type);let i=e._length,n,a,r,l;const c=()=>{r===32767||r===-32768||(pi(l)&&(i=Math.min(i,Math.abs(r-l)||i)),l=r)};for(n=0,a=t.length;n<a;++n)r=e.getPixelForValue(t[n]),c();for(l=void 0,n=0,a=e.ticks.length;n<a;++n)r=e.getPixelForTick(n),c();return i}function Ug(s,e,t,i){const n=t.barThickness;let a,r;return pe(n)?(a=e.min*t.categoryPercentage,r=t.barPercentage):(a=n*i,r=1),{chunk:a/i,ratio:r,start:e.pixels[s]-a/2}}function Yg(s,e,t,i){const n=e.pixels,a=n[s];let r=s>0?n[s-1]:null,l=s<n.length-1?n[s+1]:null;const c=t.categoryPercentage;r===null&&(r=a-(l===null?e.end-e.start:l-a)),l===null&&(l=a+a-r);const h=a-(a-Math.min(r,l))/2*c;return{chunk:Math.abs(l-r)/2*c/i,ratio:t.barPercentage,start:h}}function qg(s,e,t,i){const n=t.parse(s[0],i),a=t.parse(s[1],i),r=Math.min(n,a),l=Math.max(n,a);let c=r,h=l;Math.abs(r)>Math.abs(l)&&(c=l,h=r),e[t.axis]=h,e._custom={barStart:c,barEnd:h,start:n,end:a,min:r,max:l}}function id(s,e,t,i){return Ne(s)?qg(s,e,t,i):e[t.axis]=t.parse(s,i),e}function Ml(s,e,t,i){const n=s.iScale,a=s.vScale,r=n.getLabels(),l=n===a,c=[];let h,u,m,g;for(h=t,u=t+i;h<u;++h)g=e[h],m={},m[n.axis]=l||n.parse(r[h],h),c.push(id(g,m,a,h));return c}function ka(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function Kg(s,e,t){return s!==0?_t(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function Gg(s){let e,t,i,n,a;return s.horizontal?(e=s.base>s.x,t="left",i="right"):(e=s.base<s.y,t="bottom",i="top"),e?(n="end",a="start"):(n="start",a="end"),{start:t,end:i,reverse:e,top:n,bottom:a}}function Xg(s,e,t,i){let n=e.borderSkipped;const a={};if(!n){s.borderSkipped=a;return}if(n===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:l,reverse:c,top:h,bottom:u}=Gg(s);n==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===i?n=h:(t._bottom||0)===i?n=u:(a[El(u,r,l,c)]=!0,n=h)),a[El(n,r,l,c)]=!0,s.borderSkipped=a}function El(s,e,t,i){return i?(s=Qg(s,e,t),s=Dl(s,t,e)):s=Dl(s,e,t),s}function Qg(s,e,t){return s===e?t:s===t?e:s}function Dl(s,e,t){return s==="start"?e:s==="end"?t:s}function Zg(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class un extends Os{parsePrimitiveData(e,t,i,n){return Ml(e,t,i,n)}parseArrayData(e,t,i,n){return Ml(e,t,i,n)}parseObjectData(e,t,i,n){const{iScale:a,vScale:r}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=a.axis==="x"?l:c,u=r.axis==="x"?l:c,m=[];let g,b,v,x;for(g=i,b=i+n;g<b;++g)x=t[g],v={},v[a.axis]=a.parse(os(x,h),g),m.push(id(os(x,u),v,r,g));return m}updateRangeFromParsed(e,t,i,n){super.updateRangeFromParsed(e,t,i,n);const a=i._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:n}=t,a=this.getParsed(e),r=a._custom,l=ka(r)?"["+r.start+", "+r.end+"]":""+n.getLabelForValue(a[n.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,n){const a=n==="reset",{index:r,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),h=l.isHorizontal(),u=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(t,n);for(let b=t;b<t+i;b++){const v=this.getParsed(b),x=a||pe(v[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(b),y=this._calculateBarIndexPixels(b,u),w=(v._stacks||{})[l.axis],N={horizontal:h,base:x.base,enableBorderRadius:!w||ka(v._custom)||r===w._top||r===w._bottom,x:h?x.head:y.center,y:h?y.center:x.head,height:h?y.size:Math.abs(x.size),width:h?Math.abs(x.size):y.size};g&&(N.options=m||this.resolveDataElementOptions(b,e[b].active?"active":n));const S=N.options||e[b].options;Xg(N,S,w,r),Zg(N,S,u.ratio),this.updateElement(e[b],b,N,n)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=i.options.stacked,r=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[i.axis],h=u=>{const m=u._parsed.find(b=>b[i.axis]===c),g=m&&m[u.vScale.axis];if(pe(g)||isNaN(g))return!0};for(const u of n)if(!(t!==void 0&&h(u))&&((a===!1||r.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&r.push(u.stack),u.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[J(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const n=this._getStacks(e,i),a=t!==void 0?n.indexOf(t):-1;return a===-1?n.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,n=[];let a,r;for(a=0,r=t.data.length;a<r;++a)n.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const l=e.barThickness;return{min:l||Vg(t),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:n},options:{base:a,minBarLength:r}}=this,l=a||0,c=this.getParsed(e),h=c._custom,u=ka(h);let m=c[t.axis],g=0,b=i?this.applyStack(t,c,i):m,v,x;b!==m&&(g=b-m,b=m),u&&(m=h.barStart,b=h.barEnd-h.barStart,m!==0&&_t(m)!==_t(h.barEnd)&&(g=0),g+=m);const y=!pe(a)&&!u?a:g;let w=t.getPixelForValue(y);if(this.chart.getDataVisibility(e)?v=t.getPixelForValue(g+b):v=w,x=v-w,Math.abs(x)<r){x=Kg(x,t,l)*r,m===l&&(w-=x/2);const N=t.getPixelForDecimal(0),S=t.getPixelForDecimal(1),E=Math.min(N,S),M=Math.max(N,S);w=Math.max(Math.min(w,M),E),v=w+x,i&&!u&&(c._stacks[t.axis]._visualValues[n]=t.getValueForPixel(v)-t.getValueForPixel(w))}if(w===t.getPixelForValue(l)){const N=_t(x)*t.getLineWidthForValue(l)/2;w+=N,x-=N}return{size:x,base:w,head:v,center:v+x/2}}_calculateBarIndexPixels(e,t){const i=t.scale,n=this.options,a=n.skipNull,r=J(n.maxBarThickness,1/0);let l,c;const h=this._getAxisCount();if(t.grouped){const u=a?this._getStackCount(e):t.stackCount,m=n.barThickness==="flex"?Yg(e,t,n,u*h):Ug(e,t,n,u*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(J(g,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+b;l=m.start+m.chunk*v+m.chunk/2,c=Math.min(r,m.chunk*m.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(r,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,n=i.length;let a=0;for(;a<n;++a)this.getParsed(a)[t.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}O(un,"id","bar"),O(un,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),O(un,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Jg(s,e,t){let i=1,n=1,a=0,r=0;if(e<ye){const l=s,c=l+e,h=Math.cos(l),u=Math.sin(l),m=Math.cos(c),g=Math.sin(c),b=(S,E,M)=>xi(S,l,c,!0)?1:Math.max(E,E*t,M,M*t),v=(S,E,M)=>xi(S,l,c,!0)?-1:Math.min(E,E*t,M,M*t),x=b(0,h,m),y=b(Ce,u,g),w=v(ce,h,m),N=v(ce+Ce,u,g);i=(x-w)/2,n=(y-N)/2,a=-(x+w)/2,r=-(y+N)/2}return{ratioX:i,ratioY:n,offsetX:a,offsetY:r}}class ti extends Os{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=i;else{let a=c=>+i[c];if(ie(i[e])){const{key:c="value"}=this._parsing;a=h=>+os(i[h],c)}let r,l;for(r=e,l=e+t;r<l;++r)n._parsed[r]=a(r)}}_getRotation(){return Tt(this.options.rotation-90)}_getCircumference(){return Tt(this.options.circumference)}_getRotationExtents(){let e=ye,t=-ye;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,a=n._getRotation(),r=n._getCircumference();e=Math.min(e,a),t=Math.max(t,a+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,n=this._cachedMeta,a=n.data,r=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-r)/2,0),c=Math.min(rm(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:u,rotation:m}=this._getRotationExtents(),{ratioX:g,ratioY:b,offsetX:v,offsetY:x}=Jg(m,u,c),y=(i.width-r)/g,w=(i.height-r)/b,N=Math.max(Math.min(y,w)/2,0),S=Rc(this.options.radius,N),E=Math.max(S*c,0),M=(S-E)/this._getVisibleDatasetWeightTotal();this.offsetX=v*S,this.offsetY=x*S,n.total=this.calculateTotal(),this.outerRadius=S-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*h,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const i=this.options,n=this._cachedMeta,a=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*a/ye)}updateElements(e,t,i,n){const a=n==="reset",r=this.chart,l=r.chartArea,h=r.options.animation,u=(l.left+l.right)/2,m=(l.top+l.bottom)/2,g=a&&h.animateScale,b=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:x,includeOptions:y}=this._getSharedOptions(t,n);let w=this._getRotation(),N;for(N=0;N<t;++N)w+=this._circumference(N,a);for(N=t;N<t+i;++N){const S=this._circumference(N,a),E=e[N],M={x:u+this.offsetX,y:m+this.offsetY,startAngle:w,endAngle:w+S,circumference:S,outerRadius:v,innerRadius:b};y&&(M.options=x||this.resolveDataElementOptions(N,E.active?"active":n)),w+=S,this.updateElement(E,N,M,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,n;for(n=0;n<t.length;n++){const a=e._parsed[n];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(n)&&!t[n].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?ye*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,n=i.data.labels||[],a=tr(t._parsed[e],i.options.locale);return{label:n[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const i=this.chart;let n,a,r,l,c;if(!e){for(n=0,a=i.data.datasets.length;n<a;++n)if(i.isDatasetVisible(n)){r=i.getDatasetMeta(n),e=r.data,l=r.controller;break}}if(!e)return 0;for(n=0,a=e.length;n<a;++n)c=l.resolveDataElementOptions(n),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,n=e.length;i<n;++i){const a=this.resolveDataElementOptions(i);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(J(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}O(ti,"id","doughnut"),O(ti,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),O(ti,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),O(ti,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((a,r)=>{const c=e.getDatasetMeta(0).controller.getStyle(r);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});function ss(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dr{constructor(e){O(this,"options");this.options=e||{}}static override(e){Object.assign(dr.prototype,e)}init(){}formats(){return ss()}parse(){return ss()}format(){return ss()}add(){return ss()}diff(){return ss()}startOf(){return ss()}endOf(){return ss()}}var ep={_date:dr};function tp(s,e,t,i){const{controller:n,data:a,_sorted:r}=s,l=n._cachedMeta.iScale,c=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&r&&a.length){const h=l._reversePixels?ym:Ra;if(i){if(n._sharedOptions){const u=a[0],m=typeof u.getRange=="function"&&u.getRange(e);if(m){const g=h(a,e,t-m),b=h(a,e,t+m);return{lo:g.lo,hi:b.hi}}}}else{const u=h(a,e,t);if(c){const{vScale:m}=n._cachedMeta,{_parsed:g}=s,b=g.slice(0,u.lo+1).reverse().findIndex(x=>!pe(x[m.axis]));u.lo-=Math.max(0,b);const v=g.slice(u.hi).findIndex(x=>!pe(x[m.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:a.length-1}}function Dn(s,e,t,i,n){const a=s.getSortedVisibleDatasetMetas(),r=t[e];for(let l=0,c=a.length;l<c;++l){const{index:h,data:u}=a[l],{lo:m,hi:g}=tp(a[l],e,r,n);for(let b=m;b<=g;++b){const v=u[b];v.skip||i(v,h,b)}}}function sp(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(i,n){const a=e?Math.abs(i.x-n.x):0,r=t?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}function Na(s,e,t,i,n){const a=[];return!n&&!s.isPointInArea(e)||Dn(s,t,e,function(l,c,h){!n&&!bi(l,s.chartArea,0)||l.inRange(e.x,e.y,i)&&a.push({element:l,datasetIndex:c,index:h})},!0),a}function ip(s,e,t,i){let n=[];function a(r,l,c){const{startAngle:h,endAngle:u}=r.getProps(["startAngle","endAngle"],i),{angle:m}=zc(r,{x:e.x,y:e.y});xi(m,h,u)&&n.push({element:r,datasetIndex:l,index:c})}return Dn(s,t,e,a),n}function np(s,e,t,i,n,a){let r=[];const l=sp(t);let c=Number.POSITIVE_INFINITY;function h(u,m,g){const b=u.inRange(e.x,e.y,n);if(i&&!b)return;const v=u.getCenterPoint(n);if(!(!!a||s.isPointInArea(v))&&!b)return;const y=l(e,v);y<c?(r=[{element:u,datasetIndex:m,index:g}],c=y):y===c&&r.push({element:u,datasetIndex:m,index:g})}return Dn(s,t,e,h),r}function Ca(s,e,t,i,n,a){return!a&&!s.isPointInArea(e)?[]:t==="r"&&!i?ip(s,e,t,n):np(s,e,t,i,n,a)}function Ol(s,e,t,i,n){const a=[],r=t==="x"?"inXRange":"inYRange";let l=!1;return Dn(s,t,e,(c,h,u)=>{c[r]&&c[r](e[t],n)&&(a.push({element:c,datasetIndex:h,index:u}),l=l||c.inRange(e.x,e.y,n))}),i&&!l?[]:a}var ap={modes:{index(s,e,t,i){const n=is(e,s),a=t.axis||"x",r=t.includeInvisible||!1,l=t.intersect?Na(s,n,a,i,r):Ca(s,n,a,!1,i,r),c=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(h=>{const u=l[0].index,m=h.data[u];m&&!m.skip&&c.push({element:m,datasetIndex:h.index,index:u})}),c):[]},dataset(s,e,t,i){const n=is(e,s),a=t.axis||"xy",r=t.includeInvisible||!1;let l=t.intersect?Na(s,n,a,i,r):Ca(s,n,a,!1,i,r);if(l.length>0){const c=l[0].datasetIndex,h=s.getDatasetMeta(c).data;l=[];for(let u=0;u<h.length;++u)l.push({element:h[u],datasetIndex:c,index:u})}return l},point(s,e,t,i){const n=is(e,s),a=t.axis||"xy",r=t.includeInvisible||!1;return Na(s,n,a,i,r)},nearest(s,e,t,i){const n=is(e,s),a=t.axis||"xy",r=t.includeInvisible||!1;return Ca(s,n,a,t.intersect,i,r)},x(s,e,t,i){const n=is(e,s);return Ol(s,n,"x",t.intersect,i)},y(s,e,t,i){const n=is(e,s);return Ol(s,n,"y",t.intersect,i)}}};const nd=["left","top","right","bottom"];function Gs(s,e){return s.filter(t=>t.pos===e)}function Pl(s,e){return s.filter(t=>nd.indexOf(t.pos)===-1&&t.box.axis===e)}function Xs(s,e){return s.sort((t,i)=>{const n=e?i:t,a=e?t:i;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function rp(s){const e=[];let t,i,n,a,r,l;for(t=0,i=(s||[]).length;t<i;++t)n=s[t],{position:a,options:{stack:r,stackWeight:l=1}}=n,e.push({index:t,box:n,pos:a,horizontal:n.isHorizontal(),weight:n.weight,stack:r&&a+r,stackWeight:l});return e}function op(s){const e={};for(const t of s){const{stack:i,pos:n,stackWeight:a}=t;if(!i||!nd.includes(n))continue;const r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=a}return e}function lp(s,e){const t=op(s),{vBoxMaxWidth:i,hBoxMaxHeight:n}=e;let a,r,l;for(a=0,r=s.length;a<r;++a){l=s[a];const{fullSize:c}=l.box,h=t[l.stack],u=h&&l.stackWeight/h.weight;l.horizontal?(l.width=u?u*i:c&&e.availableWidth,l.height=n):(l.width=i,l.height=u?u*n:c&&e.availableHeight)}return t}function cp(s){const e=rp(s),t=Xs(e.filter(h=>h.box.fullSize),!0),i=Xs(Gs(e,"left"),!0),n=Xs(Gs(e,"right")),a=Xs(Gs(e,"top"),!0),r=Xs(Gs(e,"bottom")),l=Pl(e,"x"),c=Pl(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:n.concat(c).concat(r).concat(l),chartArea:Gs(e,"chartArea"),vertical:i.concat(n).concat(c),horizontal:a.concat(r).concat(l)}}function Ll(s,e,t,i){return Math.max(s[t],e[t])+Math.max(s[i],e[i])}function ad(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function dp(s,e,t,i){const{pos:n,box:a}=t,r=s.maxPadding;if(!ie(n)){t.size&&(s[n]-=t.size);const m=i[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?a.height:a.width),t.size=m.size/m.count,s[n]+=t.size}a.getPadding&&ad(r,a.getPadding());const l=Math.max(0,e.outerWidth-Ll(r,s,"left","right")),c=Math.max(0,e.outerHeight-Ll(r,s,"top","bottom")),h=l!==s.w,u=c!==s.h;return s.w=l,s.h=c,t.horizontal?{same:h,other:u}:{same:u,other:h}}function hp(s){const e=s.maxPadding;function t(i){const n=Math.max(e[i]-s[i],0);return s[i]+=n,n}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function up(s,e){const t=e.maxPadding;function i(n){const a={left:0,top:0,right:0,bottom:0};return n.forEach(r=>{a[r]=Math.max(e[r],t[r])}),a}return i(s?["left","right"]:["top","bottom"])}function si(s,e,t,i){const n=[];let a,r,l,c,h,u;for(a=0,r=s.length,h=0;a<r;++a){l=s[a],c=l.box,c.update(l.width||e.w,l.height||e.h,up(l.horizontal,e));const{same:m,other:g}=dp(e,t,l,i);h|=m&&n.length,u=u||g,c.fullSize||n.push(l)}return h&&si(n,e,t,i)||u}function tn(s,e,t,i,n){s.top=t,s.left=e,s.right=e+i,s.bottom=t+n,s.width=i,s.height=n}function Rl(s,e,t,i){const n=t.padding;let{x:a,y:r}=e;for(const l of s){const c=l.box,h=i[l.stack]||{placed:0,weight:1},u=l.stackWeight/h.weight||1;if(l.horizontal){const m=e.w*u,g=h.size||c.height;pi(h.start)&&(r=h.start),c.fullSize?tn(c,n.left,r,t.outerWidth-n.right-n.left,g):tn(c,e.left+h.placed,r,m,g),h.start=r,h.placed+=m,r=c.bottom}else{const m=e.h*u,g=h.size||c.width;pi(h.start)&&(a=h.start),c.fullSize?tn(c,a,n.top,g,t.outerHeight-n.bottom-n.top):tn(c,a,e.top+h.placed,g,m),h.start=a,h.placed+=m,a=c.right}}e.x=a,e.y=r}var it={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,i){if(!s)return;const n=at(s.options.layout.padding),a=Math.max(e-n.width,0),r=Math.max(t-n.height,0),l=cp(s.boxes),c=l.vertical,h=l.horizontal;le(s.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,y)=>y.box.options&&y.box.options.display===!1?x:x+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:n,availableWidth:a,availableHeight:r,vBoxMaxWidth:a/2/u,hBoxMaxHeight:r/2}),g=Object.assign({},n);ad(g,at(i));const b=Object.assign({maxPadding:g,w:a,h:r,x:n.left,y:n.top},n),v=lp(c.concat(h),m);si(l.fullSize,b,m,v),si(c,b,m,v),si(h,b,m,v)&&si(c,b,m,v),hp(b),Rl(l.leftAndTop,b,m,v),b.x+=b.w,b.y+=b.h,Rl(l.rightAndBottom,b,m,v),s.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},le(l.chartArea,x=>{const y=x.box;Object.assign(y,s.chartArea),y.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class rd{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class fp extends rd{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const fn="$chartjs",mp={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Il=s=>s===null||s==="";function gp(s,e){const t=s.style,i=s.getAttribute("height"),n=s.getAttribute("width");if(s[fn]={initial:{height:i,width:n,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Il(n)){const a=vl(s,"width");a!==void 0&&(s.width=a)}if(Il(i))if(s.style.height==="")s.height=s.width/(e||2);else{const a=vl(s,"height");a!==void 0&&(s.height=a)}return s}const od=mg?{passive:!0}:!1;function pp(s,e,t){s&&s.addEventListener(e,t,od)}function xp(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,od)}function bp(s,e){const t=mp[s.type]||s.type,{x:i,y:n}=is(s,e);return{type:t,chart:e,native:s,x:i!==void 0?i:null,y:n!==void 0?n:null}}function kn(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function _p(s,e,t){const i=s.canvas,n=new MutationObserver(a=>{let r=!1;for(const l of a)r=r||kn(l.addedNodes,i),r=r&&!kn(l.removedNodes,i);r&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}function vp(s,e,t){const i=s.canvas,n=new MutationObserver(a=>{let r=!1;for(const l of a)r=r||kn(l.removedNodes,i),r=r&&!kn(l.addedNodes,i);r&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}const vi=new Map;let Fl=0;function ld(){const s=window.devicePixelRatio;s!==Fl&&(Fl=s,vi.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function yp(s,e){vi.size||window.addEventListener("resize",ld),vi.set(s,e)}function wp(s){vi.delete(s),vi.size||window.removeEventListener("resize",ld)}function jp(s,e,t){const i=s.canvas,n=i&&cr(i);if(!n)return;const a=Wc((l,c)=>{const h=n.clientWidth;t(l,c),h<n.clientWidth&&t()},window),r=new ResizeObserver(l=>{const c=l[0],h=c.contentRect.width,u=c.contentRect.height;h===0&&u===0||a(h,u)});return r.observe(n),yp(s,a),r}function Sa(s,e,t){t&&t.disconnect(),e==="resize"&&wp(s)}function kp(s,e,t){const i=s.canvas,n=Wc(a=>{s.ctx!==null&&t(bp(a,s))},s);return pp(i,e,n),n}class Np extends rd{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(gp(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[fn])return!1;const i=t[fn].initial;["height","width"].forEach(a=>{const r=i[a];pe(r)?t.removeAttribute(a):t.setAttribute(a,r)});const n=i.style||{};return Object.keys(n).forEach(a=>{t.style[a]=n[a]}),t.width=t.width,delete t[fn],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),r={attach:_p,detach:vp,resize:jp}[t]||kp;n[t]=r(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),n=i[t];if(!n)return;({attach:Sa,detach:Sa,resize:Sa}[t]||xp)(e,t,n),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return fg(e,t,i,n)}isAttached(e){const t=e&&cr(e);return!!(t&&t.isConnected)}}function Cp(s){return!lr()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?fp:Np}var dn;let Et=(dn=class{constructor(){O(this,"x");O(this,"y");O(this,"active",!1);O(this,"options");O(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return yn(this.x)&&yn(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const n={};return e.forEach(a=>{n[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),n}},O(dn,"defaults",{}),O(dn,"defaultRoutes"),dn);function Sp(s,e){const t=s.options.ticks,i=Tp(s),n=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?Mp(e):[],r=a.length,l=a[0],c=a[r-1],h=[];if(r>n)return Ep(e,h,a,r/n),h;const u=Ap(a,e,n);if(r>0){let m,g;const b=r>1?Math.round((c-l)/(r-1)):null;for(sn(e,h,u,pe(b)?0:l-b,l),m=0,g=r-1;m<g;m++)sn(e,h,u,a[m],a[m+1]);return sn(e,h,u,c,pe(b)?e.length:c+b),h}return sn(e,h,u),h}function Tp(s){const e=s.options.offset,t=s._tickSize(),i=s._length/t+(e?0:1),n=s._maxLength/t;return Math.floor(Math.min(i,n))}function Ap(s,e,t){const i=Dp(s),n=e.length/t;if(!i)return Math.max(n,1);const a=mm(i);for(let r=0,l=a.length-1;r<l;r++){const c=a[r];if(c>n)return c}return Math.max(n,1)}function Mp(s){const e=[];let t,i;for(t=0,i=s.length;t<i;t++)s[t].major&&e.push(t);return e}function Ep(s,e,t,i){let n=0,a=t[0],r;for(i=Math.ceil(i),r=0;r<s.length;r++)r===a&&(e.push(s[r]),n++,a=t[n*i])}function sn(s,e,t,i,n){const a=J(i,0),r=Math.min(J(n,s.length),s.length);let l=0,c,h,u;for(t=Math.ceil(t),n&&(c=n-i,t=c/Math.floor(c/t)),u=a;u<0;)l++,u=Math.round(a+l*t);for(h=Math.max(a,0);h<r;h++)h===u&&(e.push(s[h]),l++,u=Math.round(a+l*t))}function Dp(s){const e=s.length;let t,i;if(e<2)return!1;for(i=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==i)return!1;return i}const Op=s=>s==="left"?"right":s==="right"?"left":s,zl=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,$l=(s,e)=>Math.min(e||s,s);function Bl(s,e){const t=[],i=s.length/e,n=s.length;let a=0;for(;a<n;a+=i)t.push(s[Math.floor(a)]);return t}function Pp(s,e,t){const i=s.ticks.length,n=Math.min(e,i-1),a=s._startPixel,r=s._endPixel,l=1e-6;let c=s.getPixelForTick(n),h;if(!(t&&(i===1?h=Math.max(c-a,r-c):e===0?h=(s.getPixelForTick(1)-c)/2:h=(c-s.getPixelForTick(n-1))/2,c+=n<e?h:-h,c<a-l||c>r+l)))return c}function Lp(s,e){le(s,t=>{const i=t.gc,n=i.length/2;let a;if(n>e){for(a=0;a<n;++a)delete t.data[i[a]];i.splice(0,n)}})}function Qs(s){return s.drawTicks?s.tickLength:0}function Hl(s,e){if(!s.display)return 0;const t=Oe(s.font,e),i=at(s.padding);return(Ne(s.text)?s.text.length:1)*t.lineHeight+i.height}function Rp(s,e){return hs(s,{scale:e,type:"scale"})}function Ip(s,e,t){return hs(s,{tick:t,index:e,type:"tick"})}function Fp(s,e,t){let i=Ja(s);return(t&&e!=="right"||!t&&e==="right")&&(i=Op(i)),i}function zp(s,e,t,i){const{top:n,left:a,bottom:r,right:l,chart:c}=s,{chartArea:h,scales:u}=c;let m=0,g,b,v;const x=r-n,y=l-a;if(s.isHorizontal()){if(b=De(i,a,l),ie(t)){const w=Object.keys(t)[0],N=t[w];v=u[w].getPixelForValue(N)+x-e}else t==="center"?v=(h.bottom+h.top)/2+x-e:v=zl(s,t,e);g=l-a}else{if(ie(t)){const w=Object.keys(t)[0],N=t[w];b=u[w].getPixelForValue(N)-y+e}else t==="center"?b=(h.left+h.right)/2-y+e:b=zl(s,t,e);v=De(i,r,n),m=t==="left"?-Ce:Ce}return{titleX:b,titleY:v,maxWidth:g,rotation:m}}class Is extends Et{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=mt(e,Number.POSITIVE_INFINITY),t=mt(t,Number.NEGATIVE_INFINITY),i=mt(i,Number.POSITIVE_INFINITY),n=mt(n,Number.NEGATIVE_INFINITY),{min:mt(e,i),max:mt(t,n),minDefined:nt(e),maxDefined:nt(t)}}getMinMax(e){let{min:t,max:i,minDefined:n,maxDefined:a}=this.getUserBounds(),r;if(n&&a)return{min:t,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,h=l.length;c<h;++c)r=l[c].controller.getMinMax(this,e),n||(t=Math.min(t,r.min)),a||(i=Math.max(i,r.max));return t=a&&t>i?i:t,i=n&&t>i?t:i,{min:mt(t,mt(i,t)),max:mt(i,mt(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){be(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:n,grace:a,ticks:r}=this.options,l=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Um(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Bl(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=Sp(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){be(this.options.afterUpdate,[this])}beforeSetDimensions(){be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,n,a;for(i=0,n=e.length;i<n;i++)a=e[i],a.label=be(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=$l(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,a=t.maxRotation;let r=n,l,c,h;if(!this._isVisible()||!t.display||n>=a||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),m=u.widest.width,g=u.highest.height,b=We(this.chart.width-m,0,this.maxWidth);l=e.offset?this.maxWidth/i:b/(i-1),m+6>l&&(l=b/(i-(e.offset?.5:1)),c=this.maxHeight-Qs(e.grid)-t.padding-Hl(e.title,this.chart.options.font),h=Math.sqrt(m*m+g*g),r=bm(Math.min(Math.asin(We((u.highest.height+6)/l,-1,1)),Math.asin(We(c/h,-1,1))-Math.asin(We(g/h,-1,1)))),r=Math.max(n,Math.min(a,r))),this.labelRotation=r}afterCalculateLabelRotation(){be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:a}}=this,r=this._isVisible(),l=this.isHorizontal();if(r){const c=Hl(n,t.options.font);if(l?(e.width=this.maxWidth,e.height=Qs(a)+c):(e.height=this.maxHeight,e.width=Qs(a)+c),i.display&&this.ticks.length){const{first:h,last:u,widest:m,highest:g}=this._getLabelSizes(),b=i.padding*2,v=Tt(this.labelRotation),x=Math.cos(v),y=Math.sin(v);if(l){const w=i.mirror?0:y*m.width+x*g.height;e.height=Math.min(this.maxHeight,e.height+w+b)}else{const w=i.mirror?0:x*m.width+y*g.height;e.width=Math.min(this.maxWidth,e.width+w+b)}this._calculatePadding(h,u,y,x)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){const{ticks:{align:a,padding:r},position:l}=this.options,c=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,b=0;c?h?(g=n*e.width,b=i*t.height):(g=i*e.height,b=n*t.width):a==="start"?b=t.width:a==="end"?g=e.width:a!=="inner"&&(g=e.width/2,b=t.width/2),this.paddingLeft=Math.max((g-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((b-m+r)*this.width/(this.width-m),0)}else{let u=t.height/2,m=e.height/2;a==="start"?(u=0,m=e.height):a==="end"&&(u=t.height,m=0),this.paddingTop=u+r,this.paddingBottom=m+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)pe(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=Bl(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:n,_longestTextCache:a}=this,r=[],l=[],c=Math.floor(t/$l(t,i));let h=0,u=0,m,g,b,v,x,y,w,N,S,E,M;for(m=0;m<t;m+=c){if(v=e[m].label,x=this._resolveTickFontOptions(m),n.font=y=x.string,w=a[y]=a[y]||{data:{},gc:[]},N=x.lineHeight,S=E=0,!pe(v)&&!Ne(v))S=gl(n,w.data,w.gc,S,v),E=N;else if(Ne(v))for(g=0,b=v.length;g<b;++g)M=v[g],!pe(M)&&!Ne(M)&&(S=gl(n,w.data,w.gc,S,M),E+=N);r.push(S),l.push(E),h=Math.max(S,h),u=Math.max(E,u)}Lp(a,t);const I=r.indexOf(h),$=l.indexOf(u),F=H=>({width:r[H]||0,height:l[H]||0});return{first:F(0),last:F(t-1),widest:F(I),highest:F($),widths:r,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return vm(this._alignToPixels?ts(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=Ip(this.getContext(),e,i))}return this.$context||(this.$context=Rp(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Tt(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),a=this._getLabelSizes(),r=e.autoSkipPadding||0,l=a?a.widest.width+r:0,c=a?a.highest.height+r:0;return this.isHorizontal()?c*i>l*n?l/i:c/n:c*n<l*i?c/i:l/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,n=this.options,{grid:a,position:r,border:l}=n,c=a.offset,h=this.isHorizontal(),m=this.ticks.length+(c?1:0),g=Qs(a),b=[],v=l.setContext(this.getContext()),x=v.display?v.width:0,y=x/2,w=function(ae){return ts(i,ae,x)};let N,S,E,M,I,$,F,H,W,G,Z,_e;if(r==="top")N=w(this.bottom),$=this.bottom-g,H=N-y,G=w(e.top)+y,_e=e.bottom;else if(r==="bottom")N=w(this.top),G=e.top,_e=w(e.bottom)-y,$=N+y,H=this.top+g;else if(r==="left")N=w(this.right),I=this.right-g,F=N-y,W=w(e.left)+y,Z=e.right;else if(r==="right")N=w(this.left),W=e.left,Z=w(e.right)-y,I=N+y,F=this.left+g;else if(t==="x"){if(r==="center")N=w((e.top+e.bottom)/2+.5);else if(ie(r)){const ae=Object.keys(r)[0],me=r[ae];N=w(this.chart.scales[ae].getPixelForValue(me))}G=e.top,_e=e.bottom,$=N+y,H=$+g}else if(t==="y"){if(r==="center")N=w((e.left+e.right)/2);else if(ie(r)){const ae=Object.keys(r)[0],me=r[ae];N=w(this.chart.scales[ae].getPixelForValue(me))}I=N-y,F=I-g,W=e.left,Z=e.right}const Se=J(n.ticks.maxTicksLimit,m),se=Math.max(1,Math.ceil(m/Se));for(S=0;S<m;S+=se){const ae=this.getContext(S),me=a.setContext(ae),Ae=l.setContext(ae),ke=me.lineWidth,K=me.color,T=Ae.dash||[],Pe=Ae.dashOffset,Ee=me.tickWidth,$e=me.tickColor,Me=me.tickBorderDash||[],Ve=me.tickBorderDashOffset;E=Pp(this,S,c),E!==void 0&&(M=ts(i,E,ke),h?I=F=W=Z=M:$=H=G=_e=M,b.push({tx1:I,ty1:$,tx2:F,ty2:H,x1:W,y1:G,x2:Z,y2:_e,width:ke,color:K,borderDash:T,borderDashOffset:Pe,tickWidth:Ee,tickColor:$e,tickBorderDash:Me,tickBorderDashOffset:Ve}))}return this._ticksLength=m,this._borderValue=N,b}_computeLabelItems(e){const t=this.axis,i=this.options,{position:n,ticks:a}=i,r=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:h,padding:u,mirror:m}=a,g=Qs(i.grid),b=g+u,v=m?-u:b,x=-Tt(this.labelRotation),y=[];let w,N,S,E,M,I,$,F,H,W,G,Z,_e="middle";if(n==="top")I=this.bottom-v,$=this._getXAxisLabelAlignment();else if(n==="bottom")I=this.top+v,$=this._getXAxisLabelAlignment();else if(n==="left"){const se=this._getYAxisLabelAlignment(g);$=se.textAlign,M=se.x}else if(n==="right"){const se=this._getYAxisLabelAlignment(g);$=se.textAlign,M=se.x}else if(t==="x"){if(n==="center")I=(e.top+e.bottom)/2+b;else if(ie(n)){const se=Object.keys(n)[0],ae=n[se];I=this.chart.scales[se].getPixelForValue(ae)+b}$=this._getXAxisLabelAlignment()}else if(t==="y"){if(n==="center")M=(e.left+e.right)/2-b;else if(ie(n)){const se=Object.keys(n)[0],ae=n[se];M=this.chart.scales[se].getPixelForValue(ae)}$=this._getYAxisLabelAlignment(g).textAlign}t==="y"&&(c==="start"?_e="top":c==="end"&&(_e="bottom"));const Se=this._getLabelSizes();for(w=0,N=l.length;w<N;++w){S=l[w],E=S.label;const se=a.setContext(this.getContext(w));F=this.getPixelForTick(w)+a.labelOffset,H=this._resolveTickFontOptions(w),W=H.lineHeight,G=Ne(E)?E.length:1;const ae=G/2,me=se.color,Ae=se.textStrokeColor,ke=se.textStrokeWidth;let K=$;r?(M=F,$==="inner"&&(w===N-1?K=this.options.reverse?"left":"right":w===0?K=this.options.reverse?"right":"left":K="center"),n==="top"?h==="near"||x!==0?Z=-G*W+W/2:h==="center"?Z=-Se.highest.height/2-ae*W+W:Z=-Se.highest.height+W/2:h==="near"||x!==0?Z=W/2:h==="center"?Z=Se.highest.height/2-ae*W:Z=Se.highest.height-G*W,m&&(Z*=-1),x!==0&&!se.showLabelBackdrop&&(M+=W/2*Math.sin(x))):(I=F,Z=(1-G)*W/2);let T;if(se.showLabelBackdrop){const Pe=at(se.backdropPadding),Ee=Se.heights[w],$e=Se.widths[w];let Me=Z-Pe.top,Ve=0-Pe.left;switch(_e){case"middle":Me-=Ee/2;break;case"bottom":Me-=Ee;break}switch($){case"center":Ve-=$e/2;break;case"right":Ve-=$e;break;case"inner":w===N-1?Ve-=$e:w>0&&(Ve-=$e/2);break}T={left:Ve,top:Me,width:$e+Pe.width,height:Ee+Pe.height,color:se.backdropColor}}y.push({label:E,font:H,textOffset:Z,options:{rotation:x,color:me,strokeColor:Ae,strokeWidth:ke,textAlign:K,textBaseline:_e,translation:[M,I],backdrop:T}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Tt(this.labelRotation))return e==="top"?"left":"right";let n="center";return t.align==="start"?n="left":t.align==="end"?n="right":t.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:n,padding:a}}=this.options,r=this._getLabelSizes(),l=e+a,c=r.widest.width;let h,u;return t==="left"?n?(u=this.right+a,i==="near"?h="left":i==="center"?(h="center",u+=c/2):(h="right",u+=c)):(u=this.right-l,i==="near"?h="right":i==="center"?(h="center",u-=c/2):(h="left",u=this.left)):t==="right"?n?(u=this.left+a,i==="near"?h="right":i==="center"?(h="center",u-=c/2):(h="left",u-=c)):(u=this.left+l,i==="near"?h="left":i==="center"?(h="center",u+=c/2):(h="right",u=this.right)):h="right",{textAlign:h,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:n,width:a,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,a,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(a=>a.value===e);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,r;const l=(c,h,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(t.display)for(a=0,r=n.length;a<r;++a){const c=n[a];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:n}}=this,a=i.setContext(this.getContext()),r=i.display?a.width:0;if(!r)return;const l=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,u,m,g;this.isHorizontal()?(h=ts(e,this.left,r)-r/2,u=ts(e,this.right,l)+l/2,m=g=c):(m=ts(e,this.top,r)-r/2,g=ts(e,this.bottom,l)+l/2,h=u=c),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(h,m),t.lineTo(u,g),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&sr(i,n);const a=this.getLabelItems(e);for(const r of a){const l=r.options,c=r.font,h=r.label,u=r.textOffset;_i(i,h,0,u,c,l)}n&&ir(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:n}}=this;if(!i.display)return;const a=Oe(i.font),r=at(i.padding),l=i.align;let c=a.lineHeight/2;t==="bottom"||t==="center"||ie(t)?(c+=r.bottom,Ne(i.text)&&(c+=a.lineHeight*(i.text.length-1))):c+=r.top;const{titleX:h,titleY:u,maxWidth:m,rotation:g}=zp(this,c,t,l);_i(e,i.text,0,0,a,{color:i.color,maxWidth:m,rotation:g,textAlign:Fp(l,t,n),textBaseline:"middle",translation:[h,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=J(e.grid&&e.grid.z,-1),n=J(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Is.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let a,r;for(a=0,r=t.length;a<r;++a){const l=t[a];l[i]===this.id&&(!e||l.type===e)&&n.push(l)}return n}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Oe(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nn{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;Hp(t)&&(i=this.register(t));const n=this.items,a=e.id,r=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in n||(n[a]=e,$p(e,r,i),this.override&&je.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in je[n]&&(delete je[n][i],this.override&&delete ls[i])}}function $p(s,e,t){const i=gi(Object.create(null),[t?je.get(t):{},je.get(e),s.defaults]);je.set(e,i),s.defaultRoutes&&Bp(e,s.defaultRoutes),s.descriptors&&je.describe(e,s.descriptors)}function Bp(s,e){Object.keys(e).forEach(t=>{const i=t.split("."),n=i.pop(),a=[s].concat(i).join("."),r=e[t].split("."),l=r.pop(),c=r.join(".");je.route(a,n,c,l)})}function Hp(s){return"id"in s&&"defaults"in s}class Wp{constructor(){this.controllers=new nn(Os,"datasets",!0),this.elements=new nn(Et,"elements"),this.plugins=new nn(Object,"plugins"),this.scales=new nn(Is,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(n=>{const a=i||this._getRegistryForType(n);i||a.isForType(n)||a===this.plugins&&n.id?this._exec(e,a,n):le(n,r=>{const l=i||this._getRegistryForType(r);this._exec(e,l,r)})})}_exec(e,t,i){const n=Qa(e);be(i["before"+n],[],i),t[e](i),be(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const n=t.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return n}}var pt=new Wp;class Vp{constructor(){this._init=[]}notify(e,t,i,n){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=n?this._descriptors(e).filter(n):this._descriptors(e),r=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,i,n){n=n||{};for(const a of e){const r=a.plugin,l=r[i],c=[t,n,a.options];if(be(l,c,r)===!1&&n.cancelable)return!1}return!0}invalidate(){pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,n=J(i.options&&i.options.plugins,{}),a=Up(i);return n===!1&&!t?[]:qp(e,a,n,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,n=(a,r)=>a.filter(l=>!r.some(c=>l.plugin.id===c.plugin.id));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function Up(s){const e={},t=[],i=Object.keys(pt.plugins.items);for(let a=0;a<i.length;a++)t.push(pt.getPlugin(i[a]));const n=s.plugins||[];for(let a=0;a<n.length;a++){const r=n[a];t.indexOf(r)===-1&&(t.push(r),e[r.id]=!0)}return{plugins:t,localIds:e}}function Yp(s,e){return!e&&s===!1?null:s===!0?{}:s}function qp(s,{plugins:e,localIds:t},i,n){const a=[],r=s.getContext();for(const l of e){const c=l.id,h=Yp(i[c],n);h!==null&&a.push({plugin:l,options:Kp(s.config,{plugin:l,local:t[c]},h,r)})}return a}function Kp(s,{plugin:e,local:t},i,n){const a=s.pluginScopeKeys(e),r=s.getOptionScopes(i,a);return t&&e.defaults&&r.push(e.defaults),s.createResolver(r,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function za(s,e){const t=je.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Gp(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function Xp(s,e){return s===e?"_index_":"_value_"}function Wl(s){if(s==="x"||s==="y"||s==="r")return s}function Qp(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function $a(s,...e){if(Wl(s))return s;for(const t of e){const i=t.axis||Qp(t.position)||s.length>1&&Wl(s[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function Vl(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function Zp(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===s||i.yAxisID===s);if(t.length)return Vl(s,"x",t[0])||Vl(s,"y",t[0])}return{}}function Jp(s,e){const t=ls[s.type]||{scales:{}},i=e.scales||{},n=za(s.type,e),a=Object.create(null);return Object.keys(i).forEach(r=>{const l=i[r];if(!ie(l))return console.error(`Invalid scale configuration for scale: ${r}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const c=$a(r,l,Zp(r,s),je.scales[l.type]),h=Xp(c,n),u=t.scales||{};a[r]=li(Object.create(null),[{axis:c},l,u[c],u[h]])}),s.data.datasets.forEach(r=>{const l=r.type||s.type,c=r.indexAxis||za(l,e),u=(ls[l]||{}).scales||{};Object.keys(u).forEach(m=>{const g=Gp(m,c),b=r[g+"AxisID"]||g;a[b]=a[b]||Object.create(null),li(a[b],[{axis:g},i[b],u[m]])})}),Object.keys(a).forEach(r=>{const l=a[r];li(l,[je.scales[l.type],je.scale])}),a}function cd(s){const e=s.options||(s.options={});e.plugins=J(e.plugins,{}),e.scales=Jp(s,e)}function dd(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function ex(s){return s=s||{},s.data=dd(s.data),cd(s),s}const Ul=new Map,hd=new Set;function an(s,e){let t=Ul.get(s);return t||(t=e(),Ul.set(s,t),hd.add(t)),t}const Zs=(s,e,t)=>{const i=os(e,t);i!==void 0&&s.add(i)};class tx{constructor(e){this._config=ex(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dd(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),cd(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return an(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return an(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return an(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return an(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let n=i.get(e);return(!n||t)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){const{options:n,type:a}=this,r=this._cachedScopes(e,i),l=r.get(t);if(l)return l;const c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(m=>Zs(c,e,m))),u.forEach(m=>Zs(c,n,m)),u.forEach(m=>Zs(c,ls[a]||{},m)),u.forEach(m=>Zs(c,je,m)),u.forEach(m=>Zs(c,Ia,m))});const h=Array.from(c);return h.length===0&&h.push(Object.create(null)),hd.has(t)&&r.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,ls[t]||{},je.datasets[t]||{},{type:t},je,Ia]}resolveNamedOptions(e,t,i,n=[""]){const a={$shared:!0},{resolver:r,subPrefixes:l}=Yl(this._resolverCache,e,n);let c=r;if(ix(r,t)){a.$shared=!1,i=Ht(i)?i():i;const h=this.createResolver(e,i,l);c=Ls(r,i,h)}for(const h of t)a[h]=c[h];return a}createResolver(e,t,i=[""],n){const{resolver:a}=Yl(this._resolverCache,e,i);return ie(t)?Ls(a,t,void 0,n):a}}function Yl(s,e,t){let i=s.get(e);i||(i=new Map,s.set(e,i));const n=t.join();let a=i.get(n);return a||(a={resolver:ar(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},i.set(n,a)),a}const sx=s=>ie(s)&&Object.getOwnPropertyNames(s).some(e=>Ht(s[e]));function ix(s,e){const{isScriptable:t,isIndexable:i}=qc(s);for(const n of e){const a=t(n),r=i(n),l=(r||a)&&s[n];if(a&&(Ht(l)||sx(l))||r&&Ne(l))return!0}return!1}var nx="4.5.0";const ax=["top","bottom","left","right","chartArea"];function ql(s,e){return s==="top"||s==="bottom"||ax.indexOf(s)===-1&&e==="x"}function Kl(s,e){return function(t,i){return t[s]===i[s]?t[e]-i[e]:t[s]-i[s]}}function Gl(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),be(t&&t.onComplete,[s],e)}function rx(s){const e=s.chart,t=e.options.animation;be(t&&t.onProgress,[s],e)}function ud(s){return lr()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const mn={},Xl=s=>{const e=ud(s);return Object.values(mn).filter(t=>t.canvas===e).pop()};function ox(s,e,t){const i=Object.keys(s);for(const n of i){const a=+n;if(a>=e){const r=s[n];delete s[n],(t>0||a>e)&&(s[a+t]=r)}}}function lx(s,e,t,i){return!t||s.type==="mouseout"?null:i?e:s}var Rt;let On=(Rt=class{static register(...e){pt.add(...e),Ql()}static unregister(...e){pt.remove(...e),Ql()}constructor(e,t){const i=this.config=new tx(t),n=ud(e),a=Xl(n);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Cp(n)),this.platform.updateConfig(i);const l=this.platform.acquireContext(n,r.aspectRatio),c=l&&l.canvas,h=c&&c.height,u=c&&c.width;if(this.id=am(),this.ctx=l,this.canvas=c,this.width=u,this.height=h,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vp,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=km(m=>this.update(m),r.resizeDelay||0),this._dataChanges=[],mn[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Nt.listen(this,"complete",Gl),Nt.listen(this,"progress",rx),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:a}=this;return pe(e)?t&&a?a:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return pt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_l(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pl(this.canvas,this.ctx),this}stop(){return Nt.stop(this),this}resize(e,t){Nt.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,n=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(n,e,t,a),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,_l(this,l,!0)&&(this.notifyPlugins("resize",{size:r}),be(i.onResize,[this,r],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};le(t,(i,n)=>{i.id=n})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce((r,l)=>(r[l]=!1,r),{});let a=[];t&&(a=a.concat(Object.keys(t).map(r=>{const l=t[r],c=$a(r,l),h=c==="r",u=c==="x";return{options:l,dposition:h?"chartArea":u?"bottom":"left",dtype:h?"radialLinear":u?"category":"linear"}}))),le(a,r=>{const l=r.options,c=l.id,h=$a(c,l),u=J(l.type,r.dtype);(l.position===void 0||ql(l.position,h)!==ql(r.dposition))&&(l.position=r.dposition),n[c]=!0;let m=null;if(c in i&&i[c].type===u)m=i[c];else{const g=pt.getScale(u);m=new g({id:c,type:u,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(l,e)}),le(n,(r,l)=>{r||delete i[l]}),le(i,r=>{it.configure(this,r,r.options),it.addBox(this,r)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((n,a)=>n.index-a.index),i>t){for(let n=t;n<i;++n)this._destroyDatasetMeta(n);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Kl("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,n)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=t.length;i<n;i++){const a=t[i];let r=this.getDatasetMeta(i);const l=a.type||this.config.type;if(r.type&&r.type!==l&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=l,r.indexAxis=a.indexAxis||za(l,this.options),r.order=a.order||0,r.index=i,r.label=""+a.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const c=pt.getController(l),{datasetElementType:h,dataElementType:u}=je.datasets[l];Object.assign(c,{dataElementType:pt.getElement(u),datasetElementType:h&&pt.getElement(h)}),r.controller=new c(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){le(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let h=0,u=this.data.datasets.length;h<u;h++){const{controller:m}=this.getDatasetMeta(h),g=!n&&a.indexOf(m)===-1;m.buildOrUpdateElements(g),r=Math.max(+m.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),n||le(a,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Kl("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){le(this.scales,e=>{it.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!rl(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:a}of t){const r=i==="_removeElements"?-a:a;ox(e,n,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(e.filter(r=>r[0]===a).map((r,l)=>l+","+r.splice(1).join(","))),n=i(0);for(let a=1;a<t;a++)if(!rl(n,i(a)))return;return Array.from(n).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;it.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],le(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,a)=>{n._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Ht(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Nt.has(this)?this.attached&&!Nt.running(this)&&Nt.start(this):(this.draw(),Gl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let n,a;for(n=0,a=t.length;n<a;++n){const r=t[n];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},n=Tg(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(n&&sr(t,n),e.controller.draw(),n&&ir(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return bi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){const a=ap.modes[t];return typeof a=="function"?a(this,e,i,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let n=i.filter(a=>a&&a._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=hs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const n=i?"show":"hide",a=this.getDatasetMeta(e),r=a.controller._resolveAnimations(void 0,n);pi(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(a,{visible:i}),this.update(l=>l.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Nt.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),pl(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete mn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(a,r)=>{t.addEventListener(this,a,r),e[a]=r},n=(a,r,l)=>{a.offsetX=r,a.offsetY=l,this._eventHandler(a)};le(this.options.events,a=>i(a,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(c,h)=>{t.addEventListener(this,c,h),e[c]=h},n=(c,h)=>{e[c]&&(t.removeEventListener(this,c,h),delete e[c])},a=(c,h)=>{this.canvas&&this.resize(c,h)};let r;const l=()=>{n("attach",l),this.attached=!0,this.resize(),i("resize",a),i("detach",r)};r=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),i("attach",l)},t.isAttached(this.canvas)?l():r()}unbindEvents(){le(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},le(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const n=i?"set":"remove";let a,r,l,c;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+n+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){r=e[l];const h=r&&this.getDatasetMeta(r.datasetIndex).controller;h&&h[n+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:a,index:r})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[r],index:r}});!bn(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const n=this.options.hover,a=(c,h)=>c.filter(u=>!h.some(m=>u.datasetIndex===m.datasetIndex&&u.index===m.index)),r=a(t,e),l=i?e:a(e,t);r.length&&this.updateHoverStyle(r,n.mode,!1),l.length&&n.mode&&this.updateHoverStyle(l,n.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:n=[],options:a}=this,r=t,l=this._getActiveElements(e,n,i,r),c=hm(e),h=lx(e,this._lastEvent,i,c);i&&(this._lastEvent=null,be(a.onHover,[e,l,this],this),c&&be(a.onClick,[e,l,this],this));const u=!bn(l,n);return(u||t)&&(this._active=l,this._updateHoverStyles(l,n,t)),this._lastEvent=h,u}_getActiveElements(e,t,i,n){if(e.type==="mouseout")return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,n)}},O(Rt,"defaults",je),O(Rt,"instances",mn),O(Rt,"overrides",ls),O(Rt,"registry",pt),O(Rt,"version",nx),O(Rt,"getChart",Xl),Rt);function Ql(){return le(On.instances,s=>s._plugins.invalidate())}function cx(s,e,t){const{startAngle:i,x:n,y:a,outerRadius:r,innerRadius:l,options:c}=e,{borderWidth:h,borderJoinStyle:u}=c,m=Math.min(h/r,ct(i-t));if(s.beginPath(),s.arc(n,a,r-h/2,i+m/2,t-m/2),l>0){const g=Math.min(h/l,ct(i-t));s.arc(n,a,l+h/2,t-g/2,i+g/2,!0)}else{const g=Math.min(h/2,r*ct(i-t));if(u==="round")s.arc(n,a,g,t-ce/2,i+ce/2,!0);else if(u==="bevel"){const b=2*g*g,v=-b*Math.cos(t+ce/2)+n,x=-b*Math.sin(t+ce/2)+a,y=b*Math.cos(i+ce/2)+n,w=b*Math.sin(i+ce/2)+a;s.lineTo(v,x),s.lineTo(y,w)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function dx(s,e,t){const{startAngle:i,pixelMargin:n,x:a,y:r,outerRadius:l,innerRadius:c}=e;let h=n/l;s.beginPath(),s.arc(a,r,l,i-h,t+h),c>n?(h=n/c,s.arc(a,r,c,t+h,i-h,!0)):s.arc(a,r,n,t+Ce,i-Ce),s.closePath(),s.clip()}function hx(s){return nr(s,["outerStart","outerEnd","innerStart","innerEnd"])}function ux(s,e,t,i){const n=hx(s.options.borderRadius),a=(t-e)/2,r=Math.min(a,i*e/2),l=c=>{const h=(t-Math.min(a,c))*i/2;return We(c,0,Math.min(a,h))};return{outerStart:l(n.outerStart),outerEnd:l(n.outerEnd),innerStart:We(n.innerStart,0,r),innerEnd:We(n.innerEnd,0,r)}}function Ms(s,e,t,i){return{x:t+s*Math.cos(e),y:i+s*Math.sin(e)}}function Nn(s,e,t,i,n,a){const{x:r,y:l,startAngle:c,pixelMargin:h,innerRadius:u}=e,m=Math.max(e.outerRadius+i+t-h,0),g=u>0?u+i+t+h:0;let b=0;const v=n-c;if(i){const se=u>0?u-i:0,ae=m>0?m-i:0,me=(se+ae)/2,Ae=me!==0?v*me/(me+i):v;b=(v-Ae)/2}const x=Math.max(.001,v*m-t/ce)/m,y=(v-x)/2,w=c+y+b,N=n-y-b,{outerStart:S,outerEnd:E,innerStart:M,innerEnd:I}=ux(e,g,m,N-w),$=m-S,F=m-E,H=w+S/$,W=N-E/F,G=g+M,Z=g+I,_e=w+M/G,Se=N-I/Z;if(s.beginPath(),a){const se=(H+W)/2;if(s.arc(r,l,m,H,se),s.arc(r,l,m,se,W),E>0){const ke=Ms(F,W,r,l);s.arc(ke.x,ke.y,E,W,N+Ce)}const ae=Ms(Z,N,r,l);if(s.lineTo(ae.x,ae.y),I>0){const ke=Ms(Z,Se,r,l);s.arc(ke.x,ke.y,I,N+Ce,Se+Math.PI)}const me=(N-I/g+(w+M/g))/2;if(s.arc(r,l,g,N-I/g,me,!0),s.arc(r,l,g,me,w+M/g,!0),M>0){const ke=Ms(G,_e,r,l);s.arc(ke.x,ke.y,M,_e+Math.PI,w-Ce)}const Ae=Ms($,w,r,l);if(s.lineTo(Ae.x,Ae.y),S>0){const ke=Ms($,H,r,l);s.arc(ke.x,ke.y,S,w-Ce,H)}}else{s.moveTo(r,l);const se=Math.cos(H)*m+r,ae=Math.sin(H)*m+l;s.lineTo(se,ae);const me=Math.cos(W)*m+r,Ae=Math.sin(W)*m+l;s.lineTo(me,Ae)}s.closePath()}function fx(s,e,t,i,n){const{fullCircles:a,startAngle:r,circumference:l}=e;let c=e.endAngle;if(a){Nn(s,e,t,i,c,n);for(let h=0;h<a;++h)s.fill();isNaN(l)||(c=r+(l%ye||ye))}return Nn(s,e,t,i,c,n),s.fill(),c}function mx(s,e,t,i,n){const{fullCircles:a,startAngle:r,circumference:l,options:c}=e,{borderWidth:h,borderJoinStyle:u,borderDash:m,borderDashOffset:g,borderRadius:b}=c,v=c.borderAlign==="inner";if(!h)return;s.setLineDash(m||[]),s.lineDashOffset=g,v?(s.lineWidth=h*2,s.lineJoin=u||"round"):(s.lineWidth=h,s.lineJoin=u||"bevel");let x=e.endAngle;if(a){Nn(s,e,t,i,x,n);for(let y=0;y<a;++y)s.stroke();isNaN(l)||(x=r+(l%ye||ye))}v&&dx(s,e,x),c.selfJoin&&x-r>=ce&&b===0&&u!=="miter"&&cx(s,e,x),a||(Nn(s,e,t,i,x,n),s.stroke())}class ii extends Et{constructor(t){super();O(this,"circumference");O(this,"endAngle");O(this,"fullCircles");O(this,"innerRadius");O(this,"outerRadius");O(this,"pixelMargin");O(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,n){const a=this.getProps(["x","y"],n),{angle:r,distance:l}=zc(a,{x:t,y:i}),{startAngle:c,endAngle:h,innerRadius:u,outerRadius:m,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),b=(this.options.spacing+this.options.borderWidth)/2,v=J(g,h-c),x=xi(r,c,h)&&c!==h,y=v>=ye||x,w=Ft(l,u+b,m+b);return y&&w}getCenterPoint(t){const{x:i,y:n,startAngle:a,endAngle:r,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:u}=this.options,m=(a+r)/2,g=(l+c+u+h)/2;return{x:i+Math.cos(m)*g,y:n+Math.sin(m)*g}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:n}=this,a=(i.offset||0)/4,r=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=n>ye?Math.floor(n/ye):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*a,Math.sin(c)*a);const h=1-Math.sin(Math.min(ce,n||0)),u=a*h;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,fx(t,this,u,r,l),mx(t,this,u,r,l),t.restore()}}O(ii,"id","arc"),O(ii,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),O(ii,"defaultRoutes",{backgroundColor:"backgroundColor"}),O(ii,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function fd(s,e,t=e){s.lineCap=J(t.borderCapStyle,e.borderCapStyle),s.setLineDash(J(t.borderDash,e.borderDash)),s.lineDashOffset=J(t.borderDashOffset,e.borderDashOffset),s.lineJoin=J(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=J(t.borderWidth,e.borderWidth),s.strokeStyle=J(t.borderColor,e.borderColor)}function gx(s,e,t){s.lineTo(t.x,t.y)}function px(s){return s.stepped?Rm:s.tension||s.cubicInterpolationMode==="monotone"?Im:gx}function md(s,e,t={}){const i=s.length,{start:n=0,end:a=i-1}=t,{start:r,end:l}=e,c=Math.max(n,r),h=Math.min(a,l),u=n<r&&a<r||n>l&&a>l;return{count:i,start:c,loop:e.loop,ilen:h<c&&!u?i+h-c:h-c}}function xx(s,e,t,i){const{points:n,options:a}=e,{count:r,start:l,loop:c,ilen:h}=md(n,t,i),u=px(a);let{move:m=!0,reverse:g}=i||{},b,v,x;for(b=0;b<=h;++b)v=n[(l+(g?h-b:b))%r],!v.skip&&(m?(s.moveTo(v.x,v.y),m=!1):u(s,x,v,g,a.stepped),x=v);return c&&(v=n[(l+(g?h:0))%r],u(s,x,v,g,a.stepped)),!!c}function bx(s,e,t,i){const n=e.points,{count:a,start:r,ilen:l}=md(n,t,i),{move:c=!0,reverse:h}=i||{};let u=0,m=0,g,b,v,x,y,w;const N=E=>(r+(h?l-E:E))%a,S=()=>{x!==y&&(s.lineTo(u,y),s.lineTo(u,x),s.lineTo(u,w))};for(c&&(b=n[N(0)],s.moveTo(b.x,b.y)),g=0;g<=l;++g){if(b=n[N(g)],b.skip)continue;const E=b.x,M=b.y,I=E|0;I===v?(M<x?x=M:M>y&&(y=M),u=(m*u+E)/++m):(S(),s.lineTo(E,M),v=I,m=0,x=y=M),w=M}S()}function Ba(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?bx:xx}function _x(s){return s.stepped?gg:s.tension||s.cubicInterpolationMode==="monotone"?pg:ns}function vx(s,e,t,i){let n=e._path;n||(n=e._path=new Path2D,e.path(n,t,i)&&n.closePath()),fd(s,e.options),s.stroke(n)}function yx(s,e,t,i){const{segments:n,options:a}=e,r=Ba(e);for(const l of n)fd(s,a,l.style),s.beginPath(),r(s,e,l,{start:t,end:t+i-1})&&s.closePath(),s.stroke()}const wx=typeof Path2D=="function";function jx(s,e,t,i){wx&&!e.options.segment?vx(s,e,t,i):yx(s,e,t,i)}class ni extends Et{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;og(this._points,i,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=kg(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,n=e[t],a=this.points,r=yg(this,{property:t,start:n,end:n});if(!r.length)return;const l=[],c=_x(i);let h,u;for(h=0,u=r.length;h<u;++h){const{start:m,end:g}=r[h],b=a[m],v=a[g];if(b===v){l.push(b);continue}const x=Math.abs((n-b[t])/(v[t]-b[t])),y=c(b,v,x,i.stepped);y[t]=e[t],l.push(y)}return l.length===1?l[0]:l}pathSegment(e,t,i){return Ba(this)(e,this,t,i)}path(e,t,i){const n=this.segments,a=Ba(this);let r=this._loop;t=t||0,i=i||this.points.length-t;for(const l of n)r&=a(e,this,l,{start:t,end:t+i-1});return!!r}draw(e,t,i,n){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),jx(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}O(ni,"id","line"),O(ni,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),O(ni,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),O(ni,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Zl(s,e,t,i){const n=s.options,{[t]:a}=s.getProps([t],i);return Math.abs(e-a)<n.radius+n.hitRadius}class gn extends Et{constructor(t){super();O(this,"parsed");O(this,"skip");O(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,n){const a=this.options,{x:r,y:l}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(i-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,i){return Zl(this,t,"x",i)}inYRange(t,i){return Zl(this,t,"y",i)}getCenterPoint(t){const{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const n=i&&t.borderWidth||0;return(i+n)*2}draw(t,i){const n=this.options;this.skip||n.radius<.1||!bi(this,i,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Fa(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}O(gn,"id","point"),O(gn,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),O(gn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function gd(s,e){const{x:t,y:i,base:n,width:a,height:r}=s.getProps(["x","y","base","width","height"],e);let l,c,h,u,m;return s.horizontal?(m=r/2,l=Math.min(t,n),c=Math.max(t,n),h=i-m,u=i+m):(m=a/2,l=t-m,c=t+m,h=Math.min(i,n),u=Math.max(i,n)),{left:l,top:h,right:c,bottom:u}}function zt(s,e,t,i){return s?0:We(e,t,i)}function kx(s,e,t){const i=s.options.borderWidth,n=s.borderSkipped,a=Yc(i);return{t:zt(n.top,a.top,0,t),r:zt(n.right,a.right,0,e),b:zt(n.bottom,a.bottom,0,t),l:zt(n.left,a.left,0,e)}}function Nx(s,e,t){const{enableBorderRadius:i}=s.getProps(["enableBorderRadius"]),n=s.options.borderRadius,a=Es(n),r=Math.min(e,t),l=s.borderSkipped,c=i||ie(n);return{topLeft:zt(!c||l.top||l.left,a.topLeft,0,r),topRight:zt(!c||l.top||l.right,a.topRight,0,r),bottomLeft:zt(!c||l.bottom||l.left,a.bottomLeft,0,r),bottomRight:zt(!c||l.bottom||l.right,a.bottomRight,0,r)}}function Cx(s){const e=gd(s),t=e.right-e.left,i=e.bottom-e.top,n=kx(s,t/2,i/2),a=Nx(s,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:a},inner:{x:e.left+n.l,y:e.top+n.t,w:t-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}function Ta(s,e,t,i){const n=e===null,a=t===null,l=s&&!(n&&a)&&gd(s,i);return l&&(n||Ft(e,l.left,l.right))&&(a||Ft(t,l.top,l.bottom))}function Sx(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function Tx(s,e){s.rect(e.x,e.y,e.w,e.h)}function Aa(s,e,t={}){const i=s.x!==t.x?-e:0,n=s.y!==t.y?-e:0,a=(s.x+s.w!==t.x+t.w?e:0)-i,r=(s.y+s.h!==t.y+t.h?e:0)-n;return{x:s.x+i,y:s.y+n,w:s.w+a,h:s.h+r,radius:s.radius}}class pn extends Et{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:n}}=this,{inner:a,outer:r}=Cx(this),l=Sx(r.radius)?wn:Tx;e.save(),(r.w!==a.w||r.h!==a.h)&&(e.beginPath(),l(e,Aa(r,t,a)),e.clip(),l(e,Aa(a,-t,r)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,Aa(a,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,i){return Ta(this,e,t,i)}inXRange(e,t){return Ta(this,e,null,t)}inYRange(e,t){return Ta(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+n)/2:t,y:a?i:(i+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}O(pn,"id","bar"),O(pn,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),O(pn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Jl=(s,e)=>{let{boxHeight:t=e,boxWidth:i=e}=s;return s.usePointStyle&&(t=Math.min(t,e),i=s.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},Ax=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class ec extends Et{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=be(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,n)=>e.sort(i,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,n=Oe(i.font),a=n.size,r=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Jl(i,a);let h,u;t.font=n.string,this.isHorizontal()?(h=this.maxWidth,u=this._fitRows(r,a,l,c)+10):(u=this.maxHeight,h=this._fitCols(r,n,l,c)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,n){const{ctx:a,maxWidth:r,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],u=n+l;let m=e;a.textAlign="left",a.textBaseline="middle";let g=-1,b=-u;return this.legendItems.forEach((v,x)=>{const y=i+t/2+a.measureText(v.text).width;(x===0||h[h.length-1]+y+2*l>r)&&(m+=u,h[h.length-(x>0?0:1)]=0,b+=u,g++),c[x]={left:0,top:b,row:g,width:y,height:n},h[h.length-1]+=y+l}),m}_fitCols(e,t,i,n){const{ctx:a,maxHeight:r,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],u=r-e;let m=l,g=0,b=0,v=0,x=0;return this.legendItems.forEach((y,w)=>{const{itemWidth:N,itemHeight:S}=Mx(i,t,a,y,n);w>0&&b+S+2*l>u&&(m+=g+l,h.push({width:g,height:b}),v+=g+l,x++,g=b=0),c[w]={left:v,top:b,col:x,width:N,height:S},g=Math.max(g,N),b+=S+l}),m+=g,h.push({width:g,height:b}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:n},rtl:a}}=this,r=Ds(a,this.left,this.width);if(this.isHorizontal()){let l=0,c=De(i,this.left+n,this.right-this.lineWidths[l]);for(const h of t)l!==h.row&&(l=h.row,c=De(i,this.left+n,this.right-this.lineWidths[l])),h.top+=this.top+e+n,h.left=r.leftForLtr(r.x(c),h.width),c+=h.width+n}else{let l=0,c=De(i,this.top+e+n,this.bottom-this.columnSizes[l].height);for(const h of t)h.col!==l&&(l=h.col,c=De(i,this.top+e+n,this.bottom-this.columnSizes[l].height)),h.top=c,h.left+=this.left+n,h.left=r.leftForLtr(r.x(h.left),h.width),c+=h.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;sr(e,this),this._draw(),ir(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:n}=this,{align:a,labels:r}=e,l=je.color,c=Ds(e.rtl,this.left,this.width),h=Oe(r.font),{padding:u}=r,m=h.size,g=m/2;let b;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=h.string;const{boxWidth:v,boxHeight:x,itemHeight:y}=Jl(r,m),w=function(I,$,F){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;n.save();const H=J(F.lineWidth,1);if(n.fillStyle=J(F.fillStyle,l),n.lineCap=J(F.lineCap,"butt"),n.lineDashOffset=J(F.lineDashOffset,0),n.lineJoin=J(F.lineJoin,"miter"),n.lineWidth=H,n.strokeStyle=J(F.strokeStyle,l),n.setLineDash(J(F.lineDash,[])),r.usePointStyle){const W={radius:x*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:H},G=c.xPlus(I,v/2),Z=$+g;Uc(n,W,G,Z,r.pointStyleWidth&&v)}else{const W=$+Math.max((m-x)/2,0),G=c.leftForLtr(I,v),Z=Es(F.borderRadius);n.beginPath(),Object.values(Z).some(_e=>_e!==0)?wn(n,{x:G,y:W,w:v,h:x,radius:Z}):n.rect(G,W,v,x),n.fill(),H!==0&&n.stroke()}n.restore()},N=function(I,$,F){_i(n,F.text,I,$+y/2,h,{strikethrough:F.hidden,textAlign:c.textAlign(F.textAlign)})},S=this.isHorizontal(),E=this._computeTitleHeight();S?b={x:De(a,this.left+u,this.right-i[0]),y:this.top+u+E,line:0}:b={x:this.left+u,y:De(a,this.top+E+u,this.bottom-t[0].height),line:0},Zc(this.ctx,e.textDirection);const M=y+u;this.legendItems.forEach((I,$)=>{n.strokeStyle=I.fontColor,n.fillStyle=I.fontColor;const F=n.measureText(I.text).width,H=c.textAlign(I.textAlign||(I.textAlign=r.textAlign)),W=v+g+F;let G=b.x,Z=b.y;c.setWidth(this.width),S?$>0&&G+W+u>this.right&&(Z=b.y+=M,b.line++,G=b.x=De(a,this.left+u,this.right-i[b.line])):$>0&&Z+M>this.bottom&&(G=b.x=G+t[b.line].width+u,b.line++,Z=b.y=De(a,this.top+E+u,this.bottom-t[b.line].height));const _e=c.x(G);if(w(_e,Z,I),G=Nm(H,G+v+g,S?G+W:this.right,e.rtl),N(c.x(G),Z,I),S)b.x+=W+u;else if(typeof I.text!="string"){const Se=h.lineHeight;b.y+=pd(I,Se)+u}else b.y+=M}),Jc(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Oe(t.font),n=at(t.padding);if(!t.display)return;const a=Ds(e.rtl,this.left,this.width),r=this.ctx,l=t.position,c=i.size/2,h=n.top+c;let u,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),u=this.top+h,m=De(e.align,m,this.right-g);else{const v=this.columnSizes.reduce((x,y)=>Math.max(x,y.height),0);u=h+De(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const b=De(l,m,m+g);r.textAlign=a.textAlign(Ja(l)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=i.string,_i(r,t.text,b,u,i)}_computeTitleHeight(){const e=this.options.title,t=Oe(e.font),i=at(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,n,a;if(Ft(e,this.left,this.right)&&Ft(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(n=a[i],Ft(e,n.left,n.left+n.width)&&Ft(t,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!Ox(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,a=Ax(n,i);n&&!a&&be(t.onLeave,[e,n,this],this),this._hoveredItem=i,i&&!a&&be(t.onHover,[e,i,this],this)}else i&&be(t.onClick,[e,i,this],this)}}function Mx(s,e,t,i,n){const a=Ex(i,s,e,t),r=Dx(n,i,e.lineHeight);return{itemWidth:a,itemHeight:r}}function Ex(s,e,t,i){let n=s.text;return n&&typeof n!="string"&&(n=n.reduce((a,r)=>a.length>r.length?a:r)),e+t.size/2+i.measureText(n).width}function Dx(s,e,t){let i=s;return typeof e.text!="string"&&(i=pd(e,t)),i}function pd(s,e){const t=s.text?s.text.length:0;return e*t}function Ox(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var Px={id:"legend",_element:ec,start(s,e,t){const i=s.legend=new ec({ctx:s.ctx,options:t,chart:s});it.configure(s,i,t),it.addBox(s,i)},stop(s){it.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const i=s.legend;it.configure(s,i,t),i.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const i=e.datasetIndex,n=t.chart;n.isDatasetVisible(i)?(n.hide(i),e.hidden=!0):(n.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:n,color:a,useBorderRadius:r,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(c=>{const h=c.controller.getStyle(t?0:void 0),u=at(h.borderWidth);return{text:e[c.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:n||h.textAlign,borderRadius:r&&(l||h.borderRadius),datasetIndex:c.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class xd extends Et{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const n=Ne(i.text)?i.text.length:1;this._padding=at(i.padding);const a=n*Oe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:n,right:a,options:r}=this,l=r.align;let c=0,h,u,m;return this.isHorizontal()?(u=De(l,i,a),m=t+e,h=a-i):(r.position==="left"?(u=i+e,m=De(l,n,t),c=ce*-.5):(u=a-e,m=De(l,t,n),c=ce*.5),h=n-t),{titleX:u,titleY:m,maxWidth:h,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Oe(t.font),a=i.lineHeight/2+this._padding.top,{titleX:r,titleY:l,maxWidth:c,rotation:h}=this._drawArgs(a);_i(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:h,textAlign:Ja(t.align),textBaseline:"middle",translation:[r,l]})}}function Lx(s,e){const t=new xd({ctx:s.ctx,options:e,chart:s});it.configure(s,t,e),it.addBox(s,t),s.titleBlock=t}var Rx={id:"title",_element:xd,start(s,e,t){Lx(s,t)},stop(s){const e=s.titleBlock;it.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const i=s.titleBlock;it.configure(s,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ai={average(s){if(!s.length)return!1;let e,t,i=new Set,n=0,a=0;for(e=0,t=s.length;e<t;++e){const l=s[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();i.add(c.x),n+=c.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((l,c)=>l+c)/i.size,y:n/a}},nearest(s,e){if(!s.length)return!1;let t=e.x,i=e.y,n=Number.POSITIVE_INFINITY,a,r,l;for(a=0,r=s.length;a<r;++a){const c=s[a].element;if(c&&c.hasValue()){const h=c.getCenterPoint(),u=La(e,h);u<n&&(n=u,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function gt(s,e){return e&&(Ne(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function Ct(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Ix(s,e){const{element:t,datasetIndex:i,index:n}=e,a=s.getDatasetMeta(i).controller,{label:r,value:l}=a.getLabelAndValue(n);return{chart:s,label:r,parsed:a.getParsed(n),raw:s.data.datasets[i].data[n],formattedValue:l,dataset:a.getDataset(),dataIndex:n,datasetIndex:i,element:t}}function tc(s,e){const t=s.chart.ctx,{body:i,footer:n,title:a}=s,{boxWidth:r,boxHeight:l}=e,c=Oe(e.bodyFont),h=Oe(e.titleFont),u=Oe(e.footerFont),m=a.length,g=n.length,b=i.length,v=at(e.padding);let x=v.height,y=0,w=i.reduce((E,M)=>E+M.before.length+M.lines.length+M.after.length,0);if(w+=s.beforeBody.length+s.afterBody.length,m&&(x+=m*h.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),w){const E=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=b*E+(w-b)*c.lineHeight+(w-1)*e.bodySpacing}g&&(x+=e.footerMarginTop+g*u.lineHeight+(g-1)*e.footerSpacing);let N=0;const S=function(E){y=Math.max(y,t.measureText(E).width+N)};return t.save(),t.font=h.string,le(s.title,S),t.font=c.string,le(s.beforeBody.concat(s.afterBody),S),N=e.displayColors?r+2+e.boxPadding:0,le(i,E=>{le(E.before,S),le(E.lines,S),le(E.after,S)}),N=0,t.font=u.string,le(s.footer,S),t.restore(),y+=v.width,{width:y,height:x}}function Fx(s,e){const{y:t,height:i}=e;return t<i/2?"top":t>s.height-i/2?"bottom":"center"}function zx(s,e,t,i){const{x:n,width:a}=i,r=t.caretSize+t.caretPadding;if(s==="left"&&n+a+r>e.width||s==="right"&&n-a-r<0)return!0}function $x(s,e,t,i){const{x:n,width:a}=t,{width:r,chartArea:{left:l,right:c}}=s;let h="center";return i==="center"?h=n<=(l+c)/2?"left":"right":n<=a/2?h="left":n>=r-a/2&&(h="right"),zx(h,s,e,t)&&(h="center"),h}function sc(s,e,t){const i=t.yAlign||e.yAlign||Fx(s,t);return{xAlign:t.xAlign||e.xAlign||$x(s,e,t,i),yAlign:i}}function Bx(s,e){let{x:t,width:i}=s;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function Hx(s,e,t){let{y:i,height:n}=s;return e==="top"?i+=t:e==="bottom"?i-=n+t:i-=n/2,i}function ic(s,e,t,i){const{caretSize:n,caretPadding:a,cornerRadius:r}=s,{xAlign:l,yAlign:c}=t,h=n+a,{topLeft:u,topRight:m,bottomLeft:g,bottomRight:b}=Es(r);let v=Bx(e,l);const x=Hx(e,c,h);return c==="center"?l==="left"?v+=h:l==="right"&&(v-=h):l==="left"?v-=Math.max(u,g)+n:l==="right"&&(v+=Math.max(m,b)+n),{x:We(v,0,i.width-e.width),y:We(x,0,i.height-e.height)}}function rn(s,e,t){const i=at(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-i.right:s.x+i.left}function nc(s){return gt([],Ct(s))}function Wx(s,e,t){return hs(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function ac(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const bd={beforeTitle:jt,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:jt,beforeBody:jt,beforeLabel:jt,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return pe(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:jt,afterBody:jt,beforeFooter:jt,footer:jt,afterFooter:jt};function Be(s,e,t,i){const n=s[e].call(t,i);return typeof n>"u"?bd[e].call(t,i):n}class Ha extends Et{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,a=new td(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=Wx(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,n=Be(i,"beforeTitle",this,e),a=Be(i,"title",this,e),r=Be(i,"afterTitle",this,e);let l=[];return l=gt(l,Ct(n)),l=gt(l,Ct(a)),l=gt(l,Ct(r)),l}getBeforeBody(e,t){return nc(Be(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,n=[];return le(e,a=>{const r={before:[],lines:[],after:[]},l=ac(i,a);gt(r.before,Ct(Be(l,"beforeLabel",this,a))),gt(r.lines,Be(l,"label",this,a)),gt(r.after,Ct(Be(l,"afterLabel",this,a))),n.push(r)}),n}getAfterBody(e,t){return nc(Be(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,n=Be(i,"beforeFooter",this,e),a=Be(i,"footer",this,e),r=Be(i,"afterFooter",this,e);let l=[];return l=gt(l,Ct(n)),l=gt(l,Ct(a)),l=gt(l,Ct(r)),l}_createItems(e){const t=this._active,i=this.chart.data,n=[],a=[],r=[];let l=[],c,h;for(c=0,h=t.length;c<h;++c)l.push(Ix(this.chart,t[c]));return e.filter&&(l=l.filter((u,m,g)=>e.filter(u,m,g,i))),e.itemSort&&(l=l.sort((u,m)=>e.itemSort(u,m,i))),le(l,u=>{const m=ac(e.callbacks,u);n.push(Be(m,"labelColor",this,u)),a.push(Be(m,"labelPointStyle",this,u)),r.push(Be(m,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=a,this.labelTextColors=r,this.dataPoints=l,l}update(e,t){const i=this.options.setContext(this.getContext()),n=this._active;let a,r=[];if(!n.length)this.opacity!==0&&(a={opacity:0});else{const l=ai[i.position].call(this,n,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const c=this._size=tc(this,i),h=Object.assign({},l,c),u=sc(this.chart,i,h),m=ic(i,h,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:m.x,y:m.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=r,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){const a=this.getCaretPosition(e,i,n);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,i){const{xAlign:n,yAlign:a}=this,{caretSize:r,cornerRadius:l}=i,{topLeft:c,topRight:h,bottomLeft:u,bottomRight:m}=Es(l),{x:g,y:b}=e,{width:v,height:x}=t;let y,w,N,S,E,M;return a==="center"?(E=b+x/2,n==="left"?(y=g,w=y-r,S=E+r,M=E-r):(y=g+v,w=y+r,S=E-r,M=E+r),N=y):(n==="left"?w=g+Math.max(c,u)+r:n==="right"?w=g+v-Math.max(h,m)-r:w=this.caretX,a==="top"?(S=b,E=S-r,y=w-r,N=w+r):(S=b+x,E=S+r,y=w+r,N=w-r),M=S),{x1:y,x2:w,x3:N,y1:S,y2:E,y3:M}}drawTitle(e,t,i){const n=this.title,a=n.length;let r,l,c;if(a){const h=Ds(i.rtl,this.x,this.width);for(e.x=rn(this,i.titleAlign,i),t.textAlign=h.textAlign(i.titleAlign),t.textBaseline="middle",r=Oe(i.titleFont),l=i.titleSpacing,t.fillStyle=i.titleColor,t.font=r.string,c=0;c<a;++c)t.fillText(n[c],h.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+l,c+1===a&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,t,i,n,a){const r=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:h}=a,u=Oe(a.bodyFont),m=rn(this,"left",a),g=n.x(m),b=c<u.lineHeight?(u.lineHeight-c)/2:0,v=t.y+b;if(a.usePointStyle){const x={radius:Math.min(h,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=n.leftForLtr(g,h)+h/2,w=v+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Fa(e,x,y,w),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,Fa(e,x,y,w)}else{e.lineWidth=ie(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const x=n.leftForLtr(g,h),y=n.leftForLtr(n.xPlus(g,1),h-2),w=Es(r.borderRadius);Object.values(w).some(N=>N!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,wn(e,{x,y:v,w:h,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),wn(e,{x:y,y:v+1,w:h-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(x,v,h,c),e.strokeRect(x,v,h,c),e.fillStyle=r.backgroundColor,e.fillRect(y,v+1,h-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:n}=this,{bodySpacing:a,bodyAlign:r,displayColors:l,boxHeight:c,boxWidth:h,boxPadding:u}=i,m=Oe(i.bodyFont);let g=m.lineHeight,b=0;const v=Ds(i.rtl,this.x,this.width),x=function(F){t.fillText(F,v.x(e.x+b),e.y+g/2),e.y+=g+a},y=v.textAlign(r);let w,N,S,E,M,I,$;for(t.textAlign=r,t.textBaseline="middle",t.font=m.string,e.x=rn(this,y,i),t.fillStyle=i.bodyColor,le(this.beforeBody,x),b=l&&y!=="right"?r==="center"?h/2+u:h+2+u:0,E=0,I=n.length;E<I;++E){for(w=n[E],N=this.labelTextColors[E],t.fillStyle=N,le(w.before,x),S=w.lines,l&&S.length&&(this._drawColorBox(t,e,E,v,i),g=Math.max(m.lineHeight,c)),M=0,$=S.length;M<$;++M)x(S[M]),g=m.lineHeight;le(w.after,x)}b=0,g=m.lineHeight,le(this.afterBody,x),e.y-=a}drawFooter(e,t,i){const n=this.footer,a=n.length;let r,l;if(a){const c=Ds(i.rtl,this.x,this.width);for(e.x=rn(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=c.textAlign(i.footerAlign),t.textBaseline="middle",r=Oe(i.footerFont),t.fillStyle=i.footerColor,t.font=r.string,l=0;l<a;++l)t.fillText(n[l],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){const{xAlign:a,yAlign:r}=this,{x:l,y:c}=e,{width:h,height:u}=i,{topLeft:m,topRight:g,bottomLeft:b,bottomRight:v}=Es(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(l+m,c),r==="top"&&this.drawCaret(e,t,i,n),t.lineTo(l+h-g,c),t.quadraticCurveTo(l+h,c,l+h,c+g),r==="center"&&a==="right"&&this.drawCaret(e,t,i,n),t.lineTo(l+h,c+u-v),t.quadraticCurveTo(l+h,c+u,l+h-v,c+u),r==="bottom"&&this.drawCaret(e,t,i,n),t.lineTo(l+b,c+u),t.quadraticCurveTo(l,c+u,l,c+u-b),r==="center"&&a==="left"&&this.drawCaret(e,t,i,n),t.lineTo(l,c+m),t.quadraticCurveTo(l,c,l+m,c),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,n=i&&i.x,a=i&&i.y;if(n||a){const r=ai[e.position].call(this,this._active,this._eventPosition);if(!r)return;const l=this._size=tc(this,e),c=Object.assign({},r,this._size),h=sc(t,e,c),u=ic(e,c,h,t);(n._to!==u.x||a._to!==u.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=at(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,n,t),Zc(e,t.textDirection),a.y+=r.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Jc(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,n=e.map(({datasetIndex:l,index:c})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[c],index:c}}),a=!bn(i,n),r=this._positionChanged(n,t);(a||r)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,a=this._active||[],r=this._getActiveElements(e,a,t,i),l=this._positionChanged(r,e),c=t||!bn(r,a)||l;return c&&(this._active=r,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,i,n){const a=this.options;if(e.type==="mouseout")return[];if(!n)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:i,caretY:n,options:a}=this,r=ai[a.position].call(this,e,t);return r!==!1&&(i!==r.x||n!==r.y)}}O(Ha,"positioners",ai);var Vx={id:"tooltip",_element:Ha,positioners:ai,afterInit(s,e,t){t&&(s.tooltip=new Ha({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bd},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ux=(s,e,t,i)=>(typeof e=="string"?(t=s.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Yx(s,e,t,i){const n=s.indexOf(e);if(n===-1)return Ux(s,e,t,i);const a=s.lastIndexOf(e);return n!==a?t:n}const qx=(s,e)=>s===null?null:We(Math.round(s),0,e);function rc(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class Wa extends Is{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:n,label:a}of t)i[n]===a&&i.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(pe(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:Yx(i,e,J(t,e),this._addedLabels),qx(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,n=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=t;r++)n.push({value:r});return n}getLabelForValue(e){return rc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}O(Wa,"id","category"),O(Wa,"defaults",{ticks:{callback:rc}});function Kx(s,e){const t=[],{bounds:n,step:a,min:r,max:l,precision:c,count:h,maxTicks:u,maxDigits:m,includeBounds:g}=s,b=a||1,v=u-1,{min:x,max:y}=e,w=!pe(r),N=!pe(l),S=!pe(h),E=(y-x)/(m+1);let M=ll((y-x)/v/b)*b,I,$,F,H;if(M<1e-14&&!w&&!N)return[{value:x},{value:y}];H=Math.ceil(y/M)-Math.floor(x/M),H>v&&(M=ll(H*M/v/b)*b),pe(c)||(I=Math.pow(10,c),M=Math.ceil(M*I)/I),n==="ticks"?($=Math.floor(x/M)*M,F=Math.ceil(y/M)*M):($=x,F=y),w&&N&&a&&pm((l-r)/a,M/1e3)?(H=Math.round(Math.min((l-r)/M,u)),M=(l-r)/H,$=r,F=l):S?($=w?r:$,F=N?l:F,H=h-1,M=(F-$)/H):(H=(F-$)/M,ci(H,Math.round(H),M/1e3)?H=Math.round(H):H=Math.ceil(H));const W=Math.max(cl(M),cl($));I=Math.pow(10,pe(c)?W:c),$=Math.round($*I)/I,F=Math.round(F*I)/I;let G=0;for(w&&(g&&$!==r?(t.push({value:r}),$<r&&G++,ci(Math.round(($+G*M)*I)/I,r,oc(r,E,s))&&G++):$<r&&G++);G<H;++G){const Z=Math.round(($+G*M)*I)/I;if(N&&Z>l)break;t.push({value:Z})}return N&&g&&F!==l?t.length&&ci(t[t.length-1].value,l,oc(l,E,s))?t[t.length-1].value=l:t.push({value:l}):(!N||F===l)&&t.push({value:F}),t}function oc(s,e,{horizontal:t,minRotation:i}){const n=Tt(i),a=(t?Math.sin(n):Math.cos(n))||.001,r=.75*e*(""+s).length;return Math.min(e/a,r)}class Gx extends Is{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return pe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:a}=this;const r=c=>n=t?n:c,l=c=>a=i?a:c;if(e){const c=_t(n),h=_t(a);c<0&&h<0?l(0):c>0&&h>0&&r(0)}if(n===a){let c=a===0?1:Math.abs(a*.05);l(a+c),e||r(n-c)}this.min=n,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,r=Kx(n,a);return e.bounds==="ticks"&&xm(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return tr(e,this.chart.options.locale,this.options.ticks.format)}}class Va extends Gx{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=nt(e)?e:0,this.max=nt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Tt(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}O(Va,"id","linear"),O(Va,"defaults",{ticks:{callback:Vc.formatters.numeric}});const Pn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},He=Object.keys(Pn);function lc(s,e){return s-e}function cc(s,e){if(pe(e))return null;const t=s._adapter,{parser:i,round:n,isoWeekday:a}=s._parseOpts;let r=e;return typeof i=="function"&&(r=i(r)),nt(r)||(r=typeof i=="string"?t.parse(r,i):t.parse(r)),r===null?null:(n&&(r=n==="week"&&(yn(a)||a===!0)?t.startOf(r,"isoWeek",a):t.startOf(r,n)),+r)}function dc(s,e,t,i){const n=He.length;for(let a=He.indexOf(s);a<n-1;++a){const r=Pn[He[a]],l=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((t-e)/(l*r.size))<=i)return He[a]}return He[n-1]}function Xx(s,e,t,i,n){for(let a=He.length-1;a>=He.indexOf(t);a--){const r=He[a];if(Pn[r].common&&s._adapter.diff(n,i,r)>=e-1)return r}return He[t?He.indexOf(t):0]}function Qx(s){for(let e=He.indexOf(s)+1,t=He.length;e<t;++e)if(Pn[He[e]].common)return He[e]}function hc(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:i,hi:n}=Za(t,e),a=t[i]>=e?t[i]:t[n];s[a]=!0}}function Zx(s,e,t,i){const n=s._adapter,a=+n.startOf(e[0].value,i),r=e[e.length-1].value;let l,c;for(l=a;l<=r;l=+n.add(l,1,i))c=t[l],c>=0&&(e[c].major=!0);return e}function uc(s,e,t){const i=[],n={},a=e.length;let r,l;for(r=0;r<a;++r)l=e[r],n[l]=r,i.push({value:l,major:!1});return a===0||!t?i:Zx(s,i,n,t)}class Cn extends Is{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),n=this._adapter=new ep._date(e.adapters.date);n.init(t),li(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:cc(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:n,max:a,minDefined:r,maxDefined:l}=this.getUserBounds();function c(h){!r&&!isNaN(h.min)&&(n=Math.min(n,h.min)),!l&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!r||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),n=nt(n)&&!isNaN(n)?n:+t.startOf(Date.now(),i),a=nt(a)&&!isNaN(a)?a:+t.endOf(Date.now(),i)+1,this.min=Math.min(n,a-1),this.max=Math.max(n+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const a=this.min,r=this.max,l=wm(n,a,r);return this._unit=t.unit||(i.autoSkip?dc(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):Xx(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Qx(this._unit),this.initOffsets(n),e.reverse&&l.reverse(),uc(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,n,a;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?t=1-n:t=(this.getDecimalForValue(e[1])-n)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;t=We(t,0,r),i=We(i,0,r),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,n=this.options,a=n.time,r=a.unit||dc(a.minUnit,t,i,this._getLabelCapacity(t)),l=J(n.ticks.stepSize,1),c=r==="week"?a.isoWeekday:!1,h=yn(c)||c===!0,u={};let m=t,g,b;if(h&&(m=+e.startOf(m,"isoWeek",c)),m=+e.startOf(m,h?"day":r),e.diff(i,t,r)>1e5*l)throw new Error(t+" and "+i+" are too far apart with stepSize of "+l+" "+r);const v=n.ticks.source==="data"&&this.getDataTimestamps();for(g=m,b=0;g<i;g=+e.add(g,l,r),b++)hc(u,g,v);return(g===i||n.bounds==="ticks"||b===1)&&hc(u,g,v),Object.keys(u).sort(lc).map(x=>+x)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,a=this._unit,r=t||n[a];return this._adapter.format(e,r)}_tickFormatFunction(e,t,i,n){const a=this.options,r=a.ticks.callback;if(r)return be(r,[e,t,i],this);const l=a.time.displayFormats,c=this._unit,h=this._majorUnit,u=c&&l[c],m=h&&l[h],g=i[t],b=h&&m&&g&&g.major;return this._adapter.format(e,n||(b?m:u))}generateTickLabels(e){let t,i,n;for(t=0,i=e.length;t<i;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,n=Tt(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(n),r=Math.sin(n),l=this._resolveTickFontOptions(0).size;return{w:i*a+l*r,h:i*r+l*a}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,n=i[t.unit]||i.millisecond,a=this._tickFormatFunction(e,0,uc(this,[e],this._majorUnit),n),r=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,i=n.length;t<i;++t)e=e.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const n=this.getLabels();for(t=0,i=n.length;t<i;++t)e.push(cc(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Bc(e.sort(lc))}}O(Cn,"id","time"),O(Cn,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function on(s,e,t){let i=0,n=s.length-1,a,r,l,c;t?(e>=s[i].pos&&e<=s[n].pos&&({lo:i,hi:n}=Ra(s,"pos",e)),{pos:a,time:l}=s[i],{pos:r,time:c}=s[n]):(e>=s[i].time&&e<=s[n].time&&({lo:i,hi:n}=Ra(s,"time",e)),{time:a,pos:l}=s[i],{time:r,pos:c}=s[n]);const h=r-a;return h?l+(c-l)*(e-a)/h:l}class fc extends Cn{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=on(t,this.min),this._tableRange=on(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,n=[],a=[];let r,l,c,h,u;for(r=0,l=e.length;r<l;++r)h=e[r],h>=t&&h<=i&&n.push(h);if(n.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(r=0,l=n.length;r<l;++r)u=n[r+1],c=n[r-1],h=n[r],Math.round((u+c)/2)!==h&&a.push({time:h,pos:r/(l-1)});return a}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((n,a)=>n-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(on(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return on(this._table,i*this._tableRange+this._minPos,!0)}}O(fc,"id","timeseries"),O(fc,"defaults",Cn.defaults);const _d="label";function mc(s,e){typeof s=="function"?s(e):s&&(s.current=e)}function Jx(s,e){const t=s.options;t&&e&&Object.assign(t,e)}function vd(s,e){s.labels=e}function yd(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_d;const i=[];s.datasets=e.map(n=>{const a=s.datasets.find(r=>r[t]===n[t]);return!a||!n.data||i.includes(a)?{...n}:(i.push(a),Object.assign(a,n),a)})}function eb(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_d;const t={labels:[],datasets:[]};return vd(t,s.labels),yd(t,s.datasets,e),t}function tb(s,e){const{height:t=150,width:i=300,redraw:n=!1,datasetIdKey:a,type:r,data:l,options:c,plugins:h=[],fallbackContent:u,updateMode:m,...g}=s,b=z.useRef(null),v=z.useRef(null),x=()=>{b.current&&(v.current=new On(b.current,{type:r,data:eb(l,a),options:c&&{...c},plugins:h}),mc(e,v.current))},y=()=>{mc(e,null),v.current&&(v.current.destroy(),v.current=null)};return z.useEffect(()=>{!n&&v.current&&c&&Jx(v.current,c)},[n,c]),z.useEffect(()=>{!n&&v.current&&vd(v.current.config.data,l.labels)},[n,l.labels]),z.useEffect(()=>{!n&&v.current&&l.datasets&&yd(v.current.config.data,l.datasets,a)},[n,l.datasets]),z.useEffect(()=>{v.current&&(n?(y(),setTimeout(x)):v.current.update(m))},[n,c,l.labels,l.datasets,m]),z.useEffect(()=>{v.current&&(y(),setTimeout(x))},[r]),z.useEffect(()=>(x(),()=>y()),[]),Ps.createElement("canvas",{ref:b,role:"img",height:t,width:i,...g},u)}const sb=z.forwardRef(tb);function wd(s,e){return On.register(e),z.forwardRef((t,i)=>Ps.createElement(sb,{...t,ref:i,type:s}))}const ib=wd("bar",un),Ma=wd("doughnut",ti);On.register(Wa,Va,gn,ni,pn,ii,Rx,Vx,Px);const nb=({portfolioAnalysis:s,taxCalculations:e,className:t=""})=>{var u;const i=()=>{const m=Object.values(s.market_summaries).flatMap(g=>g.holdings).sort((g,b)=>b.current_value_gbp-g.current_value_gbp).slice(0,10);return{labels:m.map(g=>{var b;return((b=g.security)==null?void 0:b.symbol)||"N/A"}),datasets:[{label:"Portfolio Value (¬£)",data:m.map(g=>g.current_value_gbp),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#FF6384","#C9CBCF","#4BC0C0","#FF6384"],borderWidth:1}]}},n=()=>{const m=Object.values(s.market_summaries).flatMap(g=>g.holdings).map(g=>{var b;return{symbol:((b=g.security)==null?void 0:b.symbol)||"N/A",gain:g.unrealized_gain_loss||0}}).sort((g,b)=>Math.abs(b.gain)-Math.abs(g.gain)).slice(0,15);return{labels:m.map(g=>g.symbol),datasets:[{label:"Unrealized Gains/Losses (¬£)",data:m.map(g=>g.gain),backgroundColor:m.map(g=>g.gain>=0?"#28a745":"#dc3545"),borderColor:"#dee2e6",borderWidth:1}]}},a=()=>{const m=s.market_summaries,g=Object.keys(m);return g.length<=1?{labels:[g[0]||"GBP"],datasets:[{label:"Portfolio Value",data:[s.total_portfolio_value],backgroundColor:["#36A2EB"]}]}:{labels:g,datasets:[{label:"Value by Currency (¬£)",data:g.map(b=>m[b].total_market_value),backgroundColor:["#36A2EB","#FF6384","#FFCE56","#4BC0C0","#9966FF"]}]}},r=()=>{var v,x;const m=((v=e.disposal_calculations)==null?void 0:v.length)||0,g=((x=e.disposal_calculations)==null?void 0:x.filter(y=>y.taxable_gain>0).length)||0,b=m-g;return{labels:["Taxable Gains","Losses/Zero Gains"],datasets:[{label:"Number of Disposals",data:[g,b],backgroundColor:["#dc3545","#28a745"]}]}},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:m=>{const g=m.parsed.y;return`${m.dataset.label}: ¬£${g.toLocaleString()}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:m=>`¬£${Number(m).toLocaleString()}`}}}},c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},tooltip:{callbacks:{label:m=>{const g=m.parsed,b=m.dataset.data.reduce((x,y)=>x+y,0),v=(g/b*100).toFixed(1);return`${m.label}: ¬£${g.toLocaleString()} (${v}%)`}}}}},h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},tooltip:{callbacks:{label:m=>{const g=m.parsed;return`${m.label}: ${g} disposals`}}}}};return o.jsx("div",{className:`data-visualization ${t}`,children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-lg-6 mb-4",children:o.jsxs("div",{className:"card h-100",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"card-title mb-0",children:[o.jsx("i",{className:"fas fa-chart-pie me-2"}),"Portfolio Allocation"]})}),o.jsx("div",{className:"card-body",children:o.jsx("div",{style:{height:"300px"},children:o.jsx(Ma,{data:i(),options:c})})})]})}),o.jsx("div",{className:"col-lg-6 mb-4",children:o.jsxs("div",{className:"card h-100",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"card-title mb-0",children:[o.jsx("i",{className:"fas fa-globe me-2"}),"Currency Breakdown"]})}),o.jsx("div",{className:"card-body",children:o.jsx("div",{style:{height:"300px"},children:o.jsx(Ma,{data:a(),options:c})})})]})}),o.jsx("div",{className:"col-12 mb-4",children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"card-title mb-0",children:[o.jsx("i",{className:"fas fa-chart-bar me-2"}),"Unrealized Gains/Losses by Security"]})}),o.jsx("div",{className:"card-body",children:o.jsx("div",{style:{height:"400px"},children:o.jsx(ib,{data:n(),options:l})})})]})}),e.total_tax_liability>0&&o.jsx("div",{className:"col-lg-6 mb-4",children:o.jsxs("div",{className:"card h-100",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"card-title mb-0",children:[o.jsx("i",{className:"fas fa-receipt me-2"}),"Tax Analysis"]})}),o.jsxs("div",{className:"card-body",children:[o.jsx("div",{style:{height:"300px"},children:o.jsx(Ma,{data:r(),options:h})}),o.jsx("div",{className:"mt-3",children:o.jsxs("div",{className:"row text-center",children:[o.jsx("div",{className:"col-6",children:o.jsxs("div",{className:"border-end",children:[o.jsx("h6",{className:"text-muted mb-1",children:"Total Tax"}),o.jsxs("span",{className:"fs-5 fw-bold text-danger",children:["¬£",e.total_tax_liability.toLocaleString()]})]})}),o.jsxs("div",{className:"col-6",children:[o.jsx("h6",{className:"text-muted mb-1",children:"Disposals"}),o.jsx("span",{className:"fs-5 fw-bold text-info",children:((u=e.disposal_calculations)==null?void 0:u.length)||0})]})]})})]})]})}),o.jsx("div",{className:`${e.total_tax_liability>0?"col-lg-6":"col-12"} mb-4`,children:o.jsxs("div",{className:"card h-100",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"card-title mb-0",children:[o.jsx("i",{className:"fas fa-chart-line me-2"}),"Portfolio Summary"]})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"row g-3",children:[o.jsx("div",{className:"col-sm-6",children:o.jsxs("div",{className:"text-center p-3 bg-light rounded",children:[o.jsx("h6",{className:"text-muted mb-1",children:"Total Holdings"}),o.jsx("span",{className:"fs-4 fw-bold text-primary",children:Object.values(s.market_summaries).reduce((m,g)=>m+g.holdings.length,0)})]})}),o.jsx("div",{className:"col-sm-6",children:o.jsxs("div",{className:"text-center p-3 bg-light rounded",children:[o.jsx("h6",{className:"text-muted mb-1",children:"Total Value"}),o.jsxs("span",{className:"fs-4 fw-bold text-success",children:["¬£",s.total_portfolio_value.toLocaleString()]})]})}),o.jsx("div",{className:"col-sm-6",children:o.jsxs("div",{className:"text-center p-3 bg-light rounded",children:[o.jsx("h6",{className:"text-muted mb-1",children:"Total Gains"}),o.jsxs("span",{className:`fs-4 fw-bold ${s.total_unrealized_gain_loss>=0?"text-success":"text-danger"}`,children:["¬£",s.total_unrealized_gain_loss.toLocaleString()]})]})}),o.jsx("div",{className:"col-sm-6",children:o.jsxs("div",{className:"text-center p-3 bg-light rounded",children:[o.jsx("h6",{className:"text-muted mb-1",children:"Currencies"}),o.jsx("span",{className:"fs-4 fw-bold text-info",children:Object.keys(s.market_summaries).length||1})]})})]})})]})})]})})},ab=()=>{const{state:s}=Cc(),e=z.useMemo(()=>{var i;return(i=s.raw)!=null&&i.portfolio_analysis?s.raw.portfolio_analysis:null},[s.raw]),t=z.useMemo(()=>{var l,c,h;if(!((l=s.raw)!=null&&l.tax_analysis))return null;const i=((h=(c=s.raw.tax_report)==null?void 0:c.summary)==null?void 0:h.estimated_tax_liability)||{},a=((s.raw.tax_analysis.capital_gains||{}).disposals||[]).map(u=>{var x;const m=Number(u.proceeds)||0,g=Number(u.cost_basis)||0,b=Number(u.expenses)||0,v=m-g-b;return{symbol:((x=u.security)==null?void 0:x.symbol)||"UNKNOWN",disposal_date:u.sell_date||u.disposal_date||"",quantity:u.quantity||0,proceeds:m,gain_loss:v}}),r={};return{capital_gains_tax:Number(i.capital_gains_tax)||0,dividend_tax:Number(i.dividend_tax)||0,total_tax_liability:Number(i.total_estimated_tax)||(Number(i.capital_gains_tax)||0)+(Number(i.dividend_tax)||0)+(Number(i.currency_gains_tax)||0),section_104_pools:r,disposal_calculations:a}},[s.raw]);return s.status==="submitting"?o.jsx("div",{className:"container-fluid py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsxs("div",{className:"col-12 col-md-8 text-center",children:[o.jsx(xn,{size:"lg",className:"mb-3"}),o.jsx("h3",{className:"text-primary",children:"Processing Your Tax Calculation"}),o.jsx("p",{className:"text-muted",children:"Please wait while we analyse your portfolio and calculate your tax obligations..."})]})})}):s.status==="error"?o.jsx("div",{className:"container-fluid py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-12 col-md-8",children:o.jsxs(Mt,{variant:"danger",className:"text-center",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[o.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),o.jsx("h4",{className:"mb-0",children:"Calculation Error"})]}),o.jsx("p",{className:"mb-3",children:s.error||"An unexpected error occurred while processing your calculation."}),o.jsxs(kt,{variant:"primary",onClick:()=>window.location.hash="",className:"me-2",children:[o.jsx("i",{className:"fas fa-calculator me-2"}),"Try Again"]})]})})})}):s.status==="idle"?o.jsx("div",{className:"container-fluid py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsxs("div",{className:"col-12 col-md-8 text-center",children:[o.jsx("div",{className:"mb-4",children:o.jsx("i",{className:"fas fa-chart-line text-primary",style:{fontSize:"4rem"}})}),o.jsx("h2",{className:"text-primary mb-3",children:"No Calculation Results"}),o.jsx("p",{className:"text-muted mb-4",children:"Upload your brokerage files and run a calculation to see your tax results here."}),o.jsxs(kt,{variant:"primary",size:"lg",onClick:()=>window.location.hash="",children:[o.jsx("i",{className:"fas fa-calculator me-2"}),"Start Tax Calculation"]})]})})}):!e||!t?o.jsx("div",{className:"container-fluid py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-12 col-md-8",children:o.jsxs(Mt,{variant:"warning",className:"text-center",children:[o.jsx("h4",{children:"Incomplete Data"}),o.jsx("p",{children:"The calculation completed but some results data is missing. Please try running the calculation again."}),o.jsx(kt,{variant:"primary",onClick:()=>window.location.hash="",children:"Run New Calculation"})]})})})}):o.jsxs("div",{className:"container-fluid py-4",style:{backgroundColor:"#f8f9fa",minHeight:"100vh"},children:[o.jsx("div",{className:"row mb-4",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"d-flex justify-content-between align-items-center bg-white rounded shadow-sm p-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"h2 mb-1 text-primary",children:[o.jsx("i",{className:"fas fa-chart-line me-3"}),"Tax Calculation Results"]}),o.jsx("p",{className:"text-muted mb-0",children:"Comprehensive analysis of your portfolio and UK tax obligations"})]}),o.jsxs("div",{className:"text-end",children:[o.jsxs(kt,{variant:"outline-primary",size:"sm",onClick:()=>window.location.hash="",className:"me-2",children:[o.jsx("i",{className:"fas fa-calculator me-2"}),"New Calculation"]}),o.jsxs(kt,{variant:"outline-secondary",size:"sm",onClick:()=>window.print(),children:[o.jsx("i",{className:"fas fa-print me-2"}),"Print Results"]})]})]})})}),t.total_tax_liability>0&&o.jsx("div",{className:"row mb-4",children:o.jsx("div",{className:"col-12",children:o.jsx(Mt,{variant:"warning",className:"border-0 shadow-sm",children:o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("i",{className:"fas fa-exclamation-triangle me-3",style:{fontSize:"1.5rem"}}),o.jsxs("div",{children:[o.jsx("h5",{className:"mb-1",children:"Tax Liability Identified"}),o.jsxs("p",{className:"mb-0",children:["Your portfolio analysis shows a potential tax liability of"," ",o.jsx("strong",{children:new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(t.total_tax_liability)}),". Please consult with a qualified tax advisor to confirm your obligations."]})]})]})})})}),o.jsx("div",{className:"row mb-4",children:o.jsx("div",{className:"col-12",children:o.jsx(Af,{portfolioAnalysis:e,className:"shadow-sm border-0"})})}),o.jsx("div",{className:"row mb-4",children:o.jsx("div",{className:"col-12",children:o.jsx(Lf,{marketSummaries:e.market_summaries,className:"shadow-sm border-0"})})}),o.jsx("div",{className:"row mb-4",children:o.jsx("div",{className:"col-12",children:o.jsx(Rf,{taxCalculations:t,className:"shadow-sm border-0"})})}),o.jsx("div",{className:"row mb-4",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bg-white rounded shadow-sm p-4",children:[o.jsxs("div",{className:"d-flex align-items-center mb-4",children:[o.jsx("i",{className:"fas fa-chart-bar me-3 text-primary",style:{fontSize:"1.5rem"}}),o.jsxs("div",{children:[o.jsx("h4",{className:"mb-1",children:"Portfolio Analytics"}),o.jsx("p",{className:"text-muted mb-0",children:"Interactive charts and visualizations of your portfolio performance and tax analysis"})]})]}),o.jsx(nb,{portfolioAnalysis:e,taxCalculations:t})]})})}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bg-white rounded shadow-sm p-4 mb-4",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h4",{className:"text-dark mb-2",children:"üìà Further Your Tax Knowledge"}),o.jsx("p",{className:"text-muted",children:"Based on your calculation complexity, these resources can help you understand tax implications better"})]}),o.jsx(At,{featuredOnly:!0,limit:3,columns:{xs:1,sm:2,md:3},showRatings:!0,showCategories:!0,layout:"vertical",sortBy:"rating"})]})})}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bg-white rounded shadow-sm p-4 text-center",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("h5",{className:"text-muted",children:"Need Help?"}),o.jsx("p",{className:"small text-muted mb-0",children:"These calculations are estimates. For professional tax advice, consult with a qualified accountant or tax advisor."})]}),o.jsxs("div",{className:"d-flex justify-content-center gap-3 flex-wrap",children:[o.jsxs(kt,{variant:"primary",onClick:()=>window.location.hash="",children:[o.jsx("i",{className:"fas fa-calculator me-2"}),"Run New Calculation"]}),o.jsxs(kt,{variant:"outline-secondary",onClick:()=>window.location.href="/",children:[o.jsx("i",{className:"fas fa-home me-2"}),"Back to Home"]}),o.jsxs(kt,{variant:"outline-secondary",onClick:()=>window.open("https://www.gov.uk/capital-gains-tax","_blank"),children:[o.jsx("i",{className:"fas fa-external-link-alt me-2"}),"HMRC Guidance"]})]})]})})})]})},rb=()=>o.jsx("div",{className:"container py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsxs("div",{className:"col-lg-8",children:[o.jsx("div",{className:"card shadow",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h1",{className:"card-title",children:"About IBKR Tax Calculator"}),o.jsx("p",{className:"lead",children:"A comprehensive UK Capital Gains Tax calculator designed specifically for Interactive Brokers and other trading platform users."}),o.jsx("h2",{children:"Features"}),o.jsxs("ul",{className:"list-unstyled",children:[o.jsxs("li",{children:[o.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Accurate CGT calculations following HMRC guidelines"]}),o.jsxs("li",{children:[o.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Support for QFX and CSV file imports"]}),o.jsxs("li",{children:[o.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Real-time calculation updates"]}),o.jsxs("li",{children:[o.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Detailed breakdown of gains and losses"]}),o.jsxs("li",{children:[o.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Section 104 holding calculations"]})]}),o.jsx("h2",{children:"Data Privacy"}),o.jsx("p",{children:"Your financial data is processed locally in your browser. No data is stored on our servers, ensuring complete privacy and security."}),o.jsxs("div",{className:"alert alert-info",children:[o.jsx("i",{className:"bi bi-info-circle me-2"}),"This calculator is provided for informational purposes only. Always consult with a qualified tax advisor for official tax guidance."]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx("div",{className:"card shadow",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h2",{className:"card-title h4 mb-3",children:"üìö Educational Resources"}),o.jsx("p",{className:"text-muted mb-4",children:"Enhance your understanding of UK taxation and investment strategies with these professionally recommended guides"}),o.jsx(At,{limit:6,columns:{xs:1,sm:2,md:2,lg:3},showRatings:!0,showCategories:!0,layout:"vertical",sortBy:"featured"})]})})})]})})}),ob=()=>o.jsx("div",{className:"container py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsxs("div",{className:"col-lg-10",children:[o.jsx("div",{className:"card shadow",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h1",{className:"card-title",children:"Help & FAQ"}),o.jsx("p",{className:"lead",children:"Get help with using the IBKR Tax Calculator and understanding UK Capital Gains Tax."}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("h2",{children:"Getting Started"}),o.jsxs("div",{className:"accordion",id:"gettingStartedAccordion",children:[o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",children:o.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#fileUpload",children:"How to upload transaction files"})}),o.jsx("div",{id:"fileUpload",className:"accordion-collapse collapse","data-bs-parent":"#gettingStartedAccordion",children:o.jsxs("div",{className:"accordion-body",children:[o.jsx("p",{children:"You can upload transaction data in two formats:"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"QFX files:"})," Export from Interactive Brokers activity statements"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"CSV files:"})," Export from Sharesight or other portfolio platforms"]})]}),o.jsx("p",{children:'Simply click the "Choose File" button and select your file. The calculator will automatically detect the format and process your transactions.'})]})})]}),o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",children:o.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#calculations",children:"Understanding the calculations"})}),o.jsx("div",{id:"calculations",className:"accordion-collapse collapse","data-bs-parent":"#gettingStartedAccordion",children:o.jsxs("div",{className:"accordion-body",children:[o.jsx("p",{children:"The calculator follows HMRC guidelines for Capital Gains Tax:"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Uses Section 104 holding rules for share pooling"}),o.jsx("li",{children:"Applies 30-day rule for wash sales"}),o.jsx("li",{children:"Calculates allowable costs including broker fees"}),o.jsx("li",{children:"Accounts for currency conversions at HMRC rates"})]})]})})]})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("h2",{children:"Common Questions"}),o.jsxs("div",{className:"accordion",id:"faqAccordion",children:[o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",children:o.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#dataPrivacy",children:"Is my data secure?"})}),o.jsx("div",{id:"dataPrivacy",className:"accordion-collapse collapse","data-bs-parent":"#faqAccordion",children:o.jsx("div",{className:"accordion-body",children:o.jsx("p",{children:"Yes! All calculations are performed locally in your browser. Your financial data never leaves your device and is not stored on our servers."})})})]}),o.jsxs("div",{className:"accordion-item",children:[o.jsx("h2",{className:"accordion-header",children:o.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accuracy",children:"How accurate are the calculations?"})}),o.jsx("div",{id:"accuracy",className:"accordion-collapse collapse","data-bs-parent":"#faqAccordion",children:o.jsx("div",{className:"accordion-body",children:o.jsx("p",{children:"Our calculator follows HMRC guidelines and has been tested with various scenarios. However, always consult with a qualified tax advisor for official tax guidance."})})})]})]})]})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"alert alert-primary",children:[o.jsx("h4",{className:"alert-heading",children:"Need More Help?"}),o.jsx("p",{children:"If you can't find the answer you're looking for, try our CGT Guide for detailed explanations of UK Capital Gains Tax rules."}),o.jsx("a",{href:"#guide",className:"btn btn-primary",children:"View CGT Guide"})]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx("div",{className:"card shadow",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h2",{className:"h4 mb-3",children:"üìñ Recommended Reading"}),o.jsx("p",{className:"text-muted mb-4",children:"Expand your knowledge with these comprehensive guides to UK taxation and investment strategies"}),o.jsx(At,{category:"tax",limit:4,columns:{xs:1,sm:2,md:2},showRatings:!0,showCategories:!1,layout:"horizontal"})]})})})]})})}),lb=()=>o.jsx("div",{className:"container py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-lg-10",children:o.jsx("div",{className:"card shadow",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h1",{className:"card-title",children:"UK Capital Gains Tax Guide"}),o.jsx("p",{className:"lead",children:"A comprehensive guide to understanding UK Capital Gains Tax for shares and investments."}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-lg-8",children:[o.jsx("h2",{children:"What is Capital Gains Tax?"}),o.jsx("p",{children:"Capital Gains Tax (CGT) is a tax on the profit when you sell (or 'dispose of') something (an 'asset') that's gone up in value. It's the gain you make that's taxed, not the amount of money you receive."}),o.jsx("h3",{children:"CGT Rates for 2024/25"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-striped",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Tax Band"}),o.jsx("th",{children:"Rate (Shares)"}),o.jsx("th",{children:"Rate (Residential Property)"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{children:"Basic Rate"}),o.jsx("td",{children:"10%"}),o.jsx("td",{children:"18%"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"Higher Rate"}),o.jsx("td",{children:"20%"}),o.jsx("td",{children:"28%"})]})]})]})}),o.jsx("h3",{children:"Annual Exempt Amount"}),o.jsx("p",{children:"You can make gains of up to ¬£6,000 (2024/25) before you need to pay Capital Gains Tax. This is known as your annual exempt amount or 'allowance'."}),o.jsx("h3",{children:"Section 104 Holdings"}),o.jsx("p",{children:"When you buy shares of the same company at different times, they are pooled together in what's called a 'Section 104 holding'. This means you calculate the average cost when you sell shares."}),o.jsxs("div",{className:"alert alert-info",children:[o.jsx("h4",{className:"alert-heading",children:"Example Calculation:"}),o.jsx("p",{children:"If you bought 100 shares at ¬£10 each and later bought 50 shares at ¬£15 each:"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Total shares: 150"}),o.jsx("li",{children:"Total cost: (100 √ó ¬£10) + (50 √ó ¬£15) = ¬£1,750"}),o.jsx("li",{children:"Average cost per share: ¬£1,750 √∑ 150 = ¬£11.67"})]})]}),o.jsx("h3",{children:"The 30-Day Rule"}),o.jsx("p",{children:"If you sell shares and buy the same shares within 30 days, special rules apply to prevent 'bed and breakfasting' (selling and immediately rebuying to crystallize losses)."}),o.jsx("h3",{children:"Allowable Costs"}),o.jsx("p",{children:"You can deduct certain costs from your capital gain:"}),o.jsxs("ul",{children:[o.jsx("li",{children:"The original cost of the asset"}),o.jsx("li",{children:"Costs of buying and selling (e.g., broker fees, stamp duty)"}),o.jsx("li",{children:"Costs of improving the asset"})]})]}),o.jsx("div",{className:"col-lg-4",children:o.jsxs("div",{className:"sticky-top",style:{top:"20px"},children:[o.jsxs("div",{className:"card bg-light",children:[o.jsx("div",{className:"card-header",children:o.jsx("h5",{children:"Quick Links"})}),o.jsx("div",{className:"card-body",children:o.jsxs("ul",{className:"list-unstyled",children:[o.jsx("li",{children:o.jsx("a",{href:"#calculator",className:"text-decoration-none",children:"üßÆ Use Calculator"})}),o.jsx("li",{children:o.jsx("a",{href:"#help",className:"text-decoration-none",children:"‚ùì Get Help"})}),o.jsx("li",{children:o.jsx("a",{href:"#about",className:"text-decoration-none",children:"‚ÑπÔ∏è About Us"})})]})})]}),o.jsx("div",{className:"card bg-warning bg-opacity-10 mt-3",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"‚ö†Ô∏è Important"}),o.jsx("p",{className:"card-text small",children:"This guide provides general information only. Always consult with a qualified tax advisor for specific advice about your situation."})]})})]})})]})]})})})})}),cb=({posts:s,className:e="",onPostClick:t})=>{const[i,n]=z.useState(""),[a,r]=z.useState("All Categories"),[l,c]=z.useState(""),h=z.useMemo(()=>["All Categories",...new Set(s.map(y=>y.category))],[s]),u=z.useMemo(()=>{const x=new Set;return s.forEach(y=>{y.tags&&y.tags.forEach(w=>x.add(w))}),Array.from(x).sort()},[s]),m=z.useMemo(()=>s.filter(x=>{const y=i===""||x.title.toLowerCase().includes(i.toLowerCase())||x.content.toLowerCase().includes(i.toLowerCase())||x.excerpt&&x.excerpt.toLowerCase().includes(i.toLowerCase()),w=a==="All Categories"||x.category===a,N=l===""||x.tags&&x.tags.includes(l);return y&&w&&N}),[s,i,a,l]),g=x=>{c(l===x?"":x)},b=x=>{t&&t(x)},v=x=>new Date(x).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"});return o.jsxs("div",{className:`blog-index ${e}`,children:[o.jsx("div",{className:"blog-controls mb-4",children:o.jsxs("div",{className:"row g-3",children:[o.jsx("div",{className:"col-md-6",children:o.jsx("input",{type:"text",className:"form-control",placeholder:"Search blog posts...",value:i,onChange:x=>n(x.target.value)})}),o.jsx("div",{className:"col-md-3",children:o.jsx("select",{className:"form-select",value:a,onChange:x=>r(x.target.value),children:h.map(x=>o.jsx("option",{value:x,children:x},x))})}),o.jsx("div",{className:"col-md-3",children:o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsxs("span",{className:"text-muted small",children:[m.length," articles"]}),l&&o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>c(""),children:"Clear tag filter"})]})})]})}),u.length>0&&o.jsx("div",{className:"blog-tags mb-4",children:o.jsx("div",{className:"d-flex flex-wrap gap-2",children:u.map(x=>o.jsxs("button",{className:`btn btn-sm ${l===x?"btn-primary":"btn-outline-primary"}`,onClick:()=>g(x),children:["#",x]},x))})}),o.jsx("div",{className:"blog-posts",children:m.length>0?o.jsx("div",{className:"row g-4",children:m.map(x=>o.jsx("div",{className:"col-md-6 col-lg-4",children:o.jsx("div",{className:"card h-100 blog-post-card",style:{cursor:t?"pointer":"default"},onClick:()=>b(x),children:o.jsxs("div",{className:"card-body d-flex flex-column",children:[o.jsx("div",{className:"mb-2",children:o.jsx("span",{className:"badge bg-secondary mb-2",children:x.category})}),o.jsx("h5",{className:"card-title",children:x.title}),o.jsx("p",{className:"card-text flex-grow-1",children:x.excerpt}),o.jsxs("div",{className:"blog-post-meta mt-auto",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[o.jsxs("small",{className:"text-muted",children:["By ",x.author]}),o.jsxs("small",{className:"text-muted",children:[x.readingTime," min read"]})]}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o.jsx("small",{className:"text-muted",children:v(x.publishedDate)}),o.jsxs("div",{className:"blog-post-tags",children:[x.tags&&x.tags.slice(0,2).map(y=>o.jsx("span",{className:"badge bg-light text-dark me-1",style:{fontSize:"0.7em"},children:y},y)),x.tags&&x.tags.length>2&&o.jsxs("span",{className:"badge bg-light text-dark",style:{fontSize:"0.7em"},children:["+",x.tags.length-2]})]})]})]})]})})},x.id))}):o.jsxs("div",{className:"text-center py-5",children:[o.jsx("div",{className:"mb-3",children:o.jsx("i",{className:"bi bi-search",style:{fontSize:"3rem",color:"#6c757d"}})}),o.jsx("h4",{className:"text-muted",children:"No blog posts found"}),o.jsx("p",{className:"text-muted",children:"Try adjusting your search or filter criteria."}),(i||a!=="All Categories"||l)&&o.jsx("button",{className:"btn btn-outline-primary",onClick:()=>{n(""),r("All Categories"),c("")},children:"Clear all filters"})]})})]})},jd=({post:s,className:e=""})=>{const t=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return o.jsx("article",{className:`blog-post ${e}`,children:o.jsxs(Ge,{className:"blog-post-card",children:[o.jsxs("div",{className:"blog-post-header mb-4",children:[o.jsx("h1",{className:"blog-post-title h2 mb-3 text-primary",children:s.title}),o.jsxs("div",{className:"blog-post-meta d-flex flex-wrap align-items-center text-muted small mb-3",children:[s.author&&o.jsxs("span",{className:"me-3",children:[o.jsx("i",{className:"fas fa-user me-1"}),s.author]}),o.jsxs("span",{className:"me-3",children:[o.jsx("i",{className:"fas fa-calendar me-1"}),t(s.publishedDate)]}),s.readingTime&&o.jsxs("span",{className:"me-3",children:[o.jsx("i",{className:"fas fa-clock me-1"}),s.readingTime," min read"]}),s.category&&o.jsx("span",{className:"badge bg-primary",children:s.category})]}),s.tags&&s.tags.length>0&&o.jsx("div",{className:"blog-post-tags mb-3",children:s.tags.map(i=>o.jsxs("span",{className:"badge bg-light text-dark me-2 mb-1",children:["#",i]},i))})]}),o.jsx("div",{className:"blog-post-content",children:o.jsx("div",{className:"prose",dangerouslySetInnerHTML:{__html:s.content.replace(/(<\/?(ul|ol|li|div|p|h[1-6]|blockquote|pre|table|tr|td|th|thead|tbody)>)\s*\n+\s*/gi,"$1").replace(/>\s*\n+\s*</g,"><").replace(/([^>])\n([^<])/g,"$1<br />$2")}})})]})})};jd.displayName="BlogPost";const db="modulepreload",hb=function(s,e){return new URL(s,e).href},gc={},ze=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){const r=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(t.map(h=>{if(h=hb(h,i),h in gc)return;gc[h]=!0;const u=h.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(!!i)for(let v=r.length-1;v>=0;v--){const x=r[v];if(x.href===h&&(!u||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${m}`))return;const b=document.createElement("link");if(b.rel=u?"stylesheet":db,u||(b.as="script"),b.crossOrigin="",b.href=h,c&&b.setAttribute("nonce",c),document.head.appendChild(b),u)return new Promise((v,x)=>{b.addEventListener("load",v),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return n.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function hr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let us=hr();function kd(s){us=s}const Nd=/[&<>"']/,ub=new RegExp(Nd.source,"g"),Cd=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,fb=new RegExp(Cd.source,"g"),mb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},pc=s=>mb[s];function Xe(s,e){if(e){if(Nd.test(s))return s.replace(ub,pc)}else if(Cd.test(s))return s.replace(fb,pc);return s}const gb=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function pb(s){return s.replace(gb,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const xb=/(^|[^\[])\^/g;function fe(s,e){let t=typeof s=="string"?s:s.source;e=e||"";const i={replace:(n,a)=>{let r=typeof a=="string"?a:a.source;return r=r.replace(xb,"$1"),t=t.replace(n,r),i},getRegex:()=>new RegExp(t,e)};return i}function xc(s){try{s=encodeURI(s).replace(/%25/g,"%")}catch{return null}return s}const ui={exec:()=>null};function bc(s,e){const t=s.replace(/\|/g,(a,r,l)=>{let c=!1,h=r;for(;--h>=0&&l[h]==="\\";)c=!c;return c?"|":" |"}),i=t.split(/ \|/);let n=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function ln(s,e,t){const i=s.length;if(i===0)return"";let n=0;for(;n<i&&s.charAt(i-n-1)===e;)n++;return s.slice(0,i-n)}function bb(s,e){if(s.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<s.length;i++)if(s[i]==="\\")i++;else if(s[i]===e[0])t++;else if(s[i]===e[1]&&(t--,t<0))return i;return-1}function _c(s,e,t,i){const n=e.href,a=e.title?Xe(e.title):null,r=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){i.state.inLink=!0;const l={type:"link",raw:t,href:n,title:a,text:r,tokens:i.inlineTokens(r)};return i.state.inLink=!1,l}return{type:"image",raw:t,href:n,title:a,text:Xe(r)}}function _b(s,e){const t=s.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(n=>{const a=n.match(/^\s+/);if(a===null)return n;const[r]=a;return r.length>=i.length?n.slice(i.length):n}).join(`
`)}class Sn{constructor(e){O(this,"options");O(this,"rules");O(this,"lexer");this.options=e||us}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:ln(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],n=_b(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const n=ln(i,"#");(this.options.pedantic||!n||/ $/.test(n))&&(i=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let i=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);i=ln(i.replace(/^ *>[ \t]?/gm,""),`
`);const n=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(i);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:a,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const n=i.length>1,a={type:"list",raw:"",ordered:n,start:n?+i.slice(0,-1):"",loose:!1,items:[]};i=n?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=n?i:"[*+-]");const r=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",c="",h=!1;for(;e;){let u=!1;if(!(t=r.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let m=t[2].split(`
`,1)[0].replace(/^\t+/,w=>" ".repeat(3*w.length)),g=e.split(`
`,1)[0],b=0;this.options.pedantic?(b=2,c=m.trimStart()):(b=t[2].search(/[^ ]/),b=b>4?1:b,c=m.slice(b),b+=t[1].length);let v=!1;if(!m&&/^ *$/.test(g)&&(l+=g+`
`,e=e.substring(g.length+1),u=!0),!u){const w=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),N=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),E=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;e;){const M=e.split(`
`,1)[0];if(g=M,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),S.test(g)||E.test(g)||w.test(g)||N.test(e))break;if(g.search(/[^ ]/)>=b||!g.trim())c+=`
`+g.slice(b);else{if(v||m.search(/[^ ]/)>=4||S.test(m)||E.test(m)||N.test(m))break;c+=`
`+g}!v&&!g.trim()&&(v=!0),l+=M+`
`,e=e.substring(M.length+1),m=g.slice(b)}}a.loose||(h?a.loose=!0:/\n *\n *$/.test(l)&&(h=!0));let x=null,y;this.options.gfm&&(x=/^\[[ xX]\] /.exec(c),x&&(y=x[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:l,task:!!x,checked:y,loose:!1,text:c,tokens:[]}),a.raw+=l}a.items[a.items.length-1].raw=l.trimEnd(),a.items[a.items.length-1].text=c.trimEnd(),a.raw=a.raw.trimEnd();for(let u=0;u<a.items.length;u++)if(this.lexer.state.top=!1,a.items[u].tokens=this.lexer.blockTokens(a.items[u].text,[]),!a.loose){const m=a.items[u].tokens.filter(b=>b.type==="space"),g=m.length>0&&m.some(b=>/\n.*\n/.test(b.raw));a.loose=g}if(a.loose)for(let u=0;u<a.items.length;u++)a.items[u].loose=!0;return a}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:n,title:a}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const i=bc(t[1]),n=t[2].replace(/^\||\| *$/g,"").split("|"),a=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],r={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===n.length){for(const l of n)/^ *-+: *$/.test(l)?r.align.push("right"):/^ *:-+: *$/.test(l)?r.align.push("center"):/^ *:-+ *$/.test(l)?r.align.push("left"):r.align.push(null);for(const l of i)r.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of a)r.rows.push(bc(l,r.header.length).map(c=>({text:c,tokens:this.lexer.inline(c)})));return r}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Xe(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const r=ln(i.slice(0,-1),"\\");if((i.length-r.length)%2===0)return}else{const r=bb(t[2],"()");if(r>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+r;t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let n=t[2],a="";if(this.options.pedantic){const r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);r&&(n=r[1],a=r[3])}else a=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(this.options.pedantic&&!/>$/.test(i)?n=n.slice(1):n=n.slice(1,-1)),_c(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const n=(i[2]||i[1]).replace(/\s+/g," "),a=t[n.toLowerCase()];if(!a){const r=i[0].charAt(0);return{type:"text",raw:r,text:r}}return _c(i,a,i[0],this.lexer)}}emStrong(e,t,i=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!n||n[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(n[1]||n[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const r=[...n[0]].length-1;let l,c,h=r,u=0;const m=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(m.lastIndex=0,t=t.slice(-1*e.length+r);(n=m.exec(t))!=null;){if(l=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!l)continue;if(c=[...l].length,n[3]||n[4]){h+=c;continue}else if((n[5]||n[6])&&r%3&&!((r+c)%3)){u+=c;continue}if(h-=c,h>0)continue;c=Math.min(c,c+h+u);const g=[...n[0]][0].length,b=e.slice(0,r+n.index+g+c);if(Math.min(r,c)%2){const x=b.slice(1,-1);return{type:"em",raw:b,text:x,tokens:this.lexer.inlineTokens(x)}}const v=b.slice(2,-2);return{type:"strong",raw:b,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const n=/[^ ]/.test(i),a=/^ /.test(i)&&/ $/.test(i);return n&&a&&(i=i.substring(1,i.length-1)),i=Xe(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,n;return t[2]==="@"?(i=Xe(t[1]),n="mailto:"+i):(i=Xe(t[1]),n=i),{type:"link",raw:t[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let t;if(t=this.rules.inline.url.exec(e)){let n,a;if(t[2]==="@")n=Xe(t[0]),a="mailto:"+n;else{let r;do r=t[0],t[0]=((i=this.rules.inline._backpedal.exec(t[0]))==null?void 0:i[0])??"";while(r!==t[0]);n=Xe(t[0]),t[1]==="www."?a="http://"+t[0]:a=t[0]}return{type:"link",raw:t[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=t[0]:i=Xe(t[0]),{type:"text",raw:t[0],text:i}}}}const vb=/^(?: *(?:\n|$))+/,yb=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,wb=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,wi=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,jb=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Sd=/(?:[*+-]|\d{1,9}[.)])/,Td=fe(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Sd).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ur=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,kb=/^[^\n]+/,fr=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Nb=fe(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",fr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Cb=fe(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Sd).getRegex(),Ln="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",mr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Sb=fe("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",mr).replace("tag",Ln).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ad=fe(ur).replace("hr",wi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln).getRegex(),Tb=fe(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ad).getRegex(),gr={blockquote:Tb,code:yb,def:Nb,fences:wb,heading:jb,hr:wi,html:Sb,lheading:Td,list:Cb,newline:vb,paragraph:Ad,table:ui,text:kb},vc=fe("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",wi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln).getRegex(),Ab={...gr,table:vc,paragraph:fe(ur).replace("hr",wi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",vc).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln).getRegex()},Mb={...gr,html:fe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",mr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ui,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:fe(ur).replace("hr",wi).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Td).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Md=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Eb=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ed=/^( {2,}|\\)\n(?!\s*$)/,Db=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ji="\\p{P}\\p{S}",Ob=fe(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ji).getRegex(),Pb=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Lb=fe(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ji).getRegex(),Rb=fe("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ji).getRegex(),Ib=fe("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ji).getRegex(),Fb=fe(/\\([punct])/,"gu").replace(/punct/g,ji).getRegex(),zb=fe(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),$b=fe(mr).replace("(?:-->|$)","-->").getRegex(),Bb=fe("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",$b).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Tn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Hb=fe(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Tn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Dd=fe(/^!?\[(label)\]\[(ref)\]/).replace("label",Tn).replace("ref",fr).getRegex(),Od=fe(/^!?\[(ref)\](?:\[\])?/).replace("ref",fr).getRegex(),Wb=fe("reflink|nolink(?!\\()","g").replace("reflink",Dd).replace("nolink",Od).getRegex(),pr={_backpedal:ui,anyPunctuation:Fb,autolink:zb,blockSkip:Pb,br:Ed,code:Eb,del:ui,emStrongLDelim:Lb,emStrongRDelimAst:Rb,emStrongRDelimUnd:Ib,escape:Md,link:Hb,nolink:Od,punctuation:Ob,reflink:Dd,reflinkSearch:Wb,tag:Bb,text:Db,url:ui},Vb={...pr,link:fe(/^!?\[(label)\]\((.*?)\)/).replace("label",Tn).getRegex(),reflink:fe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Tn).getRegex()},Ua={...pr,escape:fe(Md).replace("])","~|])").getRegex(),url:fe(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ub={...Ua,br:fe(Ed).replace("{2,}","*").getRegex(),text:fe(Ua.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},cn={normal:gr,gfm:Ab,pedantic:Mb},Js={normal:pr,gfm:Ua,breaks:Ub,pedantic:Vb};class xt{constructor(e){O(this,"tokens");O(this,"options");O(this,"state");O(this,"tokenizer");O(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||us,this.options.tokenizer=this.options.tokenizer||new Sn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:cn.normal,inline:Js.normal};this.options.pedantic?(t.block=cn.pedantic,t.inline=Js.pedantic):this.options.gfm&&(t.block=cn.gfm,this.options.breaks?t.inline=Js.breaks:t.inline=Js.gfm),this.tokenizer.rules=t}static get rules(){return{block:cn,inline:Js}}static lex(e,t){return new xt(t).lex(e)}static lexInline(e,t){return new xt(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,h)=>c+"    ".repeat(h.length));let i,n,a,r;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(i=l.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+i.raw,n.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let h;this.options.extensions.startBlock.forEach(u=>{h=u.call({lexer:this},c),typeof h=="number"&&h>=0&&(l=Math.min(l,h))}),l<1/0&&l>=0&&(a=e.substring(0,l+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){n=t[t.length-1],r&&n.type==="paragraph"?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i),r=a.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&n.type==="text"?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,n,a,r=e,l,c,h;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)u.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,l.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(h=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(i=u.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&i.type==="text"&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),n=t[t.length-1],n&&i.type==="text"&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,r,h)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const m=e.slice(1);let g;this.options.extensions.startInline.forEach(b=>{g=b.call({lexer:this},m),typeof g=="number"&&g>=0&&(u=Math.min(u,g))}),u<1/0&&u>=0&&(a=e.substring(0,u+1))}if(i=this.tokenizer.inlineText(a)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(h=i.raw.slice(-1)),c=!0,n=t[t.length-1],n&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class An{constructor(e){O(this,"options");this.options=e||us}code(e,t,i){var a;const n=(a=(t||"").match(/^\S*/))==null?void 0:a[0];return e=e.replace(/\n$/,"")+`
`,n?'<pre><code class="language-'+Xe(n)+'">'+(i?e:Xe(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:Xe(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,i){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,i){const n=t?"ol":"ul",a=t&&i!==1?' start="'+i+'"':"";return"<"+n+a+`>
`+e+"</"+n+`>
`}listitem(e,t,i){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,i){const n=xc(e);if(n===null)return i;e=n;let a='<a href="'+e+'"';return t&&(a+=' title="'+t+'"'),a+=">"+i+"</a>",a}image(e,t,i){const n=xc(e);if(n===null)return i;e=n;let a=`<img src="${e}" alt="${i}"`;return t&&(a+=` title="${t}"`),a+=">",a}text(e){return e}}class xr{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class bt{constructor(e){O(this,"options");O(this,"renderer");O(this,"textRenderer");this.options=e||us,this.options.renderer=this.options.renderer||new An,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new xr}static parse(e,t){return new bt(t).parse(e)}static parseInline(e,t){return new bt(t).parseInline(e)}parse(e,t=!0){let i="";for(let n=0;n<e.length;n++){const a=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const r=a,l=this.options.extensions.renderers[r.type].call({parser:this},r);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(r.type)){i+=l||"";continue}}switch(a.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{const r=a;i+=this.renderer.heading(this.parseInline(r.tokens),r.depth,pb(this.parseInline(r.tokens,this.textRenderer)));continue}case"code":{const r=a;i+=this.renderer.code(r.text,r.lang,!!r.escaped);continue}case"table":{const r=a;let l="",c="";for(let u=0;u<r.header.length;u++)c+=this.renderer.tablecell(this.parseInline(r.header[u].tokens),{header:!0,align:r.align[u]});l+=this.renderer.tablerow(c);let h="";for(let u=0;u<r.rows.length;u++){const m=r.rows[u];c="";for(let g=0;g<m.length;g++)c+=this.renderer.tablecell(this.parseInline(m[g].tokens),{header:!1,align:r.align[g]});h+=this.renderer.tablerow(c)}i+=this.renderer.table(l,h);continue}case"blockquote":{const r=a,l=this.parse(r.tokens);i+=this.renderer.blockquote(l);continue}case"list":{const r=a,l=r.ordered,c=r.start,h=r.loose;let u="";for(let m=0;m<r.items.length;m++){const g=r.items[m],b=g.checked,v=g.task;let x="";if(g.task){const y=this.renderer.checkbox(!!b);h?g.tokens.length>0&&g.tokens[0].type==="paragraph"?(g.tokens[0].text=y+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&g.tokens[0].tokens[0].type==="text"&&(g.tokens[0].tokens[0].text=y+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:y+" "}):x+=y+" "}x+=this.parse(g.tokens,h),u+=this.renderer.listitem(x,v,!!b)}i+=this.renderer.list(u,l,c);continue}case"html":{const r=a;i+=this.renderer.html(r.text,r.block);continue}case"paragraph":{const r=a;i+=this.renderer.paragraph(this.parseInline(r.tokens));continue}case"text":{let r=a,l=r.tokens?this.parseInline(r.tokens):r.text;for(;n+1<e.length&&e[n+1].type==="text";)r=e[++n],l+=`
`+(r.tokens?this.parseInline(r.tokens):r.text);i+=t?this.renderer.paragraph(l):l;continue}default:{const r='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let n=0;n<e.length;n++){const a=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const r=this.options.extensions.renderers[a.type].call({parser:this},a);if(r!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){i+=r||"";continue}}switch(a.type){case"escape":{const r=a;i+=t.text(r.text);break}case"html":{const r=a;i+=t.html(r.text);break}case"link":{const r=a;i+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{const r=a;i+=t.image(r.href,r.title,r.text);break}case"strong":{const r=a;i+=t.strong(this.parseInline(r.tokens,t));break}case"em":{const r=a;i+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{const r=a;i+=t.codespan(r.text);break}case"br":{i+=t.br();break}case"del":{const r=a;i+=t.del(this.parseInline(r.tokens,t));break}case"text":{const r=a;i+=t.text(r.text);break}default:{const r='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return i}}class fi{constructor(e){O(this,"options");this.options=e||us}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}O(fi,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var ds,Ya,Pd;class Yb{constructor(...e){Zo(this,ds);O(this,"defaults",hr());O(this,"options",this.setOptions);O(this,"parse",Ui(this,ds,Ya).call(this,xt.lex,bt.parse));O(this,"parseInline",Ui(this,ds,Ya).call(this,xt.lexInline,bt.parseInline));O(this,"Parser",bt);O(this,"Renderer",An);O(this,"TextRenderer",xr);O(this,"Lexer",xt);O(this,"Tokenizer",Sn);O(this,"Hooks",fi);this.use(...e)}walkTokens(e,t){var n,a;let i=[];for(const r of e)switch(i=i.concat(t.call(this,r)),r.type){case"table":{const l=r;for(const c of l.header)i=i.concat(this.walkTokens(c.tokens,t));for(const c of l.rows)for(const h of c)i=i.concat(this.walkTokens(h.tokens,t));break}case"list":{const l=r;i=i.concat(this.walkTokens(l.items,t));break}default:{const l=r;(a=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&a[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{const h=l[c].flat(1/0);i=i.concat(this.walkTokens(h,t))}):l.tokens&&(i=i.concat(this.walkTokens(l.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const n={...i};if(n.async=this.defaults.async||n.async||!1,i.extensions&&(i.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const r=t.renderers[a.name];r?t.renderers[a.name]=function(...l){let c=a.renderer.apply(this,l);return c===!1&&(c=r.apply(this,l)),c}:t.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=t[a.level];r?r.unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(t.childTokens[a.name]=a.childTokens)}),n.extensions=t),i.renderer){const a=this.defaults.renderer||new An(this.defaults);for(const r in i.renderer){if(!(r in a))throw new Error(`renderer '${r}' does not exist`);if(r==="options")continue;const l=r,c=i.renderer[l],h=a[l];a[l]=(...u)=>{let m=c.apply(a,u);return m===!1&&(m=h.apply(a,u)),m||""}}n.renderer=a}if(i.tokenizer){const a=this.defaults.tokenizer||new Sn(this.defaults);for(const r in i.tokenizer){if(!(r in a))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const l=r,c=i.tokenizer[l],h=a[l];a[l]=(...u)=>{let m=c.apply(a,u);return m===!1&&(m=h.apply(a,u)),m}}n.tokenizer=a}if(i.hooks){const a=this.defaults.hooks||new fi;for(const r in i.hooks){if(!(r in a))throw new Error(`hook '${r}' does not exist`);if(r==="options")continue;const l=r,c=i.hooks[l],h=a[l];fi.passThroughHooks.has(r)?a[l]=u=>{if(this.defaults.async)return Promise.resolve(c.call(a,u)).then(g=>h.call(a,g));const m=c.call(a,u);return h.call(a,m)}:a[l]=(...u)=>{let m=c.apply(a,u);return m===!1&&(m=h.apply(a,u)),m}}n.hooks=a}if(i.walkTokens){const a=this.defaults.walkTokens,r=i.walkTokens;n.walkTokens=function(l){let c=[];return c.push(r.call(this,l)),a&&(c=c.concat(a.call(this,l))),c}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return xt.lex(e,t??this.defaults)}parser(e,t){return bt.parse(e,t??this.defaults)}}ds=new WeakSet,Ya=function(e,t){return(i,n)=>{const a={...n},r={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(r.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),r.async=!0);const l=Ui(this,ds,Pd).call(this,!!r.silent,!!r.async);if(typeof i>"u"||i===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(r.hooks&&(r.hooks.options=r),r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(i):i).then(c=>e(c,r)).then(c=>r.hooks?r.hooks.processAllTokens(c):c).then(c=>r.walkTokens?Promise.all(this.walkTokens(c,r.walkTokens)).then(()=>c):c).then(c=>t(c,r)).then(c=>r.hooks?r.hooks.postprocess(c):c).catch(l);try{r.hooks&&(i=r.hooks.preprocess(i));let c=e(i,r);r.hooks&&(c=r.hooks.processAllTokens(c)),r.walkTokens&&this.walkTokens(c,r.walkTokens);let h=t(c,r);return r.hooks&&(h=r.hooks.postprocess(h)),h}catch(c){return l(c)}}},Pd=function(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const n="<p>An error occurred:</p><pre>"+Xe(i.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(i);throw i}};const cs=new Yb;function de(s,e){return cs.parse(s,e)}de.options=de.setOptions=function(s){return cs.setOptions(s),de.defaults=cs.defaults,kd(de.defaults),de};de.getDefaults=hr;de.defaults=us;de.use=function(...s){return cs.use(...s),de.defaults=cs.defaults,kd(de.defaults),de};de.walkTokens=function(s,e){return cs.walkTokens(s,e)};de.parseInline=cs.parseInline;de.Parser=bt;de.parser=bt.parse;de.Renderer=An;de.TextRenderer=xr;de.Lexer=xt;de.lexer=xt.lex;de.Tokenizer=Sn;de.Hooks=fi;de.parse=de;de.options;de.setOptions;de.use;de.walkTokens;de.parseInline;bt.parse;xt.lex;function qb(s){const e=[];return["title","slug","author","date","category","tags","excerpt"].forEach(i=>{(s[i]===void 0||s[i]===null||Array.isArray(s[i])&&s[i].length===0||s[i]==="")&&e.push(`Missing required field: ${i}`)}),s.slug&&!/^[a-z0-9-]+$/.test(s.slug)&&e.push(`Invalid slug format: ${s.slug}`),s.date&&(isNaN(Date.parse(s.date))||!/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?)?$/.test(s.date))&&e.push(`Invalid date format (expected ISO 8601): ${s.date}`),s.excerpt&&s.excerpt.length>300&&e.push("Excerpt too long (>300 chars)"),e}function Kb(s){const t=s.replace(/`[^`]*`/g," ").replace(/[^A-Za-z0-9\s]/g," ").split(/\s+/).filter(Boolean).length,i=Math.max(1,Math.ceil(t/200));return{wordCount:t,readingTime:i}}function Gb(s){const e=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,t=s.match(e);if(!t)return{content:s,data:{}};const[,i,n]=t,a={};return i.split(`
`).forEach(r=>{const l=r.trim();if(!l||l.startsWith("#"))return;const c=l.indexOf(":");if(c===-1)return;const h=l.slice(0,c).trim();let u=l.slice(c+1).trim();if((u.startsWith('"')&&u.endsWith('"')||u.startsWith("'")&&u.endsWith("'"))&&(u=u.slice(1,-1)),u.startsWith("[")&&u.endsWith("]")){const m=u.slice(1,-1);a[h]=m.split(",").map(g=>g.trim().replace(/^["']|["']$/g,"")).filter(Boolean)}else a[h]=u}),{content:n.trim(),data:a}}const Xb=Object.assign({"./blog/2024/hmrc-reporting-requirements.md":()=>ze(()=>import("./hmrc-reporting-requirements-lU4HqUMG.js"),[],import.meta.url).then(s=>s.default),"./blog/2024/tax-efficient-investment-strategies.md":()=>ze(()=>import("./tax-efficient-investment-strategies-DNQaJq8Y.js"),[],import.meta.url).then(s=>s.default),"./blog/2024/understanding-uk-capital-gains-tax.md":()=>ze(()=>import("./understanding-uk-capital-gains-tax-Cyo6ytRG.js"),[],import.meta.url).then(s=>s.default),"./blog/2024/using-interactive-brokers-data.md":()=>ze(()=>import("./using-interactive-brokers-data-D5h70NGR.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/beginners-guide-to-technical-analysis.md":()=>ze(()=>import("./beginners-guide-to-technical-analysis-CpYIUNBT.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/diversification-vs-concentration-strategy.md":()=>ze(()=>import("./diversification-vs-concentration-strategy-ASGj5IKK.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/fundamental-vs-technical-analysis.md":()=>ze(()=>import("./fundamental-vs-technical-analysis-DhpKvnYs.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/how-to-keep-a-trading-journal.md":()=>ze(()=>import("./how-to-keep-a-trading-journal-AwUZPstZ.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/mastering-emotional-discipline-trading.md":()=>ze(()=>import("./mastering-emotional-discipline-trading-DlXoXxmI.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/risk-management-fundamentals.md":()=>ze(()=>import("./risk-management-fundamentals-DzetqPgl.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/tax-loss-harvesting-strategy.md":()=>ze(()=>import("./tax-loss-harvesting-strategy-DWsykOlC.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/the-dangers-of-leverage-and-margin.md":()=>ze(()=>import("./the-dangers-of-leverage-and-margin-Cbz9xi3o.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/the-psychology-of-a-winning-trader.md":()=>ze(()=>import("./the-psychology-of-a-winning-trader-uQM59xZc.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/the-ultimate-guide-to-building-a-robust-trading-plan.md":()=>ze(()=>import("./the-ultimate-guide-to-building-a-robust-trading-plan-BfT6WKbu.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/understanding-market-cycles.md":()=>ze(()=>import("./understanding-market-cycles-CTSLSL8u.js"),[],import.meta.url).then(s=>s.default)});let Ea=null;function Qb(s,e){const{content:t,data:i}=Gb(s),n=i,a=qb(n);if(a.length)throw new Error(`Frontmatter validation failed for ${e}:
 - ${a.join(`
 - `)}`);const{wordCount:r,readingTime:l}=Kb(t),c=de.parse(t);return{title:n.title,slug:n.slug,author:n.author,date:n.date,category:n.category,tags:n.tags,excerpt:n.excerpt,readingTime:n.readingTime??l,content:c,wordCount:r}}async function Zb(s=!1){if(Ea&&!s)return Ea;const e=Object.entries(Xb);e.length===0&&console.warn("[BlogLoader] No markdown modules discovered by import.meta.glob.");const t=[];for(const[i,n]of e)try{const a=await n(),r=Qb(a,i);t.push(r)}catch(a){throw console.error("[BlogLoader] Error processing",i,":",a),a}return t.sort((i,n)=>new Date(n.date).getTime()-new Date(i.date).getTime()),Ea=t,t}const yc={1:"understanding-uk-capital-gains-tax",2:"hmrc-reporting-requirements",3:"using-interactive-brokers-data",4:"tax-efficient-investment-strategies"},Jb=()=>{const[s,e]=z.useState([]),[t,i]=z.useState(!0),[n,a]=z.useState(null),[r,l]=z.useState(null),c=z.useRef(!1),h=r&&s.find(x=>x.id===r)||null,u=z.useCallback(x=>{const y=[...x.tags||[],x.category,...x.title.toLowerCase().includes("tax")?["tax"]:[],...x.title.toLowerCase().includes("trading")?["trading"]:[],...x.title.toLowerCase().includes("investment")?["investing"]:[],...x.title.toLowerCase().includes("capital gains")?["tax"]:[]].filter(Boolean);return Ec(y.join(" ")).slice(0,3)},[]);z.useEffect(()=>{let x=!1;return(async()=>{try{i(!0);const y=await Zb();if(!x){const w=y.map(N=>({id:N.slug,title:N.title,content:N.content,excerpt:N.excerpt,author:N.author,publishedDate:N.date,tags:N.tags,category:N.category,readingTime:N.readingTime}));e(w)}}catch(y){x||a((y==null?void 0:y.message)||"Failed to load blog posts")}finally{x||i(!1)}})(),()=>{x=!0}},[]);const m=z.useCallback(()=>{if(typeof window>"u")return;const x=window.location.hash,y=x.startsWith("#")?x.substring(1):x;if(y==="blog"){l(null);return}if(y.startsWith("blog/")){const w=y.split("/");let N="";if(w.length===2?N=w[1]:w.length===3&&w[1]==="post"&&(N=w[2]),N){if(/^\d+$/.test(N)&&yc[N]){const S=yc[N];if(!c.current){c.current=!0,window.location.replace(`#blog/post/${S}`);return}}l(N);return}}l(null)},[]);z.useEffect(()=>{m();const x=()=>m();return window.addEventListener("hashchange",x),()=>window.removeEventListener("hashchange",x)},[m]);const g=x=>{typeof window<"u"&&(window.location.hash=`blog/post/${x}`)},b=x=>{g(x.id)},v=()=>{typeof window<"u"&&(window.location.hash="blog")};return o.jsx("div",{className:"container-fluid py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsxs("div",{className:"col-12 col-xl-10",children:[!h&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h1",{className:"h2 text-primary mb-2",children:"Tax Calculator Blog"}),o.jsx("p",{className:"text-muted lead",children:"Expert insights, guides, and updates on UK tax calculations for stocks and shares."})]}),t&&o.jsx("div",{className:"text-center py-5",children:o.jsx("div",{className:"spinner-border text-primary",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),!t&&n&&o.jsx("div",{className:"alert alert-danger",role:"alert",children:n}),!t&&!n&&h?o.jsxs("div",{className:"blog-post-detail",children:[o.jsxs("div",{className:"d-flex align-items-center mb-3",children:[o.jsxs("button",{className:"btn btn-sm btn-outline-secondary me-3",onClick:v,children:[o.jsx("i",{className:"bi bi-arrow-left me-1"})," Back to all posts"]}),o.jsxs("span",{className:"text-muted small",children:["Post ",s.findIndex(x=>x.id===h.id)+1," of ",s.length]})]}),o.jsx(jd,{post:h}),o.jsx("div",{className:"mt-5 mb-4",children:o.jsxs("div",{className:"border-top pt-4",children:[o.jsx("h4",{className:"h5 mb-3",children:"üìö Related Resources"}),o.jsx("p",{className:"text-muted mb-3",children:"Deepen your understanding with these expert-recommended books"}),o.jsx(At,{products:u(h),columns:{xs:1,sm:2,md:3},showRatings:!0,showCategories:!0,layout:"vertical",emptyStateMessage:"No related books found for this topic"})]})}),o.jsxs("div",{className:"mt-4 d-flex justify-content-between",children:[o.jsxs("button",{className:"btn btn-outline-primary btn-sm",disabled:s.length===0||h.id===s[0].id,onClick:()=>{const x=s.findIndex(y=>y.id===h.id);x>0&&g(s[x-1].id)},children:[o.jsx("i",{className:"bi bi-chevron-left me-1"})," Previous"]}),o.jsxs("button",{className:"btn btn-outline-primary btn-sm",disabled:s.length===0||h.id===s[s.length-1].id,onClick:()=>{const x=s.findIndex(y=>y.id===h.id);x<s.length-1&&g(s[x+1].id)},children:["Next ",o.jsx("i",{className:"bi bi-chevron-right ms-1"})]})]})]}):null,!t&&!n&&!h&&o.jsx(cb,{posts:s,onPostClick:b,className:"blog-page-index"})]})})})},e_=()=>{const[s,e]=z.useState("all"),[t,i]=z.useState(""),[n,a]=z.useState("vertical"),r=$t(),l=Mc();return o.jsx("div",{className:"container my-5",children:o.jsx("div",{className:"row",children:o.jsxs("div",{className:"col-12",children:[o.jsxs("div",{className:"text-center mb-5",children:[o.jsx("h1",{className:"display-4 mb-3",children:"Affiliate Components Demo"}),o.jsx("p",{className:"lead text-muted",children:"Comprehensive Amazon affiliate marketing system for tax and trading books"}),o.jsx(hn,{style:"banner"})]}),o.jsxs("div",{className:"card mb-4",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"card-title mb-0",children:[o.jsx("i",{className:"bi bi-gear me-2"}),"Demo Controls"]})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"row g-3",children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"categorySelect",className:"form-label",children:"Category Filter"}),o.jsxs("select",{id:"categorySelect",className:"form-select",value:s,onChange:c=>e(c.target.value),children:[o.jsx("option",{value:"all",children:"All Categories"}),o.jsx("option",{value:"tax",children:"Tax Guides"}),o.jsx("option",{value:"trading",children:"Trading Psychology"}),o.jsx("option",{value:"finance",children:"Finance & Investment"}),o.jsx("option",{value:"business",children:"Business & Entrepreneurship"})]})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"searchInput",className:"form-label",children:"Search Products"}),o.jsx("input",{id:"searchInput",type:"text",className:"form-control",placeholder:"Search by title, author, or tags...",value:t,onChange:c=>i(c.target.value)})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"layoutSelect",className:"form-label",children:"Card Layout"}),o.jsxs("select",{id:"layoutSelect",className:"form-select",value:n,onChange:c=>a(c.target.value),children:[o.jsx("option",{value:"vertical",children:"Vertical Cards"}),o.jsx("option",{value:"horizontal",children:"Horizontal Cards"})]})]})]})})]}),o.jsxs("div",{className:"row mb-5",children:[o.jsx("div",{className:"col-lg-6 mb-4",children:o.jsxs("div",{className:"card h-100",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"card-title mb-0",children:[o.jsx("i",{className:"bi bi-link-45deg me-2"}),"AffiliateLink Component"]})}),o.jsxs("div",{className:"card-body",children:[o.jsx("p",{className:"text-muted",children:"Simple affiliate links with tracking and FTC compliance:"}),o.jsxs("div",{className:"d-flex flex-column gap-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Default Link:"}),o.jsx("br",{}),o.jsx(ri,{product:r[0]})]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Button Style:"}),o.jsx("br",{}),o.jsxs(ri,{product:r[0],className:"btn btn-primary",children:[o.jsx("i",{className:"bi bi-cart3 me-2"}),"Buy on Amazon"]})]}),o.jsxs("div",{children:[o.jsx("strong",{children:"No Disclosure:"}),o.jsx("br",{}),o.jsx(ri,{product:r[0],showDisclosure:!1,className:"btn btn-outline-success btn-sm",children:"View Details"})]})]})]})]})}),o.jsx("div",{className:"col-lg-6 mb-4",children:o.jsxs("div",{className:"card h-100",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"card-title mb-0",children:[o.jsx("i",{className:"bi bi-card-text me-2"}),"AffiliateCard Component"]})}),o.jsxs("div",{className:"card-body",children:[o.jsx("p",{className:"text-muted",children:"Rich product cards with images and details:"}),l.length>0&&o.jsx(Dc,{product:l[0],layout:"horizontal",imageHeight:120,compact:!0})]})]})})]}),l.length>0&&o.jsxs("section",{className:"mb-5",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsxs("h2",{className:"h3 mb-0",children:[o.jsx("i",{className:"bi bi-star-fill text-warning me-2"}),"Featured Products"]}),o.jsxs("span",{className:"badge bg-primary",children:[l.length," products"]})]}),o.jsx(At,{products:l,columns:{xs:1,sm:2,md:2,lg:3,xl:4},layout:"vertical",showRatings:!0,showCategories:!0})]}),o.jsxs("section",{className:"mb-5",children:[o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[o.jsxs("h2",{className:"h3 mb-0",children:[o.jsx("i",{className:"bi bi-grid-3x3-gap me-2"}),"Product Catalog"]}),o.jsxs("span",{className:"badge bg-secondary",children:[r.length," total products"]})]}),o.jsx(At,{category:s!=="all"?s:void 0,searchQuery:t,layout:n,columns:{xs:1,sm:2,md:2,lg:3,xl:4},showRatings:!0,showCategories:!0,sortBy:"featured",emptyStateMessage:"No products match your search criteria"})]}),o.jsxs("section",{className:"mb-5",children:[o.jsxs("h2",{className:"h3 mb-4",children:[o.jsx("i",{className:"bi bi-tags me-2"}),"Categories Overview"]}),o.jsx("div",{className:"row g-4",children:["tax","trading","finance","business"].map(c=>{const h=Ac(c);return o.jsx("div",{className:"col-lg-6",children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"card-title mb-0 text-capitalize",children:[c," (",h.length,")"]})}),o.jsx("div",{className:"card-body",children:h.length>0?o.jsx(At,{products:h.slice(0,2),columns:{xs:1,sm:2},layout:"horizontal",showCategories:!1,showRatings:!0}):o.jsx("p",{className:"text-muted text-center py-3",children:"No products in this category yet."})})]})},c)})})]}),o.jsxs("section",{className:"mb-5",children:[o.jsxs("h2",{className:"h3 mb-4",children:[o.jsx("i",{className:"bi bi-shield-check me-2"}),"Disclosure Styles"]}),o.jsxs("div",{className:"row g-4",children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("h6",{children:"Inline Style"}),o.jsxs("p",{children:["Check out this amazing book",o.jsx(hn,{style:"inline"})]})]}),o.jsxs("div",{className:"col-md-8",children:[o.jsx("h6",{children:"Footer Style"}),o.jsx(hn,{style:"footer"})]})]})]}),o.jsx("section",{className:"mb-5",children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"card-title mb-0",children:[o.jsx("i",{className:"bi bi-graph-up me-2"}),"System Statistics"]})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"row text-center",children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("div",{className:"h4 text-primary",children:r.length}),o.jsx("small",{className:"text-muted",children:"Total Products"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("div",{className:"h4 text-success",children:l.length}),o.jsx("small",{className:"text-muted",children:"Featured Products"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("div",{className:"h4 text-info",children:Array.from(new Set(r.map(c=>c.category))).length}),o.jsx("small",{className:"text-muted",children:"Categories"})]}),o.jsxs("div",{className:"col-md-3",children:[o.jsx("div",{className:"h4 text-warning",children:(r.reduce((c,h)=>c+(h.rating||0),0)/r.length).toFixed(1)}),o.jsx("small",{className:"text-muted",children:"Avg Rating"})]})]})})]})}),o.jsx("section",{className:"mb-5",children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h5",{className:"card-title mb-0",children:[o.jsx("i",{className:"bi bi-code-square me-2"}),"Quick Implementation Guide"]})}),o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{children:"1. Import Components"}),o.jsx("pre",{className:"bg-light p-3 rounded",children:`import {
  AffiliateLink,
  AffiliateCard,
  AffiliateGrid,
  AffiliateDisclosure
} from './components/affiliate';`}),o.jsx("h6",{children:"2. Basic Usage"}),o.jsx("pre",{className:"bg-light p-3 rounded",children:`// Simple affiliate link
<AffiliateLink product={product} />

// Product grid
<AffiliateGrid category="tax" limit={6} />

// FTC disclosure
<AffiliateDisclosure style="banner" />`}),o.jsx("h6",{children:"3. Add to Your Pages"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Tax Calculator: Show tax guide books"}),o.jsx("li",{children:"Trading Tools: Display trading psychology books"}),o.jsx("li",{children:"Blog Posts: Relevant book recommendations"}),o.jsx("li",{children:"Footer: Legal disclosures"})]})]})]})})]})})})},t_=()=>{console.log("[SPA] App component rendering...");const[s,e]=Ps.useState(()=>(typeof window<"u"?window.location.hash.slice(1):"")||"home");Ps.useEffect(()=>{const i=()=>{const n=window.location.hash.slice(1)||"home";console.log("[SPA] Hash changed to:",n),e(n)};return window.addEventListener("hashchange",i),()=>window.removeEventListener("hashchange",i)},[]),console.log("[SPA] Current route:",s);const t=()=>{if(s.startsWith("blog"))return o.jsx(Jb,{});if(s.startsWith("results"))return o.jsx(ab,{});switch(s){case"calculator":return o.jsx(Tf,{});case"about":return o.jsx(rb,{});case"help":return o.jsx(ob,{});case"guide":return o.jsx(lb,{});case"affiliate-demo":return o.jsx(e_,{});default:return o.jsx(Nf,{})}};return o.jsx(_f,{position:"top-end",children:o.jsx(gf,{children:o.jsx("div",{className:"min-vh-100 bg-light",children:o.jsx(kf,{children:t()})})})})};var s_={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(s,e){(function(t,i){s.exports=i()})(rf,function(){const t=new Map,i={set(p,d,f){t.has(p)||t.set(p,new Map);const _=t.get(p);_.has(d)||_.size===0?_.set(d,f):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(_.keys())[0]}.`)},get:(p,d)=>t.has(p)&&t.get(p).get(d)||null,remove(p,d){if(!t.has(p))return;const f=t.get(p);f.delete(d),f.size===0&&t.delete(p)}},n="transitionend",a=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(d,f)=>`#${CSS.escape(f)}`)),p),r=p=>p==null?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase(),l=p=>{p.dispatchEvent(new Event(n))},c=p=>!(!p||typeof p!="object")&&(p.jquery!==void 0&&(p=p[0]),p.nodeType!==void 0),h=p=>c(p)?p.jquery?p[0]:p:typeof p=="string"&&p.length>0?document.querySelector(a(p)):null,u=p=>{if(!c(p)||p.getClientRects().length===0)return!1;const d=getComputedStyle(p).getPropertyValue("visibility")==="visible",f=p.closest("details:not([open])");if(!f)return d;if(f!==p){const _=p.closest("summary");if(_&&_.parentNode!==f||_===null)return!1}return d},m=p=>!p||p.nodeType!==Node.ELEMENT_NODE||!!p.classList.contains("disabled")||(p.disabled!==void 0?p.disabled:p.hasAttribute("disabled")&&p.getAttribute("disabled")!=="false"),g=p=>{if(!document.documentElement.attachShadow)return null;if(typeof p.getRootNode=="function"){const d=p.getRootNode();return d instanceof ShadowRoot?d:null}return p instanceof ShadowRoot?p:p.parentNode?g(p.parentNode):null},b=()=>{},v=p=>{p.offsetHeight},x=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,y=[],w=()=>document.documentElement.dir==="rtl",N=p=>{var d;d=()=>{const f=x();if(f){const _=p.NAME,j=f.fn[_];f.fn[_]=p.jQueryInterface,f.fn[_].Constructor=p,f.fn[_].noConflict=()=>(f.fn[_]=j,p.jQueryInterface)}},document.readyState==="loading"?(y.length||document.addEventListener("DOMContentLoaded",()=>{for(const f of y)f()}),y.push(d)):d()},S=(p,d=[],f=p)=>typeof p=="function"?p.call(...d):f,E=(p,d,f=!0)=>{if(!f)return void S(p);const _=(C=>{if(!C)return 0;let{transitionDuration:A,transitionDelay:D}=window.getComputedStyle(C);const L=Number.parseFloat(A),R=Number.parseFloat(D);return L||R?(A=A.split(",")[0],D=D.split(",")[0],1e3*(Number.parseFloat(A)+Number.parseFloat(D))):0})(d)+5;let j=!1;const k=({target:C})=>{C===d&&(j=!0,d.removeEventListener(n,k),S(p))};d.addEventListener(n,k),setTimeout(()=>{j||l(d)},_)},M=(p,d,f,_)=>{const j=p.length;let k=p.indexOf(d);return k===-1?!f&&_?p[j-1]:p[0]:(k+=f?1:-1,_&&(k=(k+j)%j),p[Math.max(0,Math.min(k,j-1))])},I=/[^.]*(?=\..*)\.|.*/,$=/\..*/,F=/::\d+$/,H={};let W=1;const G={mouseenter:"mouseover",mouseleave:"mouseout"},Z=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function _e(p,d){return d&&`${d}::${W++}`||p.uidEvent||W++}function Se(p){const d=_e(p);return p.uidEvent=d,H[d]=H[d]||{},H[d]}function se(p,d,f=null){return Object.values(p).find(_=>_.callable===d&&_.delegationSelector===f)}function ae(p,d,f){const _=typeof d=="string",j=_?f:d||f;let k=K(p);return Z.has(k)||(k=p),[_,j,k]}function me(p,d,f,_,j){if(typeof d!="string"||!p)return;let[k,C,A]=ae(d,f,_);d in G&&(C=(Y=>function(U){if(!U.relatedTarget||U.relatedTarget!==U.delegateTarget&&!U.delegateTarget.contains(U.relatedTarget))return Y.call(this,U)})(C));const D=Se(p),L=D[A]||(D[A]={}),R=se(L,C,k?f:null);if(R)return void(R.oneOff=R.oneOff&&j);const P=_e(C,d.replace(I,"")),X=k?function(V,Y,U){return function q(he){const xe=V.querySelectorAll(Y);for(let{target:ee}=he;ee&&ee!==this;ee=ee.parentNode)for(const ne of xe)if(ne===ee)return Pe(he,{delegateTarget:ee}),q.oneOff&&T.off(V,he.type,Y,U),U.apply(ee,[he])}}(p,f,C):function(V,Y){return function U(q){return Pe(q,{delegateTarget:V}),U.oneOff&&T.off(V,q.type,Y),Y.apply(V,[q])}}(p,C);X.delegationSelector=k?f:null,X.callable=C,X.oneOff=j,X.uidEvent=P,L[P]=X,p.addEventListener(A,X,k)}function Ae(p,d,f,_,j){const k=se(d[f],_,j);k&&(p.removeEventListener(f,k,!!j),delete d[f][k.uidEvent])}function ke(p,d,f,_){const j=d[f]||{};for(const[k,C]of Object.entries(j))k.includes(_)&&Ae(p,d,f,C.callable,C.delegationSelector)}function K(p){return p=p.replace($,""),G[p]||p}const T={on(p,d,f,_){me(p,d,f,_,!1)},one(p,d,f,_){me(p,d,f,_,!0)},off(p,d,f,_){if(typeof d!="string"||!p)return;const[j,k,C]=ae(d,f,_),A=C!==d,D=Se(p),L=D[C]||{},R=d.startsWith(".");if(k===void 0){if(R)for(const P of Object.keys(D))ke(p,D,P,d.slice(1));for(const[P,X]of Object.entries(L)){const V=P.replace(F,"");A&&!d.includes(V)||Ae(p,D,C,X.callable,X.delegationSelector)}}else{if(!Object.keys(L).length)return;Ae(p,D,C,k,j?f:null)}},trigger(p,d,f){if(typeof d!="string"||!p)return null;const _=x();let j=null,k=!0,C=!0,A=!1;d!==K(d)&&_&&(j=_.Event(d,f),_(p).trigger(j),k=!j.isPropagationStopped(),C=!j.isImmediatePropagationStopped(),A=j.isDefaultPrevented());const D=Pe(new Event(d,{bubbles:k,cancelable:!0}),f);return A&&D.preventDefault(),C&&p.dispatchEvent(D),D.defaultPrevented&&j&&j.preventDefault(),D}};function Pe(p,d={}){for(const[f,_]of Object.entries(d))try{p[f]=_}catch{Object.defineProperty(p,f,{configurable:!0,get:()=>_})}return p}function Ee(p){if(p==="true")return!0;if(p==="false")return!1;if(p===Number(p).toString())return Number(p);if(p===""||p==="null")return null;if(typeof p!="string")return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function $e(p){return p.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const Me={setDataAttribute(p,d,f){p.setAttribute(`data-bs-${$e(d)}`,f)},removeDataAttribute(p,d){p.removeAttribute(`data-bs-${$e(d)}`)},getDataAttributes(p){if(!p)return{};const d={},f=Object.keys(p.dataset).filter(_=>_.startsWith("bs")&&!_.startsWith("bsConfig"));for(const _ of f){let j=_.replace(/^bs/,"");j=j.charAt(0).toLowerCase()+j.slice(1),d[j]=Ee(p.dataset[_])}return d},getDataAttribute:(p,d)=>Ee(p.getAttribute(`data-bs-${$e(d)}`))};class Ve{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,f){const _=c(f)?Me.getDataAttribute(f,"config"):{};return{...this.constructor.Default,...typeof _=="object"?_:{},...c(f)?Me.getDataAttributes(f):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,f=this.constructor.DefaultType){for(const[_,j]of Object.entries(f)){const k=d[_],C=c(k)?"element":r(k);if(!new RegExp(j).test(C))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${_}" provided type "${C}" but expected type "${j}".`)}}}class rt extends Ve{constructor(d,f){super(),(d=h(d))&&(this._element=d,this._config=this._getConfig(f),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),T.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,f,_=!0){E(d,f,_)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return i.get(h(d),this.DATA_KEY)}static getOrCreateInstance(d,f={}){return this.getInstance(d)||new this(d,typeof f=="object"?f:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Rn=p=>{let d=p.getAttribute("data-bs-target");if(!d||d==="#"){let f=p.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),d=f&&f!=="#"?f.trim():null}return d?d.split(",").map(f=>a(f)).join(","):null},B={find:(p,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,p)),findOne:(p,d=document.documentElement)=>Element.prototype.querySelector.call(d,p),children:(p,d)=>[].concat(...p.children).filter(f=>f.matches(d)),parents(p,d){const f=[];let _=p.parentNode.closest(d);for(;_;)f.push(_),_=_.parentNode.closest(d);return f},prev(p,d){let f=p.previousElementSibling;for(;f;){if(f.matches(d))return[f];f=f.previousElementSibling}return[]},next(p,d){let f=p.nextElementSibling;for(;f;){if(f.matches(d))return[f];f=f.nextElementSibling}return[]},focusableChildren(p){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(d,p).filter(f=>!m(f)&&u(f))},getSelectorFromElement(p){const d=Rn(p);return d&&B.findOne(d)?d:null},getElementFromSelector(p){const d=Rn(p);return d?B.findOne(d):null},getMultipleElementsFromSelector(p){const d=Rn(p);return d?B.find(d):[]}},ki=(p,d="hide")=>{const f=`click.dismiss${p.EVENT_KEY}`,_=p.NAME;T.on(document,f,`[data-bs-dismiss="${_}"]`,function(j){if(["A","AREA"].includes(this.tagName)&&j.preventDefault(),m(this))return;const k=B.getElementFromSelector(this)||this.closest(`.${_}`);p.getOrCreateInstance(k)[d]()})},br=".bs.alert",Ld=`close${br}`,Rd=`closed${br}`;class Fs extends rt{static get NAME(){return"alert"}close(){if(T.trigger(this._element,Ld).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),T.trigger(this._element,Rd),this.dispose()}static jQueryInterface(d){return this.each(function(){const f=Fs.getOrCreateInstance(this);if(typeof d=="string"){if(f[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);f[d](this)}})}}ki(Fs,"close"),N(Fs);const _r='[data-bs-toggle="button"]';class zs extends rt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const f=zs.getOrCreateInstance(this);d==="toggle"&&f[d]()})}}T.on(document,"click.bs.button.data-api",_r,p=>{p.preventDefault();const d=p.target.closest(_r);zs.getOrCreateInstance(d).toggle()}),N(zs);const fs=".bs.swipe",Id=`touchstart${fs}`,Fd=`touchmove${fs}`,zd=`touchend${fs}`,$d=`pointerdown${fs}`,Bd=`pointerup${fs}`,Hd={endCallback:null,leftCallback:null,rightCallback:null},Wd={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ni extends Ve{constructor(d,f){super(),this._element=d,d&&Ni.isSupported()&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Hd}static get DefaultType(){return Wd}static get NAME(){return"swipe"}dispose(){T.off(this._element,fs)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),S(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const f=d/this._deltaX;this._deltaX=0,f&&S(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(T.on(this._element,$d,d=>this._start(d)),T.on(this._element,Bd,d=>this._end(d)),this._element.classList.add("pointer-event")):(T.on(this._element,Id,d=>this._start(d)),T.on(this._element,Fd,d=>this._move(d)),T.on(this._element,zd,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Dt=".bs.carousel",vr=".data-api",Vd="ArrowLeft",Ud="ArrowRight",$s="next",ms="prev",gs="left",Ci="right",Yd=`slide${Dt}`,In=`slid${Dt}`,qd=`keydown${Dt}`,Kd=`mouseenter${Dt}`,Gd=`mouseleave${Dt}`,Xd=`dragstart${Dt}`,Qd=`load${Dt}${vr}`,Zd=`click${Dt}${vr}`,yr="carousel",Si="active",wr=".active",jr=".carousel-item",Jd=wr+jr,eh={[Vd]:Ci,[Ud]:gs},th={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},sh={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ps extends rt{constructor(d,f){super(d,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=B.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===yr&&this.cycle()}static get Default(){return th}static get DefaultType(){return sh}static get NAME(){return"carousel"}next(){this._slide($s)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide(ms)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?T.one(this._element,In,()=>this.cycle()):this.cycle())}to(d){const f=this._getItems();if(d>f.length-1||d<0)return;if(this._isSliding)return void T.one(this._element,In,()=>this.to(d));const _=this._getItemIndex(this._getActive());if(_===d)return;const j=d>_?$s:ms;this._slide(j,f[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&T.on(this._element,qd,d=>this._keydown(d)),this._config.pause==="hover"&&(T.on(this._element,Kd,()=>this.pause()),T.on(this._element,Gd,()=>this._maybeEnableCycle())),this._config.touch&&Ni.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const f of B.find(".carousel-item img",this._element))T.on(f,Xd,_=>_.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(gs)),rightCallback:()=>this._slide(this._directionToOrder(Ci)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ni(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const f=eh[d.key];f&&(d.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const f=B.findOne(wr,this._indicatorsElement);f.classList.remove(Si),f.removeAttribute("aria-current");const _=B.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);_&&(_.classList.add(Si),_.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const f=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(d,f=null){if(this._isSliding)return;const _=this._getActive(),j=d===$s,k=f||M(this._getItems(),_,j,this._config.wrap);if(k===_)return;const C=this._getItemIndex(k),A=P=>T.trigger(this._element,P,{relatedTarget:k,direction:this._orderToDirection(d),from:this._getItemIndex(_),to:C});if(A(Yd).defaultPrevented||!_||!k)return;const D=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(C),this._activeElement=k;const L=j?"carousel-item-start":"carousel-item-end",R=j?"carousel-item-next":"carousel-item-prev";k.classList.add(R),v(k),_.classList.add(L),k.classList.add(L),this._queueCallback(()=>{k.classList.remove(L,R),k.classList.add(Si),_.classList.remove(Si,R,L),this._isSliding=!1,A(In)},_,this._isAnimated()),D&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return B.findOne(Jd,this._element)}_getItems(){return B.find(jr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return w()?d===gs?ms:$s:d===gs?$s:ms}_orderToDirection(d){return w()?d===ms?gs:Ci:d===ms?Ci:gs}static jQueryInterface(d){return this.each(function(){const f=ps.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(f[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);f[d]()}}else f.to(d)})}}T.on(document,Zd,"[data-bs-slide], [data-bs-slide-to]",function(p){const d=B.getElementFromSelector(this);if(!d||!d.classList.contains(yr))return;p.preventDefault();const f=ps.getOrCreateInstance(d),_=this.getAttribute("data-bs-slide-to");return _?(f.to(_),void f._maybeEnableCycle()):Me.getDataAttribute(this,"slide")==="next"?(f.next(),void f._maybeEnableCycle()):(f.prev(),void f._maybeEnableCycle())}),T.on(window,Qd,()=>{const p=B.find('[data-bs-ride="carousel"]');for(const d of p)ps.getOrCreateInstance(d)}),N(ps);const Bs=".bs.collapse",ih=`show${Bs}`,nh=`shown${Bs}`,ah=`hide${Bs}`,rh=`hidden${Bs}`,oh=`click${Bs}.data-api`,Fn="show",xs="collapse",Ti="collapsing",lh=`:scope .${xs} .${xs}`,zn='[data-bs-toggle="collapse"]',ch={parent:null,toggle:!0},dh={parent:"(null|element)",toggle:"boolean"};class bs extends rt{constructor(d,f){super(d,f),this._isTransitioning=!1,this._triggerArray=[];const _=B.find(zn);for(const j of _){const k=B.getSelectorFromElement(j),C=B.find(k).filter(A=>A===this._element);k!==null&&C.length&&this._triggerArray.push(j)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ch}static get DefaultType(){return dh}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(j=>j!==this._element).map(j=>bs.getOrCreateInstance(j,{toggle:!1}))),d.length&&d[0]._isTransitioning||T.trigger(this._element,ih).defaultPrevented)return;for(const j of d)j.hide();const f=this._getDimension();this._element.classList.remove(xs),this._element.classList.add(Ti),this._element.style[f]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const _=`scroll${f[0].toUpperCase()+f.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ti),this._element.classList.add(xs,Fn),this._element.style[f]="",T.trigger(this._element,nh)},this._element,!0),this._element.style[f]=`${this._element[_]}px`}hide(){if(this._isTransitioning||!this._isShown()||T.trigger(this._element,ah).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,v(this._element),this._element.classList.add(Ti),this._element.classList.remove(xs,Fn);for(const f of this._triggerArray){const _=B.getElementFromSelector(f);_&&!this._isShown(_)&&this._addAriaAndCollapsedClass([f],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ti),this._element.classList.add(xs),T.trigger(this._element,rh)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(Fn)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=h(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(zn);for(const f of d){const _=B.getElementFromSelector(f);_&&this._addAriaAndCollapsedClass([f],this._isShown(_))}}_getFirstLevelChildren(d){const f=B.find(lh,this._config.parent);return B.find(d,this._config.parent).filter(_=>!f.includes(_))}_addAriaAndCollapsedClass(d,f){if(d.length)for(const _ of d)_.classList.toggle("collapsed",!f),_.setAttribute("aria-expanded",f)}static jQueryInterface(d){const f={};return typeof d=="string"&&/show|hide/.test(d)&&(f.toggle=!1),this.each(function(){const _=bs.getOrCreateInstance(this,f);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError(`No method named "${d}"`);_[d]()}})}}T.on(document,oh,zn,function(p){(p.target.tagName==="A"||p.delegateTarget&&p.delegateTarget.tagName==="A")&&p.preventDefault();for(const d of B.getMultipleElementsFromSelector(this))bs.getOrCreateInstance(d,{toggle:!1}).toggle()}),N(bs);var Le="top",Ue="bottom",Ye="right",Re="left",Ai="auto",_s=[Le,Ue,Ye,Re],Wt="start",vs="end",kr="clippingParents",$n="viewport",ys="popper",Nr="reference",Bn=_s.reduce(function(p,d){return p.concat([d+"-"+Wt,d+"-"+vs])},[]),Hn=[].concat(_s,[Ai]).reduce(function(p,d){return p.concat([d,d+"-"+Wt,d+"-"+vs])},[]),Cr="beforeRead",Sr="read",Tr="afterRead",Ar="beforeMain",Mr="main",Er="afterMain",Dr="beforeWrite",Or="write",Pr="afterWrite",Lr=[Cr,Sr,Tr,Ar,Mr,Er,Dr,Or,Pr];function dt(p){return p?(p.nodeName||"").toLowerCase():null}function qe(p){if(p==null)return window;if(p.toString()!=="[object Window]"){var d=p.ownerDocument;return d&&d.defaultView||window}return p}function Vt(p){return p instanceof qe(p).Element||p instanceof Element}function Qe(p){return p instanceof qe(p).HTMLElement||p instanceof HTMLElement}function Wn(p){return typeof ShadowRoot<"u"&&(p instanceof qe(p).ShadowRoot||p instanceof ShadowRoot)}const Vn={name:"applyStyles",enabled:!0,phase:"write",fn:function(p){var d=p.state;Object.keys(d.elements).forEach(function(f){var _=d.styles[f]||{},j=d.attributes[f]||{},k=d.elements[f];Qe(k)&&dt(k)&&(Object.assign(k.style,_),Object.keys(j).forEach(function(C){var A=j[C];A===!1?k.removeAttribute(C):k.setAttribute(C,A===!0?"":A)}))})},effect:function(p){var d=p.state,f={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,f.popper),d.styles=f,d.elements.arrow&&Object.assign(d.elements.arrow.style,f.arrow),function(){Object.keys(d.elements).forEach(function(_){var j=d.elements[_],k=d.attributes[_]||{},C=Object.keys(d.styles.hasOwnProperty(_)?d.styles[_]:f[_]).reduce(function(A,D){return A[D]="",A},{});Qe(j)&&dt(j)&&(Object.assign(j.style,C),Object.keys(k).forEach(function(A){j.removeAttribute(A)}))})}},requires:["computeStyles"]};function ht(p){return p.split("-")[0]}var Ut=Math.max,Mi=Math.min,ws=Math.round;function Un(){var p=navigator.userAgentData;return p!=null&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function Rr(){return!/^((?!chrome|android).)*safari/i.test(Un())}function js(p,d,f){d===void 0&&(d=!1),f===void 0&&(f=!1);var _=p.getBoundingClientRect(),j=1,k=1;d&&Qe(p)&&(j=p.offsetWidth>0&&ws(_.width)/p.offsetWidth||1,k=p.offsetHeight>0&&ws(_.height)/p.offsetHeight||1);var C=(Vt(p)?qe(p):window).visualViewport,A=!Rr()&&f,D=(_.left+(A&&C?C.offsetLeft:0))/j,L=(_.top+(A&&C?C.offsetTop:0))/k,R=_.width/j,P=_.height/k;return{width:R,height:P,top:L,right:D+R,bottom:L+P,left:D,x:D,y:L}}function Yn(p){var d=js(p),f=p.offsetWidth,_=p.offsetHeight;return Math.abs(d.width-f)<=1&&(f=d.width),Math.abs(d.height-_)<=1&&(_=d.height),{x:p.offsetLeft,y:p.offsetTop,width:f,height:_}}function Ir(p,d){var f=d.getRootNode&&d.getRootNode();if(p.contains(d))return!0;if(f&&Wn(f)){var _=d;do{if(_&&p.isSameNode(_))return!0;_=_.parentNode||_.host}while(_)}return!1}function vt(p){return qe(p).getComputedStyle(p)}function hh(p){return["table","td","th"].indexOf(dt(p))>=0}function Ot(p){return((Vt(p)?p.ownerDocument:p.document)||window.document).documentElement}function Ei(p){return dt(p)==="html"?p:p.assignedSlot||p.parentNode||(Wn(p)?p.host:null)||Ot(p)}function Fr(p){return Qe(p)&&vt(p).position!=="fixed"?p.offsetParent:null}function Hs(p){for(var d=qe(p),f=Fr(p);f&&hh(f)&&vt(f).position==="static";)f=Fr(f);return f&&(dt(f)==="html"||dt(f)==="body"&&vt(f).position==="static")?d:f||function(_){var j=/firefox/i.test(Un());if(/Trident/i.test(Un())&&Qe(_)&&vt(_).position==="fixed")return null;var k=Ei(_);for(Wn(k)&&(k=k.host);Qe(k)&&["html","body"].indexOf(dt(k))<0;){var C=vt(k);if(C.transform!=="none"||C.perspective!=="none"||C.contain==="paint"||["transform","perspective"].indexOf(C.willChange)!==-1||j&&C.willChange==="filter"||j&&C.filter&&C.filter!=="none")return k;k=k.parentNode}return null}(p)||d}function qn(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function Ws(p,d,f){return Ut(p,Mi(d,f))}function zr(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function $r(p,d){return d.reduce(function(f,_){return f[_]=p,f},{})}const Br={name:"arrow",enabled:!0,phase:"main",fn:function(p){var d,f=p.state,_=p.name,j=p.options,k=f.elements.arrow,C=f.modifiersData.popperOffsets,A=ht(f.placement),D=qn(A),L=[Re,Ye].indexOf(A)>=0?"height":"width";if(k&&C){var R=function(ue,oe){return zr(typeof(ue=typeof ue=="function"?ue(Object.assign({},oe.rects,{placement:oe.placement})):ue)!="number"?ue:$r(ue,_s))}(j.padding,f),P=Yn(k),X=D==="y"?Le:Re,V=D==="y"?Ue:Ye,Y=f.rects.reference[L]+f.rects.reference[D]-C[D]-f.rects.popper[L],U=C[D]-f.rects.reference[D],q=Hs(k),he=q?D==="y"?q.clientHeight||0:q.clientWidth||0:0,xe=Y/2-U/2,ee=R[X],ne=he-P[L]-R[V],Q=he/2-P[L]/2+xe,te=Ws(ee,Q,ne),re=D;f.modifiersData[_]=((d={})[re]=te,d.centerOffset=te-Q,d)}},effect:function(p){var d=p.state,f=p.options.element,_=f===void 0?"[data-popper-arrow]":f;_!=null&&(typeof _!="string"||(_=d.elements.popper.querySelector(_)))&&Ir(d.elements.popper,_)&&(d.elements.arrow=_)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ks(p){return p.split("-")[1]}var uh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Hr(p){var d,f=p.popper,_=p.popperRect,j=p.placement,k=p.variation,C=p.offsets,A=p.position,D=p.gpuAcceleration,L=p.adaptive,R=p.roundOffsets,P=p.isFixed,X=C.x,V=X===void 0?0:X,Y=C.y,U=Y===void 0?0:Y,q=typeof R=="function"?R({x:V,y:U}):{x:V,y:U};V=q.x,U=q.y;var he=C.hasOwnProperty("x"),xe=C.hasOwnProperty("y"),ee=Re,ne=Le,Q=window;if(L){var te=Hs(f),re="clientHeight",ue="clientWidth";te===qe(f)&&vt(te=Ot(f)).position!=="static"&&A==="absolute"&&(re="scrollHeight",ue="scrollWidth"),(j===Le||(j===Re||j===Ye)&&k===vs)&&(ne=Ue,U-=(P&&te===Q&&Q.visualViewport?Q.visualViewport.height:te[re])-_.height,U*=D?1:-1),j!==Re&&(j!==Le&&j!==Ue||k!==vs)||(ee=Ye,V-=(P&&te===Q&&Q.visualViewport?Q.visualViewport.width:te[ue])-_.width,V*=D?1:-1)}var oe,we=Object.assign({position:A},L&&uh),Ke=R===!0?function(lt,Ie){var Je=lt.x,et=lt.y,ve=Ie.devicePixelRatio||1;return{x:ws(Je*ve)/ve||0,y:ws(et*ve)/ve||0}}({x:V,y:U},qe(f)):{x:V,y:U};return V=Ke.x,U=Ke.y,D?Object.assign({},we,((oe={})[ne]=xe?"0":"",oe[ee]=he?"0":"",oe.transform=(Q.devicePixelRatio||1)<=1?"translate("+V+"px, "+U+"px)":"translate3d("+V+"px, "+U+"px, 0)",oe)):Object.assign({},we,((d={})[ne]=xe?U+"px":"",d[ee]=he?V+"px":"",d.transform="",d))}const Kn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(p){var d=p.state,f=p.options,_=f.gpuAcceleration,j=_===void 0||_,k=f.adaptive,C=k===void 0||k,A=f.roundOffsets,D=A===void 0||A,L={placement:ht(d.placement),variation:ks(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:j,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Hr(Object.assign({},L,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:C,roundOffsets:D})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Hr(Object.assign({},L,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:D})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var Di={passive:!0};const Gn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(p){var d=p.state,f=p.instance,_=p.options,j=_.scroll,k=j===void 0||j,C=_.resize,A=C===void 0||C,D=qe(d.elements.popper),L=[].concat(d.scrollParents.reference,d.scrollParents.popper);return k&&L.forEach(function(R){R.addEventListener("scroll",f.update,Di)}),A&&D.addEventListener("resize",f.update,Di),function(){k&&L.forEach(function(R){R.removeEventListener("scroll",f.update,Di)}),A&&D.removeEventListener("resize",f.update,Di)}},data:{}};var fh={left:"right",right:"left",bottom:"top",top:"bottom"};function Oi(p){return p.replace(/left|right|bottom|top/g,function(d){return fh[d]})}var mh={start:"end",end:"start"};function Wr(p){return p.replace(/start|end/g,function(d){return mh[d]})}function Xn(p){var d=qe(p);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Qn(p){return js(Ot(p)).left+Xn(p).scrollLeft}function Zn(p){var d=vt(p),f=d.overflow,_=d.overflowX,j=d.overflowY;return/auto|scroll|overlay|hidden/.test(f+j+_)}function Vr(p){return["html","body","#document"].indexOf(dt(p))>=0?p.ownerDocument.body:Qe(p)&&Zn(p)?p:Vr(Ei(p))}function Vs(p,d){var f;d===void 0&&(d=[]);var _=Vr(p),j=_===((f=p.ownerDocument)==null?void 0:f.body),k=qe(_),C=j?[k].concat(k.visualViewport||[],Zn(_)?_:[]):_,A=d.concat(C);return j?A:A.concat(Vs(Ei(C)))}function Jn(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function Ur(p,d,f){return d===$n?Jn(function(_,j){var k=qe(_),C=Ot(_),A=k.visualViewport,D=C.clientWidth,L=C.clientHeight,R=0,P=0;if(A){D=A.width,L=A.height;var X=Rr();(X||!X&&j==="fixed")&&(R=A.offsetLeft,P=A.offsetTop)}return{width:D,height:L,x:R+Qn(_),y:P}}(p,f)):Vt(d)?function(_,j){var k=js(_,!1,j==="fixed");return k.top=k.top+_.clientTop,k.left=k.left+_.clientLeft,k.bottom=k.top+_.clientHeight,k.right=k.left+_.clientWidth,k.width=_.clientWidth,k.height=_.clientHeight,k.x=k.left,k.y=k.top,k}(d,f):Jn(function(_){var j,k=Ot(_),C=Xn(_),A=(j=_.ownerDocument)==null?void 0:j.body,D=Ut(k.scrollWidth,k.clientWidth,A?A.scrollWidth:0,A?A.clientWidth:0),L=Ut(k.scrollHeight,k.clientHeight,A?A.scrollHeight:0,A?A.clientHeight:0),R=-C.scrollLeft+Qn(_),P=-C.scrollTop;return vt(A||k).direction==="rtl"&&(R+=Ut(k.clientWidth,A?A.clientWidth:0)-D),{width:D,height:L,x:R,y:P}}(Ot(p)))}function Yr(p){var d,f=p.reference,_=p.element,j=p.placement,k=j?ht(j):null,C=j?ks(j):null,A=f.x+f.width/2-_.width/2,D=f.y+f.height/2-_.height/2;switch(k){case Le:d={x:A,y:f.y-_.height};break;case Ue:d={x:A,y:f.y+f.height};break;case Ye:d={x:f.x+f.width,y:D};break;case Re:d={x:f.x-_.width,y:D};break;default:d={x:f.x,y:f.y}}var L=k?qn(k):null;if(L!=null){var R=L==="y"?"height":"width";switch(C){case Wt:d[L]=d[L]-(f[R]/2-_[R]/2);break;case vs:d[L]=d[L]+(f[R]/2-_[R]/2)}}return d}function Ns(p,d){d===void 0&&(d={});var f=d,_=f.placement,j=_===void 0?p.placement:_,k=f.strategy,C=k===void 0?p.strategy:k,A=f.boundary,D=A===void 0?kr:A,L=f.rootBoundary,R=L===void 0?$n:L,P=f.elementContext,X=P===void 0?ys:P,V=f.altBoundary,Y=V!==void 0&&V,U=f.padding,q=U===void 0?0:U,he=zr(typeof q!="number"?q:$r(q,_s)),xe=X===ys?Nr:ys,ee=p.rects.popper,ne=p.elements[Y?xe:X],Q=function(Ie,Je,et,ve){var ut=Je==="clippingParents"?function(ge){var Fe=Vs(Ei(ge)),tt=["absolute","fixed"].indexOf(vt(ge).position)>=0&&Qe(ge)?Hs(ge):ge;return Vt(tt)?Fe.filter(function(Lt){return Vt(Lt)&&Ir(Lt,tt)&&dt(Lt)!=="body"}):[]}(Ie):[].concat(Je),ft=[].concat(ut,[et]),Ts=ft[0],Te=ft.reduce(function(ge,Fe){var tt=Ur(Ie,Fe,ve);return ge.top=Ut(tt.top,ge.top),ge.right=Mi(tt.right,ge.right),ge.bottom=Mi(tt.bottom,ge.bottom),ge.left=Ut(tt.left,ge.left),ge},Ur(Ie,Ts,ve));return Te.width=Te.right-Te.left,Te.height=Te.bottom-Te.top,Te.x=Te.left,Te.y=Te.top,Te}(Vt(ne)?ne:ne.contextElement||Ot(p.elements.popper),D,R,C),te=js(p.elements.reference),re=Yr({reference:te,element:ee,placement:j}),ue=Jn(Object.assign({},ee,re)),oe=X===ys?ue:te,we={top:Q.top-oe.top+he.top,bottom:oe.bottom-Q.bottom+he.bottom,left:Q.left-oe.left+he.left,right:oe.right-Q.right+he.right},Ke=p.modifiersData.offset;if(X===ys&&Ke){var lt=Ke[j];Object.keys(we).forEach(function(Ie){var Je=[Ye,Ue].indexOf(Ie)>=0?1:-1,et=[Le,Ue].indexOf(Ie)>=0?"y":"x";we[Ie]+=lt[et]*Je})}return we}function gh(p,d){d===void 0&&(d={});var f=d,_=f.placement,j=f.boundary,k=f.rootBoundary,C=f.padding,A=f.flipVariations,D=f.allowedAutoPlacements,L=D===void 0?Hn:D,R=ks(_),P=R?A?Bn:Bn.filter(function(Y){return ks(Y)===R}):_s,X=P.filter(function(Y){return L.indexOf(Y)>=0});X.length===0&&(X=P);var V=X.reduce(function(Y,U){return Y[U]=Ns(p,{placement:U,boundary:j,rootBoundary:k,padding:C})[ht(U)],Y},{});return Object.keys(V).sort(function(Y,U){return V[Y]-V[U]})}const qr={name:"flip",enabled:!0,phase:"main",fn:function(p){var d=p.state,f=p.options,_=p.name;if(!d.modifiersData[_]._skip){for(var j=f.mainAxis,k=j===void 0||j,C=f.altAxis,A=C===void 0||C,D=f.fallbackPlacements,L=f.padding,R=f.boundary,P=f.rootBoundary,X=f.altBoundary,V=f.flipVariations,Y=V===void 0||V,U=f.allowedAutoPlacements,q=d.options.placement,he=ht(q),xe=D||(he!==q&&Y?function(ge){if(ht(ge)===Ai)return[];var Fe=Oi(ge);return[Wr(ge),Fe,Wr(Fe)]}(q):[Oi(q)]),ee=[q].concat(xe).reduce(function(ge,Fe){return ge.concat(ht(Fe)===Ai?gh(d,{placement:Fe,boundary:R,rootBoundary:P,padding:L,flipVariations:Y,allowedAutoPlacements:U}):Fe)},[]),ne=d.rects.reference,Q=d.rects.popper,te=new Map,re=!0,ue=ee[0],oe=0;oe<ee.length;oe++){var we=ee[oe],Ke=ht(we),lt=ks(we)===Wt,Ie=[Le,Ue].indexOf(Ke)>=0,Je=Ie?"width":"height",et=Ns(d,{placement:we,boundary:R,rootBoundary:P,altBoundary:X,padding:L}),ve=Ie?lt?Ye:Re:lt?Ue:Le;ne[Je]>Q[Je]&&(ve=Oi(ve));var ut=Oi(ve),ft=[];if(k&&ft.push(et[Ke]<=0),A&&ft.push(et[ve]<=0,et[ut]<=0),ft.every(function(ge){return ge})){ue=we,re=!1;break}te.set(we,ft)}if(re)for(var Ts=function(ge){var Fe=ee.find(function(tt){var Lt=te.get(tt);if(Lt)return Lt.slice(0,ge).every(function(Hi){return Hi})});if(Fe)return ue=Fe,"break"},Te=Y?3:1;Te>0&&Ts(Te)!=="break";Te--);d.placement!==ue&&(d.modifiersData[_]._skip=!0,d.placement=ue,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Kr(p,d,f){return f===void 0&&(f={x:0,y:0}),{top:p.top-d.height-f.y,right:p.right-d.width+f.x,bottom:p.bottom-d.height+f.y,left:p.left-d.width-f.x}}function Gr(p){return[Le,Ye,Ue,Re].some(function(d){return p[d]>=0})}const Xr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(p){var d=p.state,f=p.name,_=d.rects.reference,j=d.rects.popper,k=d.modifiersData.preventOverflow,C=Ns(d,{elementContext:"reference"}),A=Ns(d,{altBoundary:!0}),D=Kr(C,_),L=Kr(A,j,k),R=Gr(D),P=Gr(L);d.modifiersData[f]={referenceClippingOffsets:D,popperEscapeOffsets:L,isReferenceHidden:R,hasPopperEscaped:P},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":R,"data-popper-escaped":P})}},Qr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(p){var d=p.state,f=p.options,_=p.name,j=f.offset,k=j===void 0?[0,0]:j,C=Hn.reduce(function(R,P){return R[P]=function(X,V,Y){var U=ht(X),q=[Re,Le].indexOf(U)>=0?-1:1,he=typeof Y=="function"?Y(Object.assign({},V,{placement:X})):Y,xe=he[0],ee=he[1];return xe=xe||0,ee=(ee||0)*q,[Re,Ye].indexOf(U)>=0?{x:ee,y:xe}:{x:xe,y:ee}}(P,d.rects,k),R},{}),A=C[d.placement],D=A.x,L=A.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=D,d.modifiersData.popperOffsets.y+=L),d.modifiersData[_]=C}},ea={name:"popperOffsets",enabled:!0,phase:"read",fn:function(p){var d=p.state,f=p.name;d.modifiersData[f]=Yr({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},Zr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(p){var d=p.state,f=p.options,_=p.name,j=f.mainAxis,k=j===void 0||j,C=f.altAxis,A=C!==void 0&&C,D=f.boundary,L=f.rootBoundary,R=f.altBoundary,P=f.padding,X=f.tether,V=X===void 0||X,Y=f.tetherOffset,U=Y===void 0?0:Y,q=Ns(d,{boundary:D,rootBoundary:L,padding:P,altBoundary:R}),he=ht(d.placement),xe=ks(d.placement),ee=!xe,ne=qn(he),Q=ne==="x"?"y":"x",te=d.modifiersData.popperOffsets,re=d.rects.reference,ue=d.rects.popper,oe=typeof U=="function"?U(Object.assign({},d.rects,{placement:d.placement})):U,we=typeof oe=="number"?{mainAxis:oe,altAxis:oe}:Object.assign({mainAxis:0,altAxis:0},oe),Ke=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,lt={x:0,y:0};if(te){if(k){var Ie,Je=ne==="y"?Le:Re,et=ne==="y"?Ue:Ye,ve=ne==="y"?"height":"width",ut=te[ne],ft=ut+q[Je],Ts=ut-q[et],Te=V?-ue[ve]/2:0,ge=xe===Wt?re[ve]:ue[ve],Fe=xe===Wt?-ue[ve]:-re[ve],tt=d.elements.arrow,Lt=V&&tt?Yn(tt):{width:0,height:0},Hi=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},zo=Hi[Je],$o=Hi[et],Wi=Ws(0,re[ve],Lt[ve]),qu=ee?re[ve]/2-Te-Wi-zo-we.mainAxis:ge-Wi-zo-we.mainAxis,Ku=ee?-re[ve]/2+Te+Wi+$o+we.mainAxis:Fe+Wi+$o+we.mainAxis,ma=d.elements.arrow&&Hs(d.elements.arrow),Gu=ma?ne==="y"?ma.clientTop||0:ma.clientLeft||0:0,Bo=(Ie=Ke==null?void 0:Ke[ne])!=null?Ie:0,Xu=ut+Ku-Bo,Ho=Ws(V?Mi(ft,ut+qu-Bo-Gu):ft,ut,V?Ut(Ts,Xu):Ts);te[ne]=Ho,lt[ne]=Ho-ut}if(A){var Wo,Qu=ne==="x"?Le:Re,Zu=ne==="x"?Ue:Ye,Jt=te[Q],Vi=Q==="y"?"height":"width",Vo=Jt+q[Qu],Uo=Jt-q[Zu],ga=[Le,Re].indexOf(he)!==-1,Yo=(Wo=Ke==null?void 0:Ke[Q])!=null?Wo:0,qo=ga?Vo:Jt-re[Vi]-ue[Vi]-Yo+we.altAxis,Ko=ga?Jt+re[Vi]+ue[Vi]-Yo-we.altAxis:Uo,Go=V&&ga?function(Ju,ef,pa){var Xo=Ws(Ju,ef,pa);return Xo>pa?pa:Xo}(qo,Jt,Ko):Ws(V?qo:Vo,Jt,V?Ko:Uo);te[Q]=Go,lt[Q]=Go-Jt}d.modifiersData[_]=lt}},requiresIfExists:["offset"]};function ph(p,d,f){f===void 0&&(f=!1);var _,j,k=Qe(d),C=Qe(d)&&function(P){var X=P.getBoundingClientRect(),V=ws(X.width)/P.offsetWidth||1,Y=ws(X.height)/P.offsetHeight||1;return V!==1||Y!==1}(d),A=Ot(d),D=js(p,C,f),L={scrollLeft:0,scrollTop:0},R={x:0,y:0};return(k||!k&&!f)&&((dt(d)!=="body"||Zn(A))&&(L=(_=d)!==qe(_)&&Qe(_)?{scrollLeft:(j=_).scrollLeft,scrollTop:j.scrollTop}:Xn(_)),Qe(d)?((R=js(d,!0)).x+=d.clientLeft,R.y+=d.clientTop):A&&(R.x=Qn(A))),{x:D.left+L.scrollLeft-R.x,y:D.top+L.scrollTop-R.y,width:D.width,height:D.height}}function xh(p){var d=new Map,f=new Set,_=[];function j(k){f.add(k.name),[].concat(k.requires||[],k.requiresIfExists||[]).forEach(function(C){if(!f.has(C)){var A=d.get(C);A&&j(A)}}),_.push(k)}return p.forEach(function(k){d.set(k.name,k)}),p.forEach(function(k){f.has(k.name)||j(k)}),_}var Jr={placement:"bottom",modifiers:[],strategy:"absolute"};function eo(){for(var p=arguments.length,d=new Array(p),f=0;f<p;f++)d[f]=arguments[f];return!d.some(function(_){return!(_&&typeof _.getBoundingClientRect=="function")})}function Pi(p){p===void 0&&(p={});var d=p,f=d.defaultModifiers,_=f===void 0?[]:f,j=d.defaultOptions,k=j===void 0?Jr:j;return function(C,A,D){D===void 0&&(D=k);var L,R,P={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jr,k),modifiersData:{},elements:{reference:C,popper:A},attributes:{},styles:{}},X=[],V=!1,Y={state:P,setOptions:function(q){var he=typeof q=="function"?q(P.options):q;U(),P.options=Object.assign({},k,P.options,he),P.scrollParents={reference:Vt(C)?Vs(C):C.contextElement?Vs(C.contextElement):[],popper:Vs(A)};var xe,ee,ne=function(Q){var te=xh(Q);return Lr.reduce(function(re,ue){return re.concat(te.filter(function(oe){return oe.phase===ue}))},[])}((xe=[].concat(_,P.options.modifiers),ee=xe.reduce(function(Q,te){var re=Q[te.name];return Q[te.name]=re?Object.assign({},re,te,{options:Object.assign({},re.options,te.options),data:Object.assign({},re.data,te.data)}):te,Q},{}),Object.keys(ee).map(function(Q){return ee[Q]})));return P.orderedModifiers=ne.filter(function(Q){return Q.enabled}),P.orderedModifiers.forEach(function(Q){var te=Q.name,re=Q.options,ue=re===void 0?{}:re,oe=Q.effect;if(typeof oe=="function"){var we=oe({state:P,name:te,instance:Y,options:ue});X.push(we||function(){})}}),Y.update()},forceUpdate:function(){if(!V){var q=P.elements,he=q.reference,xe=q.popper;if(eo(he,xe)){P.rects={reference:ph(he,Hs(xe),P.options.strategy==="fixed"),popper:Yn(xe)},P.reset=!1,P.placement=P.options.placement,P.orderedModifiers.forEach(function(oe){return P.modifiersData[oe.name]=Object.assign({},oe.data)});for(var ee=0;ee<P.orderedModifiers.length;ee++)if(P.reset!==!0){var ne=P.orderedModifiers[ee],Q=ne.fn,te=ne.options,re=te===void 0?{}:te,ue=ne.name;typeof Q=="function"&&(P=Q({state:P,options:re,name:ue,instance:Y})||P)}else P.reset=!1,ee=-1}}},update:(L=function(){return new Promise(function(q){Y.forceUpdate(),q(P)})},function(){return R||(R=new Promise(function(q){Promise.resolve().then(function(){R=void 0,q(L())})})),R}),destroy:function(){U(),V=!0}};if(!eo(C,A))return Y;function U(){X.forEach(function(q){return q()}),X=[]}return Y.setOptions(D).then(function(q){!V&&D.onFirstUpdate&&D.onFirstUpdate(q)}),Y}}var bh=Pi(),_h=Pi({defaultModifiers:[Gn,ea,Kn,Vn]}),ta=Pi({defaultModifiers:[Gn,ea,Kn,Vn,Qr,qr,Zr,Br,Xr]});const to=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Er,afterRead:Tr,afterWrite:Pr,applyStyles:Vn,arrow:Br,auto:Ai,basePlacements:_s,beforeMain:Ar,beforeRead:Cr,beforeWrite:Dr,bottom:Ue,clippingParents:kr,computeStyles:Kn,createPopper:ta,createPopperBase:bh,createPopperLite:_h,detectOverflow:Ns,end:vs,eventListeners:Gn,flip:qr,hide:Xr,left:Re,main:Mr,modifierPhases:Lr,offset:Qr,placements:Hn,popper:ys,popperGenerator:Pi,popperOffsets:ea,preventOverflow:Zr,read:Sr,reference:Nr,right:Ye,start:Wt,top:Le,variationPlacements:Bn,viewport:$n,write:Or},Symbol.toStringTag,{value:"Module"})),so="dropdown",Yt=".bs.dropdown",sa=".data-api",vh="ArrowUp",io="ArrowDown",yh=`hide${Yt}`,wh=`hidden${Yt}`,jh=`show${Yt}`,kh=`shown${Yt}`,no=`click${Yt}${sa}`,ao=`keydown${Yt}${sa}`,Nh=`keyup${Yt}${sa}`,Cs="show",qt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ch=`${qt}.${Cs}`,Li=".dropdown-menu",Sh=w()?"top-end":"top-start",Th=w()?"top-start":"top-end",Ah=w()?"bottom-end":"bottom-start",Mh=w()?"bottom-start":"bottom-end",Eh=w()?"left-start":"right-start",Dh=w()?"right-start":"left-start",Oh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ph={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ot extends rt{constructor(d,f){super(d,f),this._popper=null,this._parent=this._element.parentNode,this._menu=B.next(this._element,Li)[0]||B.prev(this._element,Li)[0]||B.findOne(Li,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Oh}static get DefaultType(){return Ph}static get NAME(){return so}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!T.trigger(this._element,jh,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const f of[].concat(...document.body.children))T.on(f,"mouseover",b);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Cs),this._element.classList.add(Cs),T.trigger(this._element,kh,d)}}hide(){if(m(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!T.trigger(this._element,yh,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))T.off(f,"mouseover",b);this._popper&&this._popper.destroy(),this._menu.classList.remove(Cs),this._element.classList.remove(Cs),this._element.setAttribute("aria-expanded","false"),Me.removeDataAttribute(this._menu,"popper"),T.trigger(this._element,wh,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!c(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${so.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(to===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:c(this._config.reference)?d=h(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const f=this._getPopperConfig();this._popper=ta(d,this._menu,f)}_isShown(){return this._menu.classList.contains(Cs)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return Eh;if(d.classList.contains("dropstart"))return Dh;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?f?Th:Sh:f?Mh:Ah}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(f=>Number.parseInt(f,10)):typeof d=="function"?f=>d(f,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Me.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...S(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:f}){const _=B.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(j=>u(j));_.length&&M(_,f,d===io,!_.includes(f)).focus()}static jQueryInterface(d){return this.each(function(){const f=ot.getOrCreateInstance(this,d);if(typeof d=="string"){if(f[d]===void 0)throw new TypeError(`No method named "${d}"`);f[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const f=B.find(Ch);for(const _ of f){const j=ot.getInstance(_);if(!j||j._config.autoClose===!1)continue;const k=d.composedPath(),C=k.includes(j._menu);if(k.includes(j._element)||j._config.autoClose==="inside"&&!C||j._config.autoClose==="outside"&&C||j._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const A={relatedTarget:j._element};d.type==="click"&&(A.clickEvent=d),j._completeHide(A)}}static dataApiKeydownHandler(d){const f=/input|textarea/i.test(d.target.tagName),_=d.key==="Escape",j=[vh,io].includes(d.key);if(!j&&!_||f&&!_)return;d.preventDefault();const k=this.matches(qt)?this:B.prev(this,qt)[0]||B.next(this,qt)[0]||B.findOne(qt,d.delegateTarget.parentNode),C=ot.getOrCreateInstance(k);if(j)return d.stopPropagation(),C.show(),void C._selectMenuItem(d);C._isShown()&&(d.stopPropagation(),C.hide(),k.focus())}}T.on(document,ao,qt,ot.dataApiKeydownHandler),T.on(document,ao,Li,ot.dataApiKeydownHandler),T.on(document,no,ot.clearMenus),T.on(document,Nh,ot.clearMenus),T.on(document,no,qt,function(p){p.preventDefault(),ot.getOrCreateInstance(this).toggle()}),N(ot);const ro="backdrop",oo="show",lo=`mousedown.bs.${ro}`,Lh={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Rh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class co extends Ve{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Lh}static get DefaultType(){return Rh}static get NAME(){return ro}show(d){if(!this._config.isVisible)return void S(d);this._append();const f=this._getElement();this._config.isAnimated&&v(f),f.classList.add(oo),this._emulateAnimation(()=>{S(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(oo),this._emulateAnimation(()=>{this.dispose(),S(d)})):S(d)}dispose(){this._isAppended&&(T.off(this._element,lo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=h(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),T.on(d,lo,()=>{S(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){E(d,this._getElement(),this._config.isAnimated)}}const Ri=".bs.focustrap",Ih=`focusin${Ri}`,Fh=`keydown.tab${Ri}`,ho="backward",zh={autofocus:!0,trapElement:null},$h={autofocus:"boolean",trapElement:"element"};class uo extends Ve{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return zh}static get DefaultType(){return $h}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),T.off(document,Ri),T.on(document,Ih,d=>this._handleFocusin(d)),T.on(document,Fh,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,T.off(document,Ri))}_handleFocusin(d){const{trapElement:f}=this._config;if(d.target===document||d.target===f||f.contains(d.target))return;const _=B.focusableChildren(f);_.length===0?f.focus():this._lastTabNavDirection===ho?_[_.length-1].focus():_[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?ho:"forward")}}const fo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",mo=".sticky-top",Ii="padding-right",go="margin-right";class ia{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ii,f=>f+d),this._setElementAttributes(fo,Ii,f=>f+d),this._setElementAttributes(mo,go,f=>f-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ii),this._resetElementAttributes(fo,Ii),this._resetElementAttributes(mo,go)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,f,_){const j=this.getWidth();this._applyManipulationCallback(d,k=>{if(k!==this._element&&window.innerWidth>k.clientWidth+j)return;this._saveInitialAttribute(k,f);const C=window.getComputedStyle(k).getPropertyValue(f);k.style.setProperty(f,`${_(Number.parseFloat(C))}px`)})}_saveInitialAttribute(d,f){const _=d.style.getPropertyValue(f);_&&Me.setDataAttribute(d,f,_)}_resetElementAttributes(d,f){this._applyManipulationCallback(d,_=>{const j=Me.getDataAttribute(_,f);j!==null?(Me.removeDataAttribute(_,f),_.style.setProperty(f,j)):_.style.removeProperty(f)})}_applyManipulationCallback(d,f){if(c(d))f(d);else for(const _ of B.find(d,this._element))f(_)}}const Ze=".bs.modal",Bh=`hide${Ze}`,Hh=`hidePrevented${Ze}`,po=`hidden${Ze}`,xo=`show${Ze}`,Wh=`shown${Ze}`,Vh=`resize${Ze}`,Uh=`click.dismiss${Ze}`,Yh=`mousedown.dismiss${Ze}`,qh=`keydown.dismiss${Ze}`,Kh=`click${Ze}.data-api`,bo="modal-open",_o="show",na="modal-static",Gh={backdrop:!0,focus:!0,keyboard:!0},Xh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Kt extends rt{constructor(d,f){super(d,f),this._dialog=B.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ia,this._addEventListeners()}static get Default(){return Gh}static get DefaultType(){return Xh}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||T.trigger(this._element,xo,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(bo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(T.trigger(this._element,Bh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(_o),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){T.off(window,Ze),T.off(this._dialog,Ze),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new co({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new uo({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=B.findOne(".modal-body",this._dialog);f&&(f.scrollTop=0),v(this._element),this._element.classList.add(_o),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,T.trigger(this._element,Wh,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){T.on(this._element,qh,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),T.on(window,Vh,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),T.on(this._element,Yh,d=>{T.one(this._element,Uh,f=>{this._element===d.target&&this._element===f.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(bo),this._resetAdjustments(),this._scrollBar.reset(),T.trigger(this._element,po)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(T.trigger(this._element,Hh).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,f=this._element.style.overflowY;f==="hidden"||this._element.classList.contains(na)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(na),this._queueCallback(()=>{this._element.classList.remove(na),this._queueCallback(()=>{this._element.style.overflowY=f},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),_=f>0;if(_&&!d){const j=w()?"paddingLeft":"paddingRight";this._element.style[j]=`${f}px`}if(!_&&d){const j=w()?"paddingRight":"paddingLeft";this._element.style[j]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,f){return this.each(function(){const _=Kt.getOrCreateInstance(this,d);if(typeof d=="string"){if(_[d]===void 0)throw new TypeError(`No method named "${d}"`);_[d](f)}})}}T.on(document,Kh,'[data-bs-toggle="modal"]',function(p){const d=B.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),T.one(d,xo,_=>{_.defaultPrevented||T.one(d,po,()=>{u(this)&&this.focus()})});const f=B.findOne(".modal.show");f&&Kt.getInstance(f).hide(),Kt.getOrCreateInstance(d).toggle(this)}),ki(Kt),N(Kt);const yt=".bs.offcanvas",vo=".data-api",Qh=`load${yt}${vo}`,yo="show",wo="showing",jo="hiding",ko=".offcanvas.show",Zh=`show${yt}`,Jh=`shown${yt}`,eu=`hide${yt}`,No=`hidePrevented${yt}`,Co=`hidden${yt}`,tu=`resize${yt}`,su=`click${yt}${vo}`,iu=`keydown.dismiss${yt}`,nu={backdrop:!0,keyboard:!0,scroll:!1},au={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class wt extends rt{constructor(d,f){super(d,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nu}static get DefaultType(){return au}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||T.trigger(this._element,Zh,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new ia().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(wo),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(yo),this._element.classList.remove(wo),T.trigger(this._element,Jh,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(T.trigger(this._element,eu).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(jo),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(yo,jo),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ia().reset(),T.trigger(this._element,Co)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new co({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():T.trigger(this._element,No)}:null})}_initializeFocusTrap(){return new uo({trapElement:this._element})}_addEventListeners(){T.on(this._element,iu,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():T.trigger(this._element,No))})}static jQueryInterface(d){return this.each(function(){const f=wt.getOrCreateInstance(this,d);if(typeof d=="string"){if(f[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);f[d](this)}})}}T.on(document,su,'[data-bs-toggle="offcanvas"]',function(p){const d=B.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),m(this))return;T.one(d,Co,()=>{u(this)&&this.focus()});const f=B.findOne(ko);f&&f!==d&&wt.getInstance(f).hide(),wt.getOrCreateInstance(d).toggle(this)}),T.on(window,Qh,()=>{for(const p of B.find(ko))wt.getOrCreateInstance(p).show()}),T.on(window,tu,()=>{for(const p of B.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(p).position!=="fixed"&&wt.getOrCreateInstance(p).hide()}),ki(wt),N(wt);const So={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ru=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ou=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,lu=(p,d)=>{const f=p.nodeName.toLowerCase();return d.includes(f)?!ru.has(f)||!!ou.test(p.nodeValue):d.filter(_=>_ instanceof RegExp).some(_=>_.test(f))},cu={allowList:So,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},du={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hu={entry:"(string|element|function|null)",selector:"(string|element)"};class uu extends Ve{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return cu}static get DefaultType(){return du}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[j,k]of Object.entries(this._config.content))this._setContent(d,k,j);const f=d.children[0],_=this._resolvePossibleFunction(this._config.extraClass);return _&&f.classList.add(..._.split(" ")),f}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[f,_]of Object.entries(d))super._typeCheckConfig({selector:f,entry:_},hu)}_setContent(d,f,_){const j=B.findOne(_,d);j&&((f=this._resolvePossibleFunction(f))?c(f)?this._putElementInTemplate(h(f),j):this._config.html?j.innerHTML=this._maybeSanitize(f):j.textContent=f:j.remove())}_maybeSanitize(d){return this._config.sanitize?function(f,_,j){if(!f.length)return f;if(j&&typeof j=="function")return j(f);const k=new window.DOMParser().parseFromString(f,"text/html"),C=[].concat(...k.body.querySelectorAll("*"));for(const A of C){const D=A.nodeName.toLowerCase();if(!Object.keys(_).includes(D)){A.remove();continue}const L=[].concat(...A.attributes),R=[].concat(_["*"]||[],_[D]||[]);for(const P of L)lu(P,R)||A.removeAttribute(P.nodeName)}return k.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return S(d,[void 0,this])}_putElementInTemplate(d,f){if(this._config.html)return f.innerHTML="",void f.append(d);f.textContent=d.textContent}}const fu=new Set(["sanitize","allowList","sanitizeFn"]),aa="fade",Fi="show",mu=".tooltip-inner",To=".modal",Ao="hide.bs.modal",Us="hover",ra="focus",oa="click",gu={AUTO:"auto",TOP:"top",RIGHT:w()?"left":"right",BOTTOM:"bottom",LEFT:w()?"right":"left"},pu={allowList:So,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},xu={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Gt extends rt{constructor(d,f){if(to===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return pu}static get DefaultType(){return xu}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),T.off(this._element.closest(To),Ao,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=T.trigger(this._element,this.constructor.eventName("show")),f=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!f)return;this._disposePopper();const _=this._getTipElement();this._element.setAttribute("aria-describedby",_.getAttribute("id"));const{container:j}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(j.append(_),T.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(_),_.classList.add(Fi),"ontouchstart"in document.documentElement)for(const k of[].concat(...document.body.children))T.on(k,"mouseover",b);this._queueCallback(()=>{T.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!T.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Fi),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))T.off(d,"mouseover",b);this._activeTrigger[oa]=!1,this._activeTrigger[ra]=!1,this._activeTrigger[Us]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),T.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const f=this._getTemplateFactory(d).toHtml();if(!f)return null;f.classList.remove(aa,Fi),f.classList.add(`bs-${this.constructor.NAME}-auto`);const _=(j=>{do j+=Math.floor(1e6*Math.random());while(document.getElementById(j));return j})(this.constructor.NAME).toString();return f.setAttribute("id",_),this._isAnimated()&&f.classList.add(aa),f}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new uu({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[mu]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(aa)}_isShown(){return this.tip&&this.tip.classList.contains(Fi)}_createPopper(d){const f=S(this._config.placement,[this,d,this._element]),_=gu[f.toUpperCase()];return ta(this._element,d,this._getPopperConfig(_))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(f=>Number.parseInt(f,10)):typeof d=="function"?f=>d(f,this._element):d}_resolvePossibleFunction(d){return S(d,[this._element,this._element])}_getPopperConfig(d){const f={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:_=>{this._getTipElement().setAttribute("data-popper-placement",_.state.placement)}}]};return{...f,...S(this._config.popperConfig,[void 0,f])}}_setListeners(){const d=this._config.trigger.split(" ");for(const f of d)if(f==="click")T.on(this._element,this.constructor.eventName("click"),this._config.selector,_=>{const j=this._initializeOnDelegatedTarget(_);j._activeTrigger[oa]=!(j._isShown()&&j._activeTrigger[oa]),j.toggle()});else if(f!=="manual"){const _=f===Us?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),j=f===Us?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");T.on(this._element,_,this._config.selector,k=>{const C=this._initializeOnDelegatedTarget(k);C._activeTrigger[k.type==="focusin"?ra:Us]=!0,C._enter()}),T.on(this._element,j,this._config.selector,k=>{const C=this._initializeOnDelegatedTarget(k);C._activeTrigger[k.type==="focusout"?ra:Us]=C._element.contains(k.relatedTarget),C._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},T.on(this._element.closest(To),Ao,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,f){clearTimeout(this._timeout),this._timeout=setTimeout(d,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const f=Me.getDataAttributes(this._element);for(const _ of Object.keys(f))fu.has(_)&&delete f[_];return d={...f,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:h(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[f,_]of Object.entries(this._config))this.constructor.Default[f]!==_&&(d[f]=_);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const f=Gt.getOrCreateInstance(this,d);if(typeof d=="string"){if(f[d]===void 0)throw new TypeError(`No method named "${d}"`);f[d]()}})}}N(Gt);const bu=".popover-header",_u=".popover-body",vu={...Gt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},yu={...Gt.DefaultType,content:"(null|string|element|function)"};class zi extends Gt{static get Default(){return vu}static get DefaultType(){return yu}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[bu]:this._getTitle(),[_u]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const f=zi.getOrCreateInstance(this,d);if(typeof d=="string"){if(f[d]===void 0)throw new TypeError(`No method named "${d}"`);f[d]()}})}}N(zi);const la=".bs.scrollspy",wu=`activate${la}`,Mo=`click${la}`,ju=`load${la}.data-api`,Ss="active",ca="[href]",Eo=".nav-link",ku=`${Eo}, .nav-item > ${Eo}, .list-group-item`,Nu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Cu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ys extends rt{constructor(d,f){super(d,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Nu}static get DefaultType(){return Cu}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=h(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(f=>Number.parseFloat(f))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(T.off(this._config.target,Mo),T.on(this._config.target,Mo,ca,d=>{const f=this._observableSections.get(d.target.hash);if(f){d.preventDefault();const _=this._rootElement||window,j=f.offsetTop-this._element.offsetTop;if(_.scrollTo)return void _.scrollTo({top:j,behavior:"smooth"});_.scrollTop=j}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(f=>this._observerCallback(f),d)}_observerCallback(d){const f=C=>this._targetLinks.get(`#${C.target.id}`),_=C=>{this._previousScrollData.visibleEntryTop=C.target.offsetTop,this._process(f(C))},j=(this._rootElement||document.documentElement).scrollTop,k=j>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=j;for(const C of d){if(!C.isIntersecting){this._activeTarget=null,this._clearActiveClass(f(C));continue}const A=C.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&A){if(_(C),!j)return}else k||A||_(C)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=B.find(ca,this._config.target);for(const f of d){if(!f.hash||m(f))continue;const _=B.findOne(decodeURI(f.hash),this._element);u(_)&&(this._targetLinks.set(decodeURI(f.hash),f),this._observableSections.set(f.hash,_))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(Ss),this._activateParents(d),T.trigger(this._element,wu,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))B.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(Ss);else for(const f of B.parents(d,".nav, .list-group"))for(const _ of B.prev(f,ku))_.classList.add(Ss)}_clearActiveClass(d){d.classList.remove(Ss);const f=B.find(`${ca}.${Ss}`,d);for(const _ of f)_.classList.remove(Ss)}static jQueryInterface(d){return this.each(function(){const f=Ys.getOrCreateInstance(this,d);if(typeof d=="string"){if(f[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);f[d]()}})}}T.on(window,ju,()=>{for(const p of B.find('[data-bs-spy="scroll"]'))Ys.getOrCreateInstance(p)}),N(Ys);const Xt=".bs.tab",Su=`hide${Xt}`,Tu=`hidden${Xt}`,Au=`show${Xt}`,Mu=`shown${Xt}`,Eu=`click${Xt}`,Du=`keydown${Xt}`,Ou=`load${Xt}`,Pu="ArrowLeft",Do="ArrowRight",Lu="ArrowUp",Oo="ArrowDown",da="Home",Po="End",Qt="active",Lo="fade",ha="show",Ro=".dropdown-toggle",ua=`:not(${Ro})`,Io='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',fa=`.nav-link${ua}, .list-group-item${ua}, [role="tab"]${ua}, ${Io}`,Ru=`.${Qt}[data-bs-toggle="tab"], .${Qt}[data-bs-toggle="pill"], .${Qt}[data-bs-toggle="list"]`;class Zt extends rt{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),T.on(this._element,Du,f=>this._keydown(f)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const f=this._getActiveElem(),_=f?T.trigger(f,Su,{relatedTarget:d}):null;T.trigger(d,Au,{relatedTarget:f}).defaultPrevented||_&&_.defaultPrevented||(this._deactivate(f,d),this._activate(d,f))}_activate(d,f){d&&(d.classList.add(Qt),this._activate(B.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),T.trigger(d,Mu,{relatedTarget:f})):d.classList.add(ha)},d,d.classList.contains(Lo)))}_deactivate(d,f){d&&(d.classList.remove(Qt),d.blur(),this._deactivate(B.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),T.trigger(d,Tu,{relatedTarget:f})):d.classList.remove(ha)},d,d.classList.contains(Lo)))}_keydown(d){if(![Pu,Do,Lu,Oo,da,Po].includes(d.key))return;d.stopPropagation(),d.preventDefault();const f=this._getChildren().filter(j=>!m(j));let _;if([da,Po].includes(d.key))_=f[d.key===da?0:f.length-1];else{const j=[Do,Oo].includes(d.key);_=M(f,d.target,j,!0)}_&&(_.focus({preventScroll:!0}),Zt.getOrCreateInstance(_).show())}_getChildren(){return B.find(fa,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,f){this._setAttributeIfNotExists(d,"role","tablist");for(const _ of f)this._setInitialAttributesOnChild(_)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const f=this._elemIsActive(d),_=this._getOuterElement(d);d.setAttribute("aria-selected",f),_!==d&&this._setAttributeIfNotExists(_,"role","presentation"),f||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const f=B.getElementFromSelector(d);f&&(this._setAttributeIfNotExists(f,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,f){const _=this._getOuterElement(d);if(!_.classList.contains("dropdown"))return;const j=(k,C)=>{const A=B.findOne(k,_);A&&A.classList.toggle(C,f)};j(Ro,Qt),j(".dropdown-menu",ha),_.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(d,f,_){d.hasAttribute(f)||d.setAttribute(f,_)}_elemIsActive(d){return d.classList.contains(Qt)}_getInnerElement(d){return d.matches(fa)?d:B.findOne(fa,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const f=Zt.getOrCreateInstance(this);if(typeof d=="string"){if(f[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);f[d]()}})}}T.on(document,Eu,Io,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),m(this)||Zt.getOrCreateInstance(this).show()}),T.on(window,Ou,()=>{for(const p of B.find(Ru))Zt.getOrCreateInstance(p)}),N(Zt);const Pt=".bs.toast",Iu=`mouseover${Pt}`,Fu=`mouseout${Pt}`,zu=`focusin${Pt}`,$u=`focusout${Pt}`,Bu=`hide${Pt}`,Hu=`hidden${Pt}`,Wu=`show${Pt}`,Vu=`shown${Pt}`,Fo="hide",$i="show",Bi="showing",Uu={animation:"boolean",autohide:"boolean",delay:"number"},Yu={animation:!0,autohide:!0,delay:5e3};class qs extends rt{constructor(d,f){super(d,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Yu}static get DefaultType(){return Uu}static get NAME(){return"toast"}show(){T.trigger(this._element,Wu).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Fo),v(this._element),this._element.classList.add($i,Bi),this._queueCallback(()=>{this._element.classList.remove(Bi),T.trigger(this._element,Vu),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(T.trigger(this._element,Bu).defaultPrevented||(this._element.classList.add(Bi),this._queueCallback(()=>{this._element.classList.add(Fo),this._element.classList.remove(Bi,$i),T.trigger(this._element,Hu)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove($i),super.dispose()}isShown(){return this._element.classList.contains($i)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,f){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=f;break;case"focusin":case"focusout":this._hasKeyboardInteraction=f}if(f)return void this._clearTimeout();const _=d.relatedTarget;this._element===_||this._element.contains(_)||this._maybeScheduleHide()}_setListeners(){T.on(this._element,Iu,d=>this._onInteraction(d,!0)),T.on(this._element,Fu,d=>this._onInteraction(d,!1)),T.on(this._element,zu,d=>this._onInteraction(d,!0)),T.on(this._element,$u,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const f=qs.getOrCreateInstance(this,d);if(typeof d=="string"){if(f[d]===void 0)throw new TypeError(`No method named "${d}"`);f[d](this)}})}}return ki(qs),N(qs),{Alert:Fs,Button:zs,Carousel:ps,Collapse:bs,Dropdown:ot,Modal:Kt,Offcanvas:wt,Popover:zi,ScrollSpy:Ys,Tab:Zt,Toast:qs,Tooltip:Gt}})})(s_);console.log("[SPA] Starting React application...");const qa=document.getElementById("spa-root");console.log("[SPA] Container found:",qa);if(qa){console.log("[SPA] Creating React root...");const s=kc(qa);console.log("[SPA] Rendering App component..."),s.render(o.jsx(t_,{})),console.log("[SPA] React app rendered successfully")}else{console.error("[SPA] Mount container #spa-root not found!");const s=document.createElement("div");s.id="spa-root",s.innerHTML='<p style="color: red; padding: 20px;">SPA container not found - created fallback</p>',document.body.appendChild(s)}
