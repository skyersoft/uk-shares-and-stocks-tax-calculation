var dm=Object.defineProperty;var Dl=s=>{throw TypeError(s)};var hm=(s,e,t)=>e in s?dm(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var L=(s,e,t)=>hm(s,typeof e!="symbol"?e+"":e,t),um=(s,e,t)=>e.has(s)||Dl("Cannot "+t);var Pl=(s,e,t)=>e.has(s)?Dl("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t);var on=(s,e,t)=>(um(s,e,"access private method"),t);import{r as C,a as fm,R as Kn,c as mm}from"./vendor-DXY7kvCo.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();var cd={exports:{}},Xn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm=C,gm=Symbol.for("react.element"),xm=Symbol.for("react.fragment"),bm=Object.prototype.hasOwnProperty,ym=pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vm={key:!0,ref:!0,__self:!0,__source:!0};function dd(s,e,t){var i,n={},a=null,o=null;t!==void 0&&(a=""+t),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)bm.call(e,i)&&!vm.hasOwnProperty(i)&&(n[i]=e[i]);if(s&&s.defaultProps)for(i in e=s.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:gm,type:s,key:a,ref:o,props:n,_owner:ym.current}}Xn.Fragment=xm;Xn.jsx=dd;Xn.jsxs=dd;cd.exports=Xn;var r=cd.exports,hd,Ll=fm;hd=Ll.createRoot,Ll.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rl="popstate";function _m(s={}){function e(n,a){let{pathname:o="/",search:l="",hash:c=""}=vs(n.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),nr("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){let o=n.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=n.location.href,h=c.indexOf("#");l=h===-1?c:c.slice(0,h)}return l+"#"+(typeof a=="string"?a:Ni(a))}function i(n,a){ft(n.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return jm(e,t,i,s)}function _e(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ft(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wm(){return Math.random().toString(36).substring(2,10)}function Ol(s,e){return{usr:s.state,key:s.key,idx:e}}function nr(s,e,t=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?vs(e):e,state:t,key:e&&e.key||i||wm()}}function Ni({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function vs(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function jm(s,e,t,i={}){let{window:n=document.defaultView,v5Compat:a=!1}=i,o=n.history,l="POP",c=null,h=u();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function u(){return(o.state||{idx:null}).idx}function f(){l="POP";let _=u(),w=_==null?null:_-h;h=_,c&&c({action:l,location:b.location,delta:w})}function p(_,w){l="PUSH";let j=nr(b.location,_,w);t&&t(j,_),h=u()+1;let S=Ol(j,h),E=b.createHref(j);try{o.pushState(S,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;n.location.assign(E)}a&&c&&c({action:l,location:b.location,delta:1})}function x(_,w){l="REPLACE";let j=nr(b.location,_,w);t&&t(j,_),h=u();let S=Ol(j,h),E=b.createHref(j);o.replaceState(S,"",E),a&&c&&c({action:l,location:b.location,delta:0})}function y(_){return km(_)}let b={get action(){return l},get location(){return s(n,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Rl,f),c=_,()=>{n.removeEventListener(Rl,f),c=null}},createHref(_){return e(n,_)},createURL:y,encodeLocation(_){let w=y(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:x,go(_){return o.go(_)}};return b}function km(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_e(t,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Ni(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function ud(s,e,t="/"){return Nm(s,e,t,!1)}function Nm(s,e,t,i){let n=typeof e=="string"?vs(e):e,a=It(n.pathname||"/",t);if(a==null)return null;let o=fd(s);Cm(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=Im(a);l=Rm(o[c],h,i)}return l}function fd(s,e=[],t=[],i="",n=!1){let a=(o,l,c=n,h)=>{let u={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(i)&&c)return;_e(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length)}let f=Rt([i,u.relativePath]),p=t.concat(u);o.children&&o.children.length>0&&(_e(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),fd(o.children,e,p,f,c)),!(o.path==null&&!o.index)&&e.push({path:f,score:Pm(f,o.index),routesMeta:p})};return s.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let h of md(o.path))a(o,l,!0,h)}),e}function md(s){let e=s.split("/");if(e.length===0)return[];let[t,...i]=e,n=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return n?[a,""]:[a];let o=md(i.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),n&&l.push(...o),l.map(c=>s.startsWith("/")&&c===""?"/":c)}function Cm(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:Lm(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Sm=/^:[\w-]+$/,Tm=3,Am=2,Mm=1,Em=10,Dm=-2,Il=s=>s==="*";function Pm(s,e){let t=s.split("/"),i=t.length;return t.some(Il)&&(i+=Dm),e&&(i+=Am),t.filter(n=>!Il(n)).reduce((n,a)=>n+(Sm.test(a)?Tm:a===""?Mm:Em),i)}function Lm(s,e){return s.length===e.length&&s.slice(0,-1).every((i,n)=>i===e[n])?s[s.length-1]-e[e.length-1]:0}function Rm(s,e,t=!1){let{routesMeta:i}=s,n={},a="/",o=[];for(let l=0;l<i.length;++l){let c=i[l],h=l===i.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=Rn({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},u),p=c.route;if(!f&&h&&t&&!i[i.length-1].route.index&&(f=Rn({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:Rt([a,f.pathname]),pathnameBase:Bm(Rt([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Rt([a,f.pathnameBase]))}return o}function Rn(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,i]=Om(s.path,s.caseSensitive,s.end),n=e.match(t);if(!n)return null;let a=n[0],o=a.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:i.reduce((h,{paramName:u,isOptional:f},p)=>{if(u==="*"){let y=l[p]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[p];return f&&!x?h[u]=void 0:h[u]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:s}}function Om(s,e=!1,t=!0){ft(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],n="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),n+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":s!==""&&s!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),i]}function Im(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ft(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function It(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=s.charAt(t);return i&&i!=="/"?null:s.slice(t)||"/"}function Fm(s,e="/"){let{pathname:t,search:i="",hash:n=""}=typeof s=="string"?vs(s):s;return{pathname:t?t.startsWith("/")?t:$m(t,e):e,search:Hm(i),hash:Wm(n)}}function $m(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function $a(s,e,t,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zm(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pd(s){let e=zm(s);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function gd(s,e,t,i=!1){let n;typeof s=="string"?n=vs(s):(n={...s},_e(!n.pathname||!n.pathname.includes("?"),$a("?","pathname","search",n)),_e(!n.pathname||!n.pathname.includes("#"),$a("#","pathname","hash",n)),_e(!n.search||!n.search.includes("#"),$a("#","search","hash",n)));let a=s===""||n.pathname==="",o=a?"/":n.pathname,l;if(o==null)l=t;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;n.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=Fm(n,l),h=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||u)&&(c.pathname+="/"),c}var Rt=s=>s.join("/").replace(/\/\/+/g,"/"),Bm=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Hm=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Wm=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Um(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var xd=["POST","PUT","PATCH","DELETE"];new Set(xd);var Vm=["GET",...xd];new Set(Vm);var Gs=C.createContext(null);Gs.displayName="DataRouter";var Qn=C.createContext(null);Qn.displayName="DataRouterState";C.createContext(!1);var bd=C.createContext({isTransitioning:!1});bd.displayName="ViewTransition";var Gm=C.createContext(new Map);Gm.displayName="Fetchers";var Ym=C.createContext(null);Ym.displayName="Await";var Nt=C.createContext(null);Nt.displayName="Navigation";var Pi=C.createContext(null);Pi.displayName="Location";var Ft=C.createContext({outlet:null,matches:[],isDataRoute:!1});Ft.displayName="Route";var wr=C.createContext(null);wr.displayName="RouteError";function qm(s,{relative:e}={}){_e(Li(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=C.useContext(Nt),{hash:n,pathname:a,search:o}=Ri(s,{relative:e}),l=a;return t!=="/"&&(l=a==="/"?t:Rt([t,a])),i.createHref({pathname:l,search:o,hash:n})}function Li(){return C.useContext(Pi)!=null}function Qt(){return _e(Li(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Pi).location}var yd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vd(s){C.useContext(Nt).static||C.useLayoutEffect(s)}function _d(){let{isDataRoute:s}=C.useContext(Ft);return s?op():Km()}function Km(){_e(Li(),"useNavigate() may be used only in the context of a <Router> component.");let s=C.useContext(Gs),{basename:e,navigator:t}=C.useContext(Nt),{matches:i}=C.useContext(Ft),{pathname:n}=Qt(),a=JSON.stringify(pd(i)),o=C.useRef(!1);return vd(()=>{o.current=!0}),C.useCallback((c,h={})=>{if(ft(o.current,yd),!o.current)return;if(typeof c=="number"){t.go(c);return}let u=gd(c,JSON.parse(a),n,h.relative==="path");s==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Rt([e,u.pathname])),(h.replace?t.replace:t.push)(u,h.state,h)},[e,t,a,n,s])}C.createContext(null);function Ri(s,{relative:e}={}){let{matches:t}=C.useContext(Ft),{pathname:i}=Qt(),n=JSON.stringify(pd(t));return C.useMemo(()=>gd(s,JSON.parse(n),i,e==="path"),[s,n,i,e])}function Xm(s,e){return wd(s,e)}function wd(s,e,t,i,n){var j;_e(Li(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(Nt),{matches:o}=C.useContext(Ft),l=o[o.length-1],c=l?l.params:{},h=l?l.pathname:"/",u=l?l.pathnameBase:"/",f=l&&l.route;{let S=f&&f.path||"";jd(h,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Qt(),x;if(e){let S=typeof e=="string"?vs(e):e;_e(u==="/"||((j=S.pathname)==null?void 0:j.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${S.pathname}" was given in the \`location\` prop.`),x=S}else x=p;let y=x.pathname||"/",b=y;if(u!=="/"){let S=u.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=ud(s,{pathname:b});ft(f||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ft(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=tp(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Rt([u,a.encodeLocation?a.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:Rt([u,a.encodeLocation?a.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,t,i,n);return e&&w?C.createElement(Pi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},w):w}function Qm(){let s=rp(),e=Um(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",s),o=C.createElement(C.Fragment,null,C.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:n},t):null,o)}var Zm=C.createElement(Qm,null),Jm=class extends C.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?C.createElement(Ft.Provider,{value:this.props.routeContext},C.createElement(wr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ep({routeContext:s,match:e,children:t}){let i=C.useContext(Gs);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Ft.Provider,{value:s},t)}function tp(s,e=[],t=null,i=null,n=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let a=s,o=t==null?void 0:t.errors;if(o!=null){let h=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);_e(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<a.length;h++){let u=a[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=h),u.route.id){let{loaderData:f,errors:p}=t,x=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,u,f)=>{let p,x=!1,y=null,b=null;t&&(p=o&&u.route.id?o[u.route.id]:void 0,y=u.route.errorElement||Zm,l&&(c<0&&f===0?(jd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,b=null):c===f&&(x=!0,b=u.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,f+1)),w=()=>{let j;return p?j=y:x?j=b:u.route.Component?j=C.createElement(u.route.Component,null):u.route.element?j=u.route.element:j=h,C.createElement(ep,{match:u,routeContext:{outlet:h,matches:_,isDataRoute:t!=null},children:j})};return t&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?C.createElement(Jm,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:i}):w()},null)}function jr(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sp(s){let e=C.useContext(Gs);return _e(e,jr(s)),e}function ip(s){let e=C.useContext(Qn);return _e(e,jr(s)),e}function np(s){let e=C.useContext(Ft);return _e(e,jr(s)),e}function kr(s){let e=np(s),t=e.matches[e.matches.length-1];return _e(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function ap(){return kr("useRouteId")}function rp(){var i;let s=C.useContext(wr),e=ip("useRouteError"),t=kr("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[t]}function op(){let{router:s}=sp("useNavigate"),e=kr("useNavigate"),t=C.useRef(!1);return vd(()=>{t.current=!0}),C.useCallback(async(n,a={})=>{ft(t.current,yd),t.current&&(typeof n=="number"?s.navigate(n):await s.navigate(n,{fromRouteId:e,...a}))},[s,e])}var Fl={};function jd(s,e,t){!e&&!Fl[s]&&(Fl[s]=!0,ft(!1,t))}C.memo(lp);function lp({routes:s,future:e,state:t,unstable_onError:i}){return wd(s,void 0,t,i,e)}function Mt(s){_e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cp({basename:s="/",children:e=null,location:t,navigationType:i="POP",navigator:n,static:a=!1}){_e(!Li(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=s.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:o,navigator:n,static:a,future:{}}),[o,n,a]);typeof t=="string"&&(t=vs(t));let{pathname:c="/",search:h="",hash:u="",state:f=null,key:p="default"}=t,x=C.useMemo(()=>{let y=It(c,o);return y==null?null:{location:{pathname:y,search:h,hash:u,state:f,key:p},navigationType:i}},[o,c,h,u,f,p,i]);return ft(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${h}${u}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:C.createElement(Nt.Provider,{value:l},C.createElement(Pi.Provider,{children:e,value:x}))}function dp({children:s,location:e}){return Xm(ar(s),e)}function ar(s,e=[]){let t=[];return C.Children.forEach(s,(i,n)=>{if(!C.isValidElement(i))return;let a=[...e,n];if(i.type===C.Fragment){t.push.apply(t,ar(i.props.children,a));return}_e(i.type===Mt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_e(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=ar(i.props.children,a)),t.push(o)}),t}var Sn="get",Tn="application/x-www-form-urlencoded";function Zn(s){return s!=null&&typeof s.tagName=="string"}function hp(s){return Zn(s)&&s.tagName.toLowerCase()==="button"}function up(s){return Zn(s)&&s.tagName.toLowerCase()==="form"}function fp(s){return Zn(s)&&s.tagName.toLowerCase()==="input"}function mp(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function pp(s,e){return s.button===0&&(!e||e==="_self")&&!mp(s)}var ln=null;function gp(){if(ln===null)try{new FormData(document.createElement("form"),0),ln=!1}catch{ln=!0}return ln}var xp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function za(s){return s!=null&&!xp.has(s)?(ft(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tn}"`),null):s}function bp(s,e){let t,i,n,a,o;if(up(s)){let l=s.getAttribute("action");i=l?It(l,e):null,t=s.getAttribute("method")||Sn,n=za(s.getAttribute("enctype"))||Tn,a=new FormData(s)}else if(hp(s)||fp(s)&&(s.type==="submit"||s.type==="image")){let l=s.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=s.getAttribute("formaction")||l.getAttribute("action");if(i=c?It(c,e):null,t=s.getAttribute("formmethod")||l.getAttribute("method")||Sn,n=za(s.getAttribute("formenctype"))||za(l.getAttribute("enctype"))||Tn,a=new FormData(l,s),!gp()){let{name:h,type:u,value:f}=s;if(u==="image"){let p=h?`${h}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else h&&a.append(h,f)}}else{if(Zn(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sn,i=null,n=Tn,o=s}return a&&n==="text/plain"&&(o=a,a=void 0),{action:i,method:t.toLowerCase(),encType:n,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nr(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function yp(s,e,t){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&It(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function vp(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _p(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function wp(s,e,t){let i=await Promise.all(s.map(async n=>{let a=e.routes[n.route.id];if(a){let o=await vp(a,t);return o.links?o.links():[]}return[]}));return Cp(i.flat(1).filter(_p).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function $l(s,e,t,i,n,a){let o=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,l=(c,h)=>{var u;return t[h].pathname!==c.pathname||((u=t[h].route.path)==null?void 0:u.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,h)=>o(c,h)||l(c,h)):a==="data"?e.filter((c,h)=>{var f;let u=i.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((f=t[0])==null?void 0:f.params)||{},nextUrl:new URL(s,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function jp(s,e,{includeHydrateFallback:t}={}){return kp(s.map(i=>{let n=e.routes[i.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),t&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1))}function kp(s){return[...new Set(s)]}function Np(s){let e={},t=Object.keys(s).sort();for(let i of t)e[i]=s[i];return e}function Cp(s,e){let t=new Set;return new Set(e),s.reduce((i,n)=>{let a=JSON.stringify(Np(n));return t.has(a)||(t.add(a),i.push({key:a,link:n})),i},[])}function kd(){let s=C.useContext(Gs);return Nr(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Sp(){let s=C.useContext(Qn);return Nr(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Cr=C.createContext(void 0);Cr.displayName="FrameworkContext";function Nd(){let s=C.useContext(Cr);return Nr(s,"You must render this element inside a <HydratedRouter> element"),s}function Tp(s,e){let t=C.useContext(Cr),[i,n]=C.useState(!1),[a,o]=C.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:u,onTouchStart:f}=e,p=C.useRef(null);C.useEffect(()=>{if(s==="render"&&o(!0),s==="viewport"){let b=w=>{w.forEach(j=>{o(j.isIntersecting)})},_=new IntersectionObserver(b,{threshold:.5});return p.current&&_.observe(p.current),()=>{_.disconnect()}}},[s]),C.useEffect(()=>{if(i){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[i]);let x=()=>{n(!0)},y=()=>{n(!1),o(!1)};return t?s!=="intent"?[a,p,{}]:[a,p,{onFocus:ni(l,x),onBlur:ni(c,y),onMouseEnter:ni(h,x),onMouseLeave:ni(u,y),onTouchStart:ni(f,x)}]:[!1,p,{}]}function ni(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function Ap({page:s,...e}){let{router:t}=kd(),i=C.useMemo(()=>ud(t.routes,s,t.basename),[t.routes,s,t.basename]);return i?C.createElement(Ep,{page:s,matches:i,...e}):null}function Mp(s){let{manifest:e,routeModules:t}=Nd(),[i,n]=C.useState([]);return C.useEffect(()=>{let a=!1;return wp(s,e,t).then(o=>{a||n(o)}),()=>{a=!0}},[s,e,t]),i}function Ep({page:s,matches:e,...t}){let i=Qt(),{manifest:n,routeModules:a}=Nd(),{basename:o}=kd(),{loaderData:l,matches:c}=Sp(),h=C.useMemo(()=>$l(s,e,c,n,i,"data"),[s,e,c,n,i]),u=C.useMemo(()=>$l(s,e,c,n,i,"assets"),[s,e,c,n,i]),f=C.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let y=new Set,b=!1;if(e.forEach(w=>{var S;let j=n.routes[w.route.id];!j||!j.hasLoader||(!h.some(E=>E.route.id===w.route.id)&&w.route.id in l&&((S=a[w.route.id])!=null&&S.shouldRevalidate)||j.hasClientLoader?b=!0:y.add(w.route.id))}),y.size===0)return[];let _=yp(s,o,"data");return b&&y.size>0&&_.searchParams.set("_routes",e.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[_.pathname+_.search]},[o,l,i,n,h,e,s,a]),p=C.useMemo(()=>jp(u,n),[u,n]),x=Mp(u);return C.createElement(C.Fragment,null,f.map(y=>C.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),p.map(y=>C.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),x.map(({key:y,link:b})=>C.createElement("link",{key:y,nonce:t.nonce,...b})))}function Dp(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Cd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cd&&(window.__reactRouterVersion="7.9.4")}catch{}function Pp({basename:s,children:e,window:t}){let i=C.useRef();i.current==null&&(i.current=_m({window:t,v5Compat:!0}));let n=i.current,[a,o]=C.useState({action:n.action,location:n.location}),l=C.useCallback(c=>{C.startTransition(()=>o(c))},[o]);return C.useLayoutEffect(()=>n.listen(l),[n,l]),C.createElement(cp,{basename:s,children:e,location:a.location,navigationType:a.action,navigator:n})}var Sd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Td=C.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:n,reloadDocument:a,replace:o,state:l,target:c,to:h,preventScrollReset:u,viewTransition:f,...p},x){let{basename:y}=C.useContext(Nt),b=typeof h=="string"&&Sd.test(h),_,w=!1;if(typeof h=="string"&&b&&(_=h,Cd))try{let z=new URL(window.location.href),H=h.startsWith("//")?new URL(z.protocol+h):new URL(h),V=It(H.pathname,y);H.origin===z.origin&&V!=null?h=V+H.search+H.hash:w=!0}catch{ft(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=qm(h,{relative:n}),[S,E,A]=Tp(i,p),F=Ip(h,{replace:o,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:f});function R(z){e&&e(z),z.defaultPrevented||F(z)}let O=C.createElement("a",{...p,...A,href:_||j,onClick:w||a?e:R,ref:Dp(x,E),target:c,"data-discover":!b&&t==="render"?"true":void 0});return S&&!b?C.createElement(C.Fragment,null,O,C.createElement(Ap,{page:j})):O});Td.displayName="Link";var Lp=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:n=!1,style:a,to:o,viewTransition:l,children:c,...h},u){let f=Ri(o,{relative:h.relative}),p=Qt(),x=C.useContext(Qn),{navigator:y,basename:b}=C.useContext(Nt),_=x!=null&&Hp(f)&&l===!0,w=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,j=p.pathname,S=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(j=j.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&b&&(S=It(S,b)||S);const E=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let A=j===w||!n&&j.startsWith(w)&&j.charAt(E)==="/",F=S!=null&&(S===w||!n&&S.startsWith(w)&&S.charAt(w.length)==="/"),R={isActive:A,isPending:F,isTransitioning:_},O=A?e:void 0,z;typeof i=="function"?z=i(R):z=[i,A?"active":null,F?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let H=typeof a=="function"?a(R):a;return C.createElement(Td,{...h,"aria-current":O,className:z,ref:u,style:H,to:o,viewTransition:l},typeof c=="function"?c(R):c)});Lp.displayName="NavLink";var Rp=C.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:n,state:a,method:o=Sn,action:l,onSubmit:c,relative:h,preventScrollReset:u,viewTransition:f,...p},x)=>{let y=zp(),b=Bp(l,{relative:h}),_=o.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&Sd.test(l),j=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let E=S.nativeEvent.submitter,A=(E==null?void 0:E.getAttribute("formmethod"))||o;y(E||S.currentTarget,{fetcherKey:e,method:A,navigate:t,replace:n,state:a,relative:h,preventScrollReset:u,viewTransition:f})};return C.createElement("form",{ref:x,method:_,action:b,onSubmit:i?c:j,...p,"data-discover":!w&&s==="render"?"true":void 0})});Rp.displayName="Form";function Op(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ad(s){let e=C.useContext(Gs);return _e(e,Op(s)),e}function Ip(s,{target:e,replace:t,state:i,preventScrollReset:n,relative:a,viewTransition:o}={}){let l=_d(),c=Qt(),h=Ri(s,{relative:a});return C.useCallback(u=>{if(pp(u,e)){u.preventDefault();let f=t!==void 0?t:Ni(c)===Ni(h);l(s,{replace:f,state:i,preventScrollReset:n,relative:a,viewTransition:o})}},[c,l,h,t,i,e,s,n,a,o])}var Fp=0,$p=()=>`__${String(++Fp)}__`;function zp(){let{router:s}=Ad("useSubmit"),{basename:e}=C.useContext(Nt),t=ap();return C.useCallback(async(i,n={})=>{let{action:a,method:o,encType:l,formData:c,body:h}=bp(i,e);if(n.navigate===!1){let u=n.fetcherKey||$p();await s.fetch(u,t,n.action||a,{preventScrollReset:n.preventScrollReset,formData:c,body:h,formMethod:n.method||o,formEncType:n.encType||l,flushSync:n.flushSync})}else await s.navigate(n.action||a,{preventScrollReset:n.preventScrollReset,formData:c,body:h,formMethod:n.method||o,formEncType:n.encType||l,replace:n.replace,state:n.state,fromRouteId:t,flushSync:n.flushSync,viewTransition:n.viewTransition})},[s,e,t])}function Bp(s,{relative:e}={}){let{basename:t}=C.useContext(Nt),i=C.useContext(Ft);_e(i,"useFormAction must be used inside a RouteContext");let[n]=i.matches.slice(-1),a={...Ri(s||".",{relative:e})},o=Qt();if(s==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let u=l.toString();a.search=u?`?${u}`:""}}return(!s||s===".")&&n.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Rt([t,a.pathname])),Ni(a)}function Hp(s,{relative:e}={}){let t=C.useContext(bd);_e(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ad("useViewTransitionState"),n=Ri(s,{relative:e});if(!t.isTransitioning)return!1;let a=It(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=It(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Rn(n.pathname,o)!=null||Rn(n.pathname,a)!=null}const Md=C.createContext(void 0),Wp={status:"idle",error:null,result:null,raw:null};function Up(s,e){switch(e.type){case"SUBMIT_START":return{...s,status:"submitting",error:null};case"SUBMIT_SUCCESS":return{...s,status:"success",result:e.payload.normalized,raw:e.payload.raw};case"SUBMIT_ERROR":return{...s,status:"error",error:e.payload};default:return s}}const Vp=({children:s,initialState:e})=>{const[t,i]=C.useReducer(Up,e||Wp);return r.jsx(Md.Provider,{value:{state:t,dispatch:i},children:s})};function Ed(){const s=C.useContext(Md);if(!s)throw new Error("useCalculation must be used within CalculationProvider");return s}const Gp=({toast:s,onDismiss:e,animationDuration:t=300,showCloseButton:i=!0,className:n="",style:a={},...o})=>{const l=C.useRef(null);C.useEffect(()=>(s.autoHide&&s.autoHide>0&&(l.current=setTimeout(()=>{e(s.id)},s.autoHide)),()=>{l.current&&clearTimeout(l.current)}),[s.autoHide,s.id,e]);const c=()=>{e(s.id)},h=s.variant?`toast-${s.variant}`:"",u=()=>"just now",f=["toast","show",h,n].filter(Boolean).join(" ");return r.jsxs("div",{...o,className:f,role:"alert","aria-live":"assertive","aria-atomic":"true",style:{"--bs-toast-animation-duration":`${t}ms`,...a},children:[s.title&&r.jsxs("strong",{className:"toast-header me-auto",children:[s.icon&&r.jsx("i",{className:`fas ${s.icon} me-2`,role:"img","aria-hidden":"true"}),s.title,s.showTimestamp&&r.jsx("small",{className:"toast-timestamp text-muted ms-2",children:u()}),i&&r.jsx("button",{type:"button",className:"btn-close ms-auto","aria-label":"Close",onClick:c})]}),r.jsxs("div",{className:"toast-body",children:[!s.title&&s.icon&&r.jsx("i",{className:`fas ${s.icon} me-2`,role:"img","aria-hidden":"true"}),s.message,!s.title&&i&&r.jsx("button",{type:"button",className:"btn-close btn-close-white position-absolute top-50 end-0 translate-middle-y me-2","aria-label":"Close",onClick:c}),!s.title&&s.showTimestamp&&r.jsx("div",{className:"toast-timestamp text-muted small mt-1",children:u()})]})]})},Yp=({toasts:s=[],position:e="top-end",maxToasts:t=5,animationDuration:i=300,showCloseButton:n=!0,className:a="",onDismiss:o})=>{const l=s.slice(0,t),c=()=>{switch(e){case"top-start":return"toast-container position-fixed top-0 start-0";case"top-center":return"toast-container position-fixed top-0 start-50 translate-middle-x";case"top-end":return"toast-container position-fixed top-0 end-0";case"middle-start":return"toast-container position-fixed top-50 start-0 translate-middle-y";case"middle-center":return"toast-container position-fixed top-50 start-50 translate-middle";case"middle-end":return"toast-container position-fixed top-50 end-0 translate-middle-y";case"bottom-start":return"toast-container position-fixed bottom-0 start-0";case"bottom-center":return"toast-container position-fixed bottom-0 start-50 translate-middle-x";case"bottom-end":return"toast-container position-fixed bottom-0 end-0";default:return"toast-container position-fixed top-0 end-0"}};return l.length===0?null:r.jsx("div",{className:`${c()} p-3 ${a}`,children:l.map(h=>r.jsx(Gp,{toast:h,onDismiss:o,animationDuration:i,showCloseButton:n},h.id))})},qp=C.createContext(void 0),Kp=({children:s,position:e="top-end",maxToasts:t=5,defaultAutoHide:i=5e3,animationDuration:n=300,showCloseButton:a=!0})=>{const[o,l]=C.useState([]),c=C.useCallback((_,w="info",j={})=>{const S=Date.now().toString()+Math.random().toString(36).substr(2,9),E={id:S,message:_,variant:w,autoHide:i,showTimestamp:!1,...j};return l(A=>[...A,E]),S},[i]),h=C.useCallback(_=>{l(w=>w.filter(j=>j.id!==_))},[]),u=C.useCallback(()=>{l([])},[]),f=C.useCallback((_,w)=>c(_,"success",w),[c]),p=C.useCallback((_,w)=>c(_,"danger",w),[c]),x=C.useCallback((_,w)=>c(_,"warning",w),[c]),y=C.useCallback((_,w)=>c(_,"info",w),[c]),b={toasts:o,addToast:c,removeToast:h,clearToasts:u,showSuccess:f,showError:p,showWarning:x,showInfo:y};return r.jsxs(qp.Provider,{value:b,children:[s,r.jsx(Yp,{toasts:o,position:e,maxToasts:t,animationDuration:n,showCloseButton:a,onDismiss:h})]})},ms={config:{associateTag:"cgttaxtool-20",defaultDisclosure:"As an Amazon Associate, we earn from qualifying purchases. This helps support our free tax calculation tools.",enableTracking:!0,placeholderImage:"/images/book-placeholder.jpg",amazonBaseUrl:"https://www.amazon.co.uk"},products:[{id:"uk-tax-guide-2024",title:"Tolley's Tax Guide 2024-25",description:"The definitive guide to UK taxation including capital gains tax, income tax, and corporation tax. Essential for investors and tax professionals.",asin:"B0BTXX5N5L",affiliateUrl:"https://amzn.to/4pCCh96",imageUrl:"https://m.media-amazon.com/images/I/61v-3RYPZPL._SY522_.jpg",category:"tax",tags:["uk-tax","capital-gains","income-tax","reference"],price:"Â£143.99",rating:5,reviewCount:1,featured:!0,publishedDate:"2024-09-30",author:"Tolley",isbn:"978-0754559573"},{id:"capital-gains-tax-uk",title:"Shares and Taxation",description:"A Practical Guide to Saving Tax on Your Shares.",asin:"B08VHXMC9K",affiliateUrl:"https://amzn.to/3KkWtfx",imageUrl:"https://m.media-amazon.com/images/I/519DCz1azmL.jpg",category:"tax",tags:["capital-gains","uk-tax","property","shares"],price:"Â£13.56",rating:5,reviewCount:1,featured:!0,publishedDate:"2010-10-12",author:"Jimmy B. Prince ",isbn:""},{id:"intelligent-investor",title:"The Intelligent Investor",description:"Benjamin Graham's timeless investment principles. Essential reading for understanding value investing and building long-term wealth.",asin:"B000FC12C8",affiliateUrl:"https://amzn.to/46yvrbV",imageUrl:"https://m.media-amazon.com/images/I/71piwvkH0sL._SY522_.jpg",category:"trading",tags:["investing","value-investing","warren-buffett","classic"],price:"Â£14.45",rating:4.7,reviewCount:382,featured:!0,publishedDate:"2024-10-24",author:"Benjamin Graham",isbn:"978-0063423527"},{id:"bogleheads-guide",title:"The Bogleheads' Guide to Investing",description:"Simple, effective investment strategies from John Bogle's disciples. Perfect for passive investing and building diversified portfolios.",asin:"B00JUV01RW",affiliateUrl:"https://amzn.to/4gG21xn",imageUrl:"https://m.media-amazon.com/images/I/814Z8SEGU0L._SY522_.jpg",category:"trading",tags:["passive-investing","index-funds","portfolio","bogle"],price:"Â£16.39",rating:4.7,reviewCount:2940,featured:!1,publishedDate:"2022-02-28",author:"Taylor Larimore",isbn:"9978-1119847670"},{id:"rich-dad-poor-dad",title:"Rich Dad Poor Dad",description:"Robert Kiyosaki's bestselling guide to financial literacy. Learn about assets, liabilities, and building passive income streams.",asin:"B07C7M8SX9",affiliateUrl:"https://amzn.to/3KDzcW9",imageUrl:"https://m.media-amazon.com/images/I/81BE7eeKzAL._SY522_.jpg",category:"finance",tags:["financial-literacy","passive-income","mindset","bestseller"],price:"Â£10.87",rating:4.6,reviewCount:88909,featured:!1,publishedDate:"2022-05-19",author:"Robert T. Kiyosaki",isbn:"9978-1612681122"},{id:"uk-property-tax",title:"How to Save Property Tax 2024/25",description:"Almost 300 pages of tax planning information for landlords and property investors.",asin:"B0C45FGHJ2",affiliateUrl:"https://amzn.to/480kIto",imageUrl:"https://m.media-amazon.com/images/I/71a68-28d4L._SY522_.jpg",category:"tax",tags:["property-tax","landlords","uk-tax"],price:"Â£28.00",rating:4.6,reviewCount:143,featured:!1,publishedDate:"2024-05-01",author:"Carl Bayley",isbn:"978-1916539653"},{id:"thinking-fast-and-slow",title:"Thinking, Fast and Slow",description:"Daniel Kahneman's classic on the two systems that drive the way we think.",asin:"0141033576",affiliateUrl:"https://www.amazon.co.uk/Thinking-Fast-Slow-Daniel-Kahneman/dp/0141033576",imageUrl:"https://m.media-amazon.com/images/I/71b3oX+p8gL._SY522_.jpg",category:"trading",tags:["psychology","behavioral-finance","decision-making"],price:"Â£10.34",rating:4.5,reviewCount:46177,featured:!1,publishedDate:"2012-05-10",author:"Daniel Kahneman",isbn:"978-0141033570"},{id:"technical-analysis-financial-markets",title:"Technical Analysis of the Financial Markets",description:"A comprehensive guide to trading methods and applications, from the 'bible' of technical analysis.",asin:"0735200661",affiliateUrl:"https://www.amazon.co.uk/Technical-Analysis-Financial-Markets-Comprehensive/dp/0735200661",imageUrl:"https://m.media-amazon.com/images/I/71+i0bV+c3L._SY522_.jpg",category:"trading",tags:["technical-analysis","charting","trading","markets"],price:"Â£38.00",rating:4.6,reviewCount:2853,featured:!1,publishedDate:"1999-01-01",author:"John J. Murphy",isbn:"978-0735200661"},{id:"mastering-the-market-cycle",title:"Mastering the Market Cycle",description:"Howard Marks provides invaluable insight into market cycles, helping you get the odds on your side.",asin:"1473695686",affiliateUrl:"https://www.amazon.co.uk/Mastering-Market-Cycle-Getting-odds/dp/1473695686/",imageUrl:"https://m.media-amazon.com/images/I/71BqS+ODoNL._SY522_.jpg",category:"trading",tags:["market-cycles","investing","howard-marks"],price:"Â£12.99",rating:4.3,reviewCount:3331,featured:!1,publishedDate:"2020-01-23",author:"Howard Marks",isbn:"978-1473695689"},{id:"reminiscences-of-a-stock-operator",title:"Reminiscences of a Stock Operator",description:"A timeless classic that provides a vivid and engaging account of a stock market speculator's life.",asin:"0471770884",affiliateUrl:"https://www.amazon.co.uk/Reminiscences-Stock-Operator-Edwin-Lefevre/dp/0471770884",imageUrl:"https://m.media-amazon.com/images/I/81+gG0oGZBL._SY522_.jpg",category:"trading",tags:["trading","biography","classic","speculation"],price:"Â£16.98",rating:4.4,reviewCount:4567,featured:!1,publishedDate:"2006-02-10",author:"Edwin LefÃ¨vre",isbn:"978-0471770886"},{id:"trading-psychology",title:"Trading in the Zone",description:"Master the psychology of trading. Essential for understanding market emotions and developing disciplined trading strategies.",asin:"B007DC7C4G",affiliateUrl:"https://amzn.to/4pFDr3y",imageUrl:"https://m.media-amazon.com/images/I/91h1hHF7awL._SY522_.jpg",category:"trading",tags:["psychology","trading-mindset","discipline","emotions"],price:"Â£27.80",rating:4.6,reviewCount:9202,featured:!0,publishedDate:"2001-01-01",author:"Mark Douglas",isbn:"978-0735201446"},{id:"uk-business-tax",title:"TAXTOPIA",description:"How I Discovered the Injustices, Scams and Guilty Secrets of the Tax Evasion Game",asin:"B0D12EFG34",affiliateUrl:"https://amzn.to/3KkZfS3",imageUrl:"https://m.media-amazon.com/images/I/61PCti3j6yL._SY522_.jpg",category:"business",tags:["business-tax","corporation-tax","vat","small-business"],price:"Â£6.59",rating:4.5,reviewCount:583,featured:!1,publishedDate:"2024-02-20",author:"The Rebel Accountant",isbn:"978-1800960879"},{id:"thinking-fast-and-slow-2",title:"Thinking, Fast and Slow",description:"Daniel Kahneman's seminal work on the two systems that drive the way we think. Essential for understanding and overcoming cognitive biases in trading.",asin:"0141033576",affiliateUrl:"https://www.amazon.co.uk/Thinking-Fast-Slow-Daniel-Kahneman/dp/0141033576",imageUrl:"https://m.media-amazon.com/images/I/71m6X-iOAOL._SY522_.jpg",category:"trading",tags:["psychology","cognitive-bias","mindset","kahneman"],price:"Â£11.99",rating:4.6,reviewCount:25e3,featured:!0,publishedDate:"2012-04-10",author:"Daniel Kahneman",isbn:"978-0141033570"},{id:"technical-analysis-of-financial-markets-2",title:"Technical Analysis of the Financial Markets",description:"A comprehensive guide to technical analysis, considered by many to be the bible of the subject. Covers chart patterns, indicators, and trading theory.",asin:"0735200661",affiliateUrl:"https://www.amazon.co.uk/Technical-Analysis-Financial-Markets-Comprehensive/dp/0735200661",imageUrl:"https://m.media-amazon.com/images/I/71p6T1m2VjL._SY522_.jpg",category:"trading",tags:["technical-analysis","charting","indicators","classic"],price:"Â£65.50",rating:4.7,reviewCount:4500,featured:!1,publishedDate:"1999-01-15",author:"John J. Murphy",isbn:"978-0735200661"},{id:"mastering-the-market-cycle-2",title:"Mastering the Market Cycle: Getting the Odds on Your Side",description:"Howard Marks provides a brilliant framework for understanding market cycles, helping investors know where they stand and how to act.",asin:"147214044X",affiliateUrl:"https://www.amazon.co.uk/Mastering-Market-Cycle-Getting-odds/dp/1473695686/",imageUrl:"https://m.media-amazon.com/images/I/71y3-f-i2AL._SY522_.jpg",category:"investing",tags:["market-cycles","investing-strategy","howard-marks","economics"],price:"Â£12.99",rating:4.6,reviewCount:2300,featured:!1,publishedDate:"2020-07-09",author:"Howard Marks",isbn:"978-1472140443"},{id:"reminiscences-of-a-stock-operator-2",title:"Reminiscences of a Stock Operator",description:"A fictionalized biography of Jesse Livermore, this book is a timeless classic on speculation, crowd psychology, and the art of trading.",asin:"0471770884",affiliateUrl:"https://amzn.to/433dvVR",imageUrl:"https://m.media-amazon.com/images/I/815fdzmtwAL._SY522_.jpg",category:"trading",tags:["classic","trading-psychology","speculation","jesse-livermore"],price:"Â£16.98",rating:4.4,reviewCount:4567,featured:!1,publishedDate:"2006-05-12",author:"Edwin LefÃ¨vre",isbn:"978-0471770886"}]};let Ba=null,cn=null;function Xp(s,e){const t=[];["id","title","description","asin","affiliateUrl","imageUrl","category"].forEach(a=>{(!s[a]||typeof s[a]=="string"&&s[a].trim()==="")&&t.push({field:`products[${e}].${a}`,message:`Missing required field: ${a}`,value:s[a]})});const n=["tax","trading","finance","business","investing"];return s.category&&!n.includes(s.category)&&t.push({field:`products[${e}].category`,message:`Invalid category. Must be one of: ${n.join(", ")}`,value:s.category}),s.asin&&!/^[A-Z0-9]{10}$/.test(s.asin)&&t.push({field:`products[${e}].asin`,message:"ASIN must be 10 alphanumeric characters",value:s.asin}),s.affiliateUrl&&!zl(s.affiliateUrl)&&t.push({field:`products[${e}].affiliateUrl`,message:"Invalid affiliate URL format",value:s.affiliateUrl}),s.imageUrl&&!zl(s.imageUrl)&&t.push({field:`products[${e}].imageUrl`,message:"Invalid image URL format",value:s.imageUrl}),s.rating!==void 0&&(s.rating<1||s.rating>5)&&t.push({field:`products[${e}].rating`,message:"Rating must be between 1 and 5",value:s.rating}),t}function zl(s){try{return new URL(s),!0}catch{return!1}}function Dd(){const s=[];if(ms.config?["associateTag","defaultDisclosure","amazonBaseUrl"].forEach(t=>{ms.config[t]||s.push({field:`config.${t}`,message:`Missing required config field: ${t}`})}):s.push({field:"config",message:"Missing config section"}),!ms.products||!Array.isArray(ms.products))s.push({field:"products",message:"Products must be an array"});else{const e=new Set;ms.products.forEach((t,i)=>{t.id&&(e.has(t.id)&&s.push({field:`products[${i}].id`,message:`Duplicate product ID: ${t.id}`,value:t.id}),e.add(t.id)),s.push(...Xp(t,i))})}return s}function Pd(){if(!cn){const s=Dd();s.length>0?(console.error("[AffiliateLoader] Validation errors:",s),cn={associateTag:"cgttaxtool-20",defaultDisclosure:"As an Amazon Associate, we earn from qualifying purchases.",enableTracking:!0,placeholderImage:"/images/book-placeholder.jpg",amazonBaseUrl:"https://www.amazon.co.uk"}):cn=ms.config}return cn}function qt(){if(!Ba){const s=Dd();if(s.length>0)return console.error("[AffiliateLoader] Validation errors:",s),[];Ba=ms.products}return[...Ba]}function Ld(s){return qt().filter(e=>e.category===s)}function Rd(){return qt().filter(s=>s.featured)}function Od(s){const e=s.toLowerCase().trim();return e?qt().filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.tags.some(i=>i.toLowerCase().includes(e))||t.author&&t.author.toLowerCase().includes(e)):qt()}function Qp(s){if(Pd().enableTracking)try{console.log("[AffiliateLoader] Affiliate click tracked:",{productId:s.id,productTitle:s.title,category:s.category,timestamp:new Date().toISOString()})}catch(t){console.error("[AffiliateLoader] Error tracking affiliate click:",t)}}const xi=({product:s,children:e,className:t="",showDisclosure:i=!0,disclosureText:n,onClick:a,target:o="_blank",rel:l="noopener noreferrer sponsored",...c})=>{const h=f=>{Qp(s),a&&a(f)},u=`affiliate-link ${t}`.trim();return r.jsxs(r.Fragment,{children:[r.jsx("a",{href:s.affiliateUrl,className:u,target:o,rel:l,onClick:h,title:`View ${s.title} on Amazon`,"data-product-id":s.id,"data-asin":s.asin,...c,children:e||s.title}),i&&r.jsx("small",{className:"affiliate-disclosure text-muted ms-1",children:n||"*"})]})},Id=({product:s,layout:e="vertical",showFullDescription:t=!1,showRating:i=!0,showPrice:n=!0,className:a="",imageHeight:o=200,ctaText:l="View on Amazon",compact:c=!1})=>{const h=["affiliate-card","card","h-100",`affiliate-card--${e}`,c&&"affiliate-card--compact",a].filter(Boolean).join(" "),u=t?s.description:s.description.length>120?`${s.description.substring(0,120)}...`:s.description,f=y=>{const b=Math.floor(y),_=y%1!==0,w=5-Math.ceil(y);return r.jsxs("div",{className:"affiliate-rating d-flex align-items-center",children:[[...Array(b)].map((j,S)=>r.jsx("i",{className:"bi bi-star-fill text-warning"},`full-${S}`)),_&&r.jsx("i",{className:"bi bi-star-half text-warning"}),[...Array(w)].map((j,S)=>r.jsx("i",{className:"bi bi-star text-warning"},`empty-${S}`)),r.jsxs("span",{className:"ms-2 text-muted small",children:["(",y,")"]})]})},p=()=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"affiliate-card__image",children:r.jsx("img",{src:s.imageUrl,alt:s.title,className:"card-img-top",style:{height:`${o}px`,objectFit:"contain"},loading:"lazy",onError:y=>{const b=y.target;b.src!==(s.fallbackImageUrl||"/images/book-placeholder.jpg")&&(b.src=s.fallbackImageUrl||"/images/book-placeholder.jpg")}})}),r.jsxs("div",{className:"card-body d-flex flex-column",children:[r.jsxs("div",{className:"affiliate-card__content flex-grow-1",children:[r.jsx("h5",{className:"card-title affiliate-product-title",children:s.title}),s.author&&r.jsxs("h6",{className:"card-subtitle mb-2 text-muted",children:["by ",s.author]}),r.jsx("p",{className:"card-text affiliate-product-description",children:u}),i&&s.rating&&r.jsx("div",{className:"mb-2",children:f(s.rating)}),n&&s.price&&r.jsxs("div",{className:"affiliate-price mb-2",children:[r.jsx("span",{className:"h6 text-primary",children:s.price}),s.originalPrice&&s.originalPrice!==s.price&&r.jsx("span",{className:"text-muted text-decoration-line-through ms-2 small",children:s.originalPrice})]})]}),r.jsx("div",{className:"affiliate-card__actions mt-auto",children:r.jsxs(xi,{product:s,className:"btn btn-primary w-100",showDisclosure:!1,children:[r.jsx("i",{className:"bi bi-cart3 me-2"}),l]})})]})]}),x=()=>r.jsxs("div",{className:"row g-0",children:[r.jsx("div",{className:"col-md-4",children:r.jsx("div",{className:"affiliate-card__image",children:r.jsx("img",{src:s.imageUrl,alt:s.title,className:"img-fluid rounded-start h-100",style:{objectFit:"contain"},loading:"lazy",onError:y=>{const b=y.target;b.src!==(s.fallbackImageUrl||"/images/book-placeholder.jpg")&&(b.src=s.fallbackImageUrl||"/images/book-placeholder.jpg")}})})}),r.jsx("div",{className:"col-md-8",children:r.jsxs("div",{className:"card-body d-flex flex-column h-100",children:[r.jsxs("div",{className:"affiliate-card__content flex-grow-1",children:[r.jsx("h5",{className:"card-title affiliate-product-title",children:s.title}),s.author&&r.jsxs("h6",{className:"card-subtitle mb-2 text-muted",children:["by ",s.author]}),r.jsx("p",{className:"card-text affiliate-product-description",children:u}),i&&s.rating&&r.jsx("div",{className:"mb-2",children:f(s.rating)}),n&&s.price&&r.jsxs("div",{className:"affiliate-price mb-2",children:[r.jsx("span",{className:"h6 text-primary",children:s.price}),s.originalPrice&&s.originalPrice!==s.price&&r.jsx("span",{className:"text-muted text-decoration-line-through ms-2 small",children:s.originalPrice})]})]}),r.jsx("div",{className:"affiliate-card__actions mt-auto",children:r.jsxs(xi,{product:s,className:"btn btn-primary",showDisclosure:!1,children:[r.jsx("i",{className:"bi bi-cart3 me-2"}),l]})})]})})]});return r.jsxs("div",{className:h,children:[e==="horizontal"?x():p(),s.category&&r.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:r.jsx("span",{className:`badge bg-${Zp(s.category)}`,children:s.category})}),s.featured&&r.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:r.jsxs("span",{className:"badge bg-warning text-dark",children:[r.jsx("i",{className:"bi bi-star-fill me-1"}),"Featured"]})})]})};function Zp(s){return{tax:"success",trading:"primary",finance:"info",business:"secondary"}[s]||"secondary"}const Ot=({products:s,category:e,featuredOnly:t=!1,limit:i,className:n="",showCategories:a=!1,showRatings:o=!0,layout:l="vertical",columns:c={xs:1,sm:2,md:2,lg:3,xl:4},searchQuery:h,sortBy:u="default",emptyStateMessage:f="No products found",loading:p=!1})=>{const y=(()=>{if(s)return s;let w=[];switch(t?w=Rd():e?w=Ld(e):w=qt(),h&&h.trim()&&(w=Od(h)),u){case"rating":w=w.filter(j=>j.rating!==void 0).sort((j,S)=>(S.rating||0)-(j.rating||0));break;case"title":w=w.sort((j,S)=>j.title.localeCompare(S.title));break;case"category":w=w.sort((j,S)=>j.category.localeCompare(S.category));break;case"featured":w=w.sort((j,S)=>j.featured&&!S.featured?-1:!j.featured&&S.featured?1:0);break}return i&&i>0&&(w=w.slice(0,i)),w})(),b=()=>{const w=[];if(typeof c=="object"&&c!==null)c.xs&&w.push(`col-${12/c.xs}`),c.sm&&w.push(`col-sm-${12/c.sm}`),c.md&&w.push(`col-md-${12/c.md}`),c.lg&&w.push(`col-lg-${12/c.lg}`),c.xl&&w.push(`col-xl-${12/c.xl}`);else{const j=c||3;w.push(`col-12 col-md-${12/j}`)}return w.join(" ")},_=["affiliate-grid",n].filter(Boolean).join(" ");return p?r.jsx("div",{className:_,children:r.jsx("div",{className:"row",children:[...Array(typeof c=="object"?c.md||2:c||2)].map((w,j)=>r.jsx("div",{className:b(),children:r.jsxs("div",{className:"card h-100",children:[r.jsx("div",{className:"card-img-top bg-light",style:{height:"200px"},children:r.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:r.jsx("div",{className:"spinner-border text-primary",role:"status",children:r.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"placeholder-glow",children:[r.jsx("h5",{className:"placeholder col-8"}),r.jsx("h6",{className:"placeholder col-6"}),r.jsx("p",{className:"placeholder col-12"}),r.jsx("p",{className:"placeholder col-8"})]})})]})},j))})}):y.length===0?r.jsx("div",{className:_,children:r.jsxs("div",{className:"text-center py-5",children:[r.jsx("i",{className:"bi bi-search display-4 text-muted mb-3"}),r.jsx("h4",{className:"text-muted",children:f}),h&&r.jsxs("p",{className:"text-muted",children:['No products found for "',h,'". Try adjusting your search terms.']}),e&&r.jsxs("p",{className:"text-muted",children:['No products found in the "',e,'" category.']}),r.jsx("p",{className:"text-muted small mt-2",children:"ðŸ“š Tax resources will be available soon. Check back later!"})]})}):r.jsxs("div",{className:_,children:[r.jsxs("div",{className:"affiliate-grid__header mb-3 d-flex justify-content-between align-items-center",children:[r.jsxs("small",{className:"text-muted",children:["Showing ",y.length," product",y.length!==1?"s":"",e&&` in ${e}`,h&&` for "${h}"`]}),a&&r.jsx("div",{className:"affiliate-grid__categories",children:Array.from(new Set(y.map(w=>w.category))).map(w=>r.jsx("span",{className:`badge bg-${Jp(w)} me-1`,children:w},w))})]}),r.jsx("div",{className:"row g-4",children:y.map(w=>r.jsx("div",{className:b(),children:r.jsx(Id,{product:w,layout:l,showRating:o,className:"h-100"})},w.id))}),i&&qt().length>i&&r.jsx("div",{className:"text-center mt-4",children:r.jsxs("p",{className:"text-muted",children:["Showing ",i," of ",qt().length," products"]})})]})};function Jp(s){return{tax:"success",trading:"primary",finance:"info",business:"secondary"}[s]||"secondary"}const An=({text:s,style:e="inline",className:t="",showIcon:i=!0})=>{const n=Pd(),a=s||n.defaultDisclosure,o=()=>{const f=["affiliate-disclosure"];switch(e){case"banner":return[...f,"alert","alert-info","mb-3","d-flex","align-items-center",t].filter(Boolean).join(" ");case"footer":return[...f,"text-muted","small","border-top","pt-3","mt-4",t].filter(Boolean).join(" ");case"inline":default:return[...f,"text-muted","small",t].filter(Boolean).join(" ")}},l=()=>{if(!i)return null;switch(e){case"banner":return r.jsx("i",{className:"bi bi-info-circle-fill me-2 text-info"});case"footer":return r.jsx("i",{className:"bi bi-asterisk me-1"});case"inline":default:return r.jsx("i",{className:"bi bi-asterisk me-1"})}},c=()=>r.jsxs("div",{className:o(),role:"complementary","aria-label":"Affiliate Disclosure",children:[l(),r.jsxs("div",{children:[r.jsx("strong",{className:"me-2",children:"Disclosure:"}),a]})]}),h=()=>r.jsx("div",{className:o(),role:"contentinfo","aria-label":"Affiliate Disclosure",children:r.jsxs("div",{className:"d-flex align-items-start",children:[l(),r.jsxs("div",{children:[r.jsx("strong",{className:"d-block mb-1",children:"Affiliate Disclosure"}),r.jsx("p",{className:"mb-0",children:a}),r.jsx("p",{className:"mb-0 mt-2",children:"This helps support our free educational content. Thank you for your support!"})]})]})}),u=()=>r.jsxs("span",{className:o(),title:"Affiliate Disclosure",children:[l(),a]});switch(e){case"banner":return c();case"footer":return h();case"inline":default:return u()}},eg=({children:s,showSidebar:e=!0,className:t=""})=>{const i=Qt(),[n,a]=C.useState(!1),o=i.pathname==="/"||i.pathname==="",l=e&&!o,c=()=>{a(!n)},h=()=>{a(!1)};return C.useEffect(()=>{const u=f=>{const p=f.target;n&&!p.closest(".navbar")&&a(!1)};if(n)return document.addEventListener("click",u),()=>document.removeEventListener("click",u)},[n]),r.jsxs("div",{className:`layout ${t} ${o?"layout-landing":""}`,children:[r.jsx("header",{className:"header-section",children:r.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-white shadow-sm",children:r.jsxs("div",{className:"container-fluid",children:[r.jsxs("a",{className:"navbar-brand d-flex align-items-center",href:"#/",onClick:h,children:[r.jsx("i",{className:"bi bi-calculator-fill me-2 text-primary"}),r.jsx("span",{className:"fw-bold",children:"UK Tax Calculator"})]}),r.jsx("button",{className:"navbar-toggler",type:"button",onClick:c,"aria-controls":"navbarNav","aria-expanded":n,"aria-label":"Toggle navigation",children:r.jsx("span",{className:"navbar-toggler-icon"})}),r.jsxs("div",{className:`collapse navbar-collapse ${n?"show":""}`,id:"navbarNav",children:[r.jsxs("ul",{className:"navbar-nav me-auto",children:[r.jsx("li",{className:"nav-item",children:r.jsx("a",{className:"nav-link",href:"#calculator",onClick:h,children:"Calculator"})}),r.jsx("li",{className:"nav-item",children:r.jsx("a",{className:"nav-link",href:"#about",onClick:h,children:"About"})}),r.jsx("li",{className:"nav-item",children:r.jsx("a",{className:"nav-link",href:"#help",onClick:h,children:"Help"})}),r.jsx("li",{className:"nav-item",children:r.jsx("a",{className:"nav-link",href:"#guide",onClick:h,children:"CGT Guide"})}),r.jsx("li",{className:"nav-item",children:r.jsx("a",{className:"nav-link",href:"#blog",onClick:h,children:"Blog"})}),r.jsx("li",{className:"nav-item",children:r.jsxs("a",{className:"nav-link",href:"#affiliate-demo",onClick:h,children:[r.jsx("span",{className:"badge bg-primary me-1",children:"New"}),"Resources"]})})]}),r.jsx("div",{className:"d-flex",children:r.jsx("span",{className:"navbar-text small text-muted",children:"Free UK Tax Calculator"})})]})]})})}),r.jsx("main",{className:"main-content",children:o?r.jsx(r.Fragment,{children:s}):r.jsx("div",{className:"container-fluid",children:r.jsxs("div",{className:"row",children:[r.jsx("div",{className:`col ${l?"col-lg-9":"col-12"}`,children:r.jsx("div",{className:"content-wrapper py-4",children:s})}),l&&r.jsx("div",{className:"col-lg-3 d-none d-lg-block",children:r.jsx("aside",{className:"sidebar py-4",children:r.jsxs("div",{className:"sidebar-content mt-4",children:[r.jsx("div",{className:"card",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h6",{className:"card-title",children:"Need Help?"}),r.jsx("p",{className:"card-text small",children:"Check our comprehensive guide for UK capital gains tax calculations."}),r.jsx("a",{href:"/help",className:"btn btn-sm btn-outline-primary",children:"Get Help"})]})}),r.jsx("div",{className:"card mt-3",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h6",{className:"card-title",children:"About This Tool"}),r.jsx("p",{className:"card-text small",children:"Free, accurate UK tax calculations for Interactive Brokers users."}),r.jsx("a",{href:"/about",className:"btn btn-sm btn-outline-secondary",children:"Learn More"})]})})]})})})]})})}),r.jsx("footer",{className:"footer bg-dark text-light py-4 mt-5",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"row",children:[r.jsxs("div",{className:"col-md-6",children:[r.jsx("h6",{children:"UK Tax Calculator"}),r.jsx("p",{className:"small mb-0",children:"Free capital gains tax calculations for UK residents."})]}),r.jsxs("div",{className:"col-md-6 text-md-end",children:[r.jsxs("div",{className:"footer-links",children:[r.jsx("a",{href:"/privacy",className:"text-light text-decoration-none me-3",children:"Privacy"}),r.jsx("a",{href:"/terms",className:"text-light text-decoration-none me-3",children:"Terms"}),r.jsx("a",{href:"/about",className:"text-light text-decoration-none",children:"About"})]}),r.jsx("p",{className:"small mt-2 mb-0 text-muted",children:"Â© 2024 UK Tax Calculator. Educational purposes only."})]})]}),r.jsx("div",{className:"row mt-3 pt-3 border-top border-secondary",children:r.jsx("div",{className:"col-12",children:r.jsx(An,{style:"footer",className:"text-light"})})})]})})]})},tg=[{id:"uk-tax-guide-2024",title:"Tolley's Tax Guide 2024-25",description:"The definitive guide to UK taxation including capital gains tax, income tax, and corporation tax. Essential for investors and tax professionals.",asin:"B0BTXX5N5L",affiliateUrl:"https://amzn.to/4pCCh96",imageUrl:"https://m.media-amazon.com/images/I/61v-3RYPZPL._SY522_.jpg",category:"tax",tags:["uk-tax","capital-gains","income-tax","reference"],price:"Â£143.99",rating:5,reviewCount:1,featured:!0,publishedDate:"2024-09-30",author:"Tolley",isbn:"978-0754559573"},{id:"capital-gains-tax-uk",title:"Shares and Taxation",description:"A Practical Guide to Saving Tax on Your Shares.",asin:"B08VHXMC9K",affiliateUrl:"https://amzn.to/3KkWtfx",imageUrl:"https://m.media-amazon.com/images/I/519DCz1azmL.jpg",category:"tax",tags:["capital-gains","uk-tax","property","shares"],price:"Â£13.56",rating:5,reviewCount:1,featured:!0,publishedDate:"2010-10-12",author:"Jimmy B. Prince ",isbn:""},{id:"intelligent-investor",title:"The Intelligent Investor",description:"Benjamin Graham's timeless investment principles. Essential reading for understanding value investing and building long-term wealth.",asin:"B000FC12C8",affiliateUrl:"https://amzn.to/46yvrbV",imageUrl:"https://m.media-amazon.com/images/I/71piwvkH0sL._SY522_.jpg",category:"trading",tags:["investing","value-investing","warren-buffett","classic"],price:"Â£14.45",rating:4.7,reviewCount:382,featured:!0,publishedDate:"2024-10-24",author:"Benjamin Graham",isbn:"978-0063423527"},{id:"bogleheads-guide",title:"The Bogleheads' Guide to Investing",description:"Simple, effective investment strategies from John Bogle's disciples. Perfect for passive investing and building diversified portfolios.",asin:"B00JUV01RW",affiliateUrl:"https://amzn.to/4gG21xn",imageUrl:"https://m.media-amazon.com/images/I/814Z8SEGU0L._SY522_.jpg",category:"trading",tags:["passive-investing","index-funds","portfolio","bogle"],price:"Â£16.39",rating:4.7,reviewCount:2940,featured:!1,publishedDate:"2022-02-28",author:"Taylor Larimore",isbn:"9978-1119847670"},{id:"rich-dad-poor-dad",title:"Rich Dad Poor Dad",description:"Robert Kiyosaki's bestselling guide to financial literacy. Learn about assets, liabilities, and building passive income streams.",asin:"B07C7M8SX9",affiliateUrl:"https://amzn.to/3KDzcW9",imageUrl:"https://m.media-amazon.com/images/I/81BE7eeKzAL._SY522_.jpg",category:"finance",tags:["financial-literacy","passive-income","mindset","bestseller"],price:"Â£10.87",rating:4.6,reviewCount:88909,featured:!1,publishedDate:"2022-05-19",author:"Robert T. Kiyosaki",isbn:"9978-1612681122"},{id:"uk-property-tax",title:"How to Save Property Tax 2024/25",description:"Almost 300 pages of tax planning information for landlords and property investors.",asin:"B0C45FGHJ2",affiliateUrl:"https://amzn.to/480kIto",imageUrl:"https://m.media-amazon.com/images/I/61chEPZcj1L._SY522_.jpg",category:"tax",tags:["property-tax","landlords","uk-tax"],price:"Â£28.00",rating:4.6,reviewCount:143,featured:!1,publishedDate:"2024-05-01",author:"Carl Bayley",isbn:"978-1916539653"},{id:"thinking-fast-and-slow",title:"Thinking, Fast and Slow",description:"Daniel Kahneman's classic on the two systems that drive the way we think.",asin:"0141033576",affiliateUrl:"https://www.amazon.co.uk/Thinking-Fast-Slow-Daniel-Kahneman/dp/0141033576",imageUrl:"https://m.media-amazon.com/images/I/71b3oX+p8gL._SY522_.jpg",category:"trading",tags:["psychology","behavioral-finance","decision-making"],price:"Â£10.34",rating:4.5,reviewCount:46177,featured:!1,publishedDate:"2012-05-10",author:"Daniel Kahneman",isbn:"978-0141033570"},{id:"technical-analysis-financial-markets",title:"Technical Analysis of the Financial Markets",description:"A comprehensive guide to trading methods and applications, from the 'bible' of technical analysis.",asin:"0735200661",affiliateUrl:"https://www.amazon.co.uk/Technical-Analysis-Financial-Markets-Comprehensive/dp/0735200661",imageUrl:"https://m.media-amazon.com/images/I/71+i0bV+c3L._SY522_.jpg",category:"trading",tags:["technical-analysis","charting","trading","markets"],price:"Â£38.00",rating:4.6,reviewCount:2853,featured:!1,publishedDate:"1999-01-01",author:"John J. Murphy",isbn:"978-0735200661"},{id:"mastering-the-market-cycle",title:"Mastering the Market Cycle",description:"Howard Marks provides invaluable insight into market cycles, helping you get the odds on your side.",asin:"1473695686",affiliateUrl:"https://www.amazon.co.uk/Mastering-Market-Cycle-Getting-odds/dp/1473695686/",imageUrl:"https://m.media-amazon.com/images/I/71BqS+ODoNL._SY522_.jpg",category:"trading",tags:["market-cycles","investing","howard-marks"],price:"Â£12.99",rating:4.3,reviewCount:3331,featured:!1,publishedDate:"2020-01-23",author:"Howard Marks",isbn:"978-1473695689"},{id:"reminiscences-of-a-stock-operator",title:"Reminiscences of a Stock Operator",description:"A timeless classic that provides a vivid and engaging account of a stock market speculator's life.",asin:"0471770884",affiliateUrl:"https://www.amazon.co.uk/Reminiscences-Stock-Operator-Edwin-Lefevre/dp/0471770884",imageUrl:"https://m.media-amazon.com/images/I/81+gG0oGZBL._SY522_.jpg",category:"trading",tags:["trading","biography","classic","speculation"],price:"Â£16.98",rating:4.4,reviewCount:4567,featured:!1,publishedDate:"2006-02-10",author:"Edwin LefÃ¨vre",isbn:"978-0471770886"},{id:"trading-psychology",title:"Trading in the Zone",description:"Master the psychology of trading. Essential for understanding market emotions and developing disciplined trading strategies.",asin:"B007DC7C4G",affiliateUrl:"https://amzn.to/4pFDr3y",imageUrl:"https://m.media-amazon.com/images/I/91h1hHF7awL._SY522_.jpg",category:"trading",tags:["psychology","trading-mindset","discipline","emotions"],price:"Â£27.80",rating:4.6,reviewCount:9202,featured:!0,publishedDate:"2001-01-01",author:"Mark Douglas",isbn:"978-0735201446"},{id:"uk-business-tax",title:"TAXTOPIA",description:"How I Discovered the Injustices, Scams and Guilty Secrets of the Tax Evasion Game",asin:"B0D12EFG34",affiliateUrl:"https://amzn.to/3KkZfS3",imageUrl:"https://m.media-amazon.com/images/I/61PCti3j6yL._SY522_.jpg",category:"business",tags:["business-tax","corporation-tax","vat","small-business"],price:"Â£6.59",rating:4.5,reviewCount:583,featured:!1,publishedDate:"2024-02-20",author:"The Rebel Accountant",isbn:"978-1800960879"},{id:"thinking-fast-and-slow",title:"Thinking, Fast and Slow",description:"Daniel Kahneman's seminal work on the two systems that drive the way we think. Essential for understanding and overcoming cognitive biases in trading.",asin:"0141033576",affiliateUrl:"https://www.amazon.co.uk/Thinking-Fast-Slow-Daniel-Kahneman/dp/0141033576",imageUrl:"https://m.media-amazon.com/images/I/71m6X-iOAOL._SY522_.jpg",category:"trading",tags:["psychology","cognitive-bias","mindset","kahneman"],price:"Â£11.99",rating:4.6,reviewCount:25e3,featured:!0,publishedDate:"2012-04-10",author:"Daniel Kahneman",isbn:"978-0141033570"},{id:"technical-analysis-of-financial-markets",title:"Technical Analysis of the Financial Markets",description:"A comprehensive guide to technical analysis, considered by many to be the bible of the subject. Covers chart patterns, indicators, and trading theory.",asin:"0735200661",affiliateUrl:"https://www.amazon.co.uk/Technical-Analysis-Financial-Markets-Comprehensive/dp/0735200661",imageUrl:"https://m.media-amazon.com/images/I/71p6T1m2VjL._SY522_.jpg",category:"trading",tags:["technical-analysis","charting","indicators","classic"],price:"Â£65.50",rating:4.7,reviewCount:4500,featured:!1,publishedDate:"1999-01-15",author:"John J. Murphy",isbn:"978-0735200661"},{id:"mastering-the-market-cycle",title:"Mastering the Market Cycle: Getting the Odds on Your Side",description:"Howard Marks provides a brilliant framework for understanding market cycles, helping investors know where they stand and how to act.",asin:"147214044X",affiliateUrl:"https://www.amazon.co.uk/Mastering-Market-Cycle-Getting-odds/dp/1473695686/",imageUrl:"https://m.media-amazon.com/images/I/71y3-f-i2AL._SY522_.jpg",category:"investing",tags:["market-cycles","investing-strategy","howard-marks","economics"],price:"Â£12.99",rating:4.6,reviewCount:2300,featured:!1,publishedDate:"2020-07-09",author:"Howard Marks",isbn:"978-1472140443"},{id:"reminiscences-of-a-stock-operator",title:"Reminiscences of a Stock Operator",description:"A fictionalized biography of Jesse Livermore, this book is a timeless classic on speculation, crowd psychology, and the art of trading.",asin:"0471770884",affiliateUrl:"https://amzn.to/433dvVR",imageUrl:"https://m.media-amazon.com/images/I/815fdzmtwAL._SY522_.jpg",category:"trading",tags:["classic","trading-psychology","speculation","jesse-livermore"],price:"Â£16.98",rating:4.4,reviewCount:4567,featured:!1,publishedDate:"2006-05-12",author:"Edwin LefÃ¨vre",isbn:"978-0471770886"}],sg={products:tg},ig=()=>{const s=_d(),e=C.useMemo(()=>sg.products.filter(u=>u.featured).slice(0,6).map(u=>({...u,fallbackImageUrl:u.fallbackImageUrl||"/images/book-placeholder.jpg"})),[]),t=C.useMemo(()=>[{icon:"fas fa-calculator fa-xl",iconVariant:"bg-primary",title:"HMRC Compliant",description:"Accurate UK tax calculations following HMRC guidelines for capital gains, dividends, and currency gains."},{icon:"fas fa-chart-line fa-xl",iconVariant:"bg-success",title:"Portfolio Analytics",description:"Comprehensive portfolio analysis with performance metrics, market breakdown, and current holdings."},{icon:"fas fa-file-alt fa-xl",iconVariant:"bg-info",title:"Detailed Reports",description:"Generate comprehensive reports in multiple formats for tax filing and portfolio review."}],[]),i=C.useMemo(()=>[{badge:"Tax Guide",badgeVariant:"bg-primary",title:"Understanding UK Capital Gains Tax",description:"Complete guide to CGT calculations, allowances, and optimisation strategies for 2024-25."},{badge:"Strategy",badgeVariant:"bg-success",title:"Tax-Efficient Investment Strategies",description:"Learn how to minimise your tax burden while maximising investment returns."},{badge:"How-To",badgeVariant:"bg-info",title:"Using Interactive Brokers Data",description:"Step-by-step guide to extracting and processing IBKR data for UK tax calculations."}],[]),n=C.useMemo(()=>[{title:"Timing Your Disposals",description:"Strategic timing of share sales can significantly impact your tax liability. Consider spreading large disposals across tax years to make use of multiple annual exemptions.",highlight:"Example: Selling Â£3,000 in March and Â£7,000 in April can utilise two annual exemptions."},{title:"Harvesting Tax Losses",description:"Realising losses to offset gains is a powerful tax strategy. Sell losing positions to crystallise losses, then repurchase after 30 days to avoid the bed and breakfast rule.",highlight:"Losses must be realised in the same tax year to offset current gains."},{title:"ISA and SIPP Utilisation",description:"Maximise your ISA allowance (Â£20,000 for 2024-25) and pension contributions to shelter investments from capital gains tax.",highlight:"Be mindful of 30-day rules when moving between taxable accounts and wrappers."},{title:"Spouse & Civil Partner Transfers",description:"Transfers between spouses or civil partners are generally tax-free and can optimise the use of both partnersâ€™ allowances and tax bands.",highlight:"Transfer assets to the lower-rate taxpayer before disposal to benefit from lower CGT rates."}],[]),a=C.useMemo(()=>[{id:"formats",question:"What file formats does the calculator accept?",expanded:!0,answer:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"The calculator accepts both QFX (Quicken Financial Exchange) and CSV exports. QFX files include the most detailed transaction information and are recommended when available."}),r.jsx("p",{className:"mb-2",children:r.jsx("strong",{children:"To export from IBKR:"})}),r.jsxs("ol",{className:"mb-0 ps-3",children:[r.jsx("li",{children:"Log in to the IBKR Client Portal"}),r.jsx("li",{children:"Open Reports â†’ Statements â†’ Activity"}),r.jsx("li",{children:"Select the required tax year and Quicken (QFX) format"}),r.jsx("li",{children:"Download the statement and upload it directly to the calculator"})]})]})},{id:"accuracy",question:"How accurate are the tax calculations?",answer:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"The calculations follow HMRC rules including Section 104 pooling, same-day and 30-day matching, and official historical exchange rates."}),r.jsxs("ul",{className:"mb-0",children:[r.jsx("li",{children:"Section 104 pooling for share matching"}),r.jsx("li",{children:"Historical HMRC exchange rates for currency conversion"}),r.jsx("li",{children:"Dividend withholding tax handling"}),r.jsx("li",{children:"Current tax rates and allowances for each tax year"})]})]})},{id:"privacy",question:"What about data privacy and security?",answer:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Uploaded files are processed securely and never stored. All communication is encrypted and the service runs in isolated, serverless infrastructure."}),r.jsxs("ul",{className:"mb-0",children:[r.jsx("li",{children:"HTTPS encryption for all traffic"}),r.jsx("li",{children:"No persistent storage of uploaded files"}),r.jsx("li",{children:"Automatic deletion after processing"}),r.jsx("li",{children:"No sharing of data with third parties"})]})]})},{id:"reporting",question:"Do I need to report small gains to HMRC?",answer:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"You must report if your total gains exceed the annual exempt amount (Â£3,000 for 2024-25) or if your disposal proceeds exceed Â£12,000."}),r.jsx("p",{className:"mb-0",children:"Dividend income above Â£500 must also be reported even if no capital gains tax is due."})]})},{id:"currency",question:"How does currency conversion work?",answer:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"All transactions are converted to GBP using HMRC exchange rates for the transaction date. This includes purchases, sales, dividends, fees, and commissions."}),r.jsx("p",{className:"mb-0",children:"Average rates are not used; each transaction is converted at its specific rate to comply with HMRC requirements."})]})},{id:"losses",question:"What if I have losses from previous years?",answer:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Losses can be carried forward indefinitely but must be claimed within four years. Current year losses are used first, followed by the annual exemption and then historic losses."}),r.jsx("p",{className:"mb-0",children:"Use the calculator output to adjust your Self Assessment submission with any brought-forward losses."})]})}],[]),o=()=>s("/calculator"),l=()=>s("/guide"),c=()=>s("/blog"),h=()=>s("/help");return r.jsxs("div",{className:"landing-page",children:[r.jsxs("section",{id:"calculator",className:"hero-section py-5 mb-5 position-relative overflow-hidden text-white",children:[r.jsx("div",{className:"container",children:r.jsxs("div",{className:"row align-items-center min-vh-75",children:[r.jsxs("div",{className:"col-lg-7",children:[r.jsxs("h1",{className:"display-3 fw-bold mb-4",children:["UK Tax Calculator for",r.jsx("span",{className:"d-block text-warning",children:"Interactive Brokers"})]}),r.jsx("p",{className:"lead mb-4 fs-5",children:"Calculate your UK capital gains tax, dividend income, and portfolio performance from IBKR transactions. HMRC compliant calculations with detailed reporting."}),r.jsxs("div",{className:"d-flex gap-3 mb-4 flex-wrap",children:[r.jsxs("button",{onClick:o,className:"btn btn-light btn-lg px-4 py-3 fw-semibold",children:[r.jsx("i",{className:"fas fa-calculator me-2"}),"Start Calculation"]}),r.jsxs("button",{onClick:l,className:"btn btn-outline-light btn-lg px-4 py-3",children:[r.jsx("i",{className:"fas fa-book me-2"}),"CGT Guide"]})]}),r.jsxs("div",{className:"d-flex gap-4 text-light small opacity-90 flex-wrap",children:[r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-shield-alt me-2"}),"HMRC Compliant"]}),r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-users me-2"}),"10k+ Users"]}),r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-star me-2"}),"Free to Use"]})]}),r.jsxs("div",{className:"alert alert-warning mt-4 d-flex align-items-center border-0 gradient-warning",role:"alert",children:[r.jsx("div",{className:"me-3 display-6","aria-hidden":"true",children:"ðŸš€"}),r.jsxs("div",{className:"flex-grow-1",children:[r.jsx("h6",{className:"alert-heading mb-1",children:"Try Our Modern Interface"}),r.jsx("p",{className:"mb-2",children:"Enhanced React SPA with faster performance, real-time feedback, and improved usability across devices."}),r.jsx("button",{onClick:o,className:"btn btn-sm btn-primary",children:"Try Modern App"})]})]})]}),r.jsx("div",{className:"col-lg-5 d-none d-lg-block",children:r.jsx("div",{className:"ad-container hero-ad-slot w-100 h-100","aria-hidden":"true"})})]})}),r.jsx("div",{className:"hero-background-pattern position-absolute top-0 start-0 w-100 h-100","aria-hidden":"true"})]}),r.jsx("div",{className:"container-xxl mb-5",children:r.jsxs("div",{className:"row gx-4",children:[r.jsx("aside",{className:"col-xl-2 d-none d-xl-block",children:r.jsx("div",{className:"ad-column start-ad-slot","aria-hidden":"true"})}),r.jsxs("div",{className:"col-xl-8",children:[r.jsx("section",{className:"py-5","aria-labelledby":"feature-heading",children:r.jsxs("div",{className:"container",children:[r.jsx("div",{className:"row text-center mb-5",children:r.jsxs("div",{className:"col-lg-8 mx-auto",children:[r.jsx("h2",{id:"feature-heading",className:"display-5 fw-bold mb-3",children:"Why Choose Our Tax Calculator?"}),r.jsx("p",{className:"lead text-muted",children:"Comprehensive UK tax calculations designed specifically for Interactive Brokers users."})]})}),r.jsx("div",{className:"row g-4",children:t.map(u=>r.jsx("div",{className:"col-md-4",children:r.jsxs("div",{className:"card feature-card h-100 border-0 shadow-sm text-center p-4",children:[r.jsx("div",{className:`${u.iconVariant} text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3 feature-icon`,children:r.jsx("i",{className:u.icon,"aria-hidden":"true"})}),r.jsx("h5",{className:"card-title fw-bold mb-3",children:u.title}),r.jsx("p",{className:"card-text text-muted",children:u.description})]})},u.title))})]})}),r.jsx("section",{id:"about",className:"py-5 mobile-bg-light",children:r.jsxs("div",{className:"container",children:[r.jsx("div",{className:"row text-center mb-5",children:r.jsxs("div",{className:"col-lg-10 mx-auto",children:[r.jsx("h2",{className:"display-5 fw-bold mb-3",children:"How UK Capital Gains Tax Calculation Works"}),r.jsx("p",{className:"lead text-muted",children:"Understanding the process helps you prepare accurate data and interpret the output with confidence."})]})}),r.jsx("div",{className:"row justify-content-center mb-5",children:r.jsx("div",{className:"col-lg-9",children:r.jsxs("div",{className:"bg-white p-4 p-lg-5 rounded shadow-sm",children:[r.jsx("h4",{className:"fw-bold mb-3 text-primary",children:"The HMRC-compliant Calculation Pipeline"}),r.jsx("p",{className:"mb-3",children:"The calculator follows HMRC requirements to evaluate your trading activity, match disposals, and apply current rates:"}),r.jsxs("ul",{className:"mb-3",children:[r.jsx("li",{children:"Identify disposals and acquisition pairs for every security"}),r.jsx("li",{children:"Apply same-day and 30-day matching before Section 104 pooling"}),r.jsx("li",{children:"Reconstruct allowable costs including fees and commissions"}),r.jsx("li",{children:"Convert every amount to GBP with HMRC daily exchange rates"}),r.jsx("li",{children:"Apply the annual exempt amount and current CGT brackets"})]}),r.jsx("div",{className:"alert alert-info border-0",children:r.jsx("small",{children:"The SPA mirrors the proven static implementation so you receive the same detailed disposal, portfolio, and dividend reporting in a rich, responsive interface."})})]})})}),r.jsx("div",{className:"row g-4 justify-content-center",children:["Export Your Data","Upload & Calculate","Review Results","File Your Return"].map((u,f)=>r.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:r.jsxs("div",{className:"text-center p-4 bg-white rounded shadow-sm h-100",children:[r.jsx("div",{className:"step-number text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3","aria-hidden":"true",children:f+1}),r.jsx("h5",{className:"fw-bold mb-3",children:u}),r.jsxs("p",{className:"text-muted mb-3",children:[f===0&&"Download transaction reports from IBKR or compatible brokers in QFX or CSV format.",f===1&&"Upload your file, pick the tax year, and let the engine handle HMRC matching rules.",f===2&&"Inspect detailed breakdowns covering gains, losses, pools, dividends, and portfolio analytics.",f===3&&"Use the structured output to complete your Self Assessment with supporting evidence."]}),f===0&&r.jsx("button",{onClick:l,className:"btn btn-link p-0 text-decoration-none",children:"View export guide â†’"}),f===1&&r.jsx("button",{onClick:o,className:"btn btn-link p-0 text-decoration-none",children:"Upload now â†’"}),f===2&&r.jsx("button",{onClick:h,className:"btn btn-link p-0 text-decoration-none",children:"Review sample results â†’"}),f===3&&r.jsx("button",{onClick:l,className:"btn btn-link p-0 text-decoration-none",children:"Read CGT filing checklist â†’"})]})},u))})]})}),r.jsx("section",{id:"guide",className:"py-5",children:r.jsxs("div",{className:"container",children:[r.jsx("div",{className:"row text-center mb-5",children:r.jsxs("div",{className:"col-lg-8 mx-auto",children:[r.jsx("h2",{className:"display-5 fw-bold mb-3",children:"What Data Do You Need?"}),r.jsx("p",{className:"lead text-muted",children:"Upload complete tax-year statements to ensure accurate calculations across all disposals and dividends."})]})}),r.jsxs("div",{className:"row g-4 mb-4",children:[r.jsx("div",{className:"col-lg-6",children:r.jsxs("div",{className:"card border-primary h-100",children:[r.jsx("div",{className:"card-header bg-primary text-white",children:r.jsxs("h5",{className:"mb-0",children:[r.jsx("i",{className:"fas fa-file-code me-2","aria-hidden":"true"}),"Interactive Brokers (QFX)"]})}),r.jsxs("div",{className:"card-body",children:[r.jsx("p",{children:"Export your IBKR Activity Statement in Quicken (QFX) format for the richest transaction detail, including corporate actions and currency conversions."}),r.jsx("h6",{children:"Included data:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Buy/sell trades with execution details"}),r.jsx("li",{children:"Currency conversions and FX rates"}),r.jsx("li",{children:"Commission, fees, and taxes"}),r.jsx("li",{children:"Corporate actions and adjustments"})]}),r.jsx("button",{onClick:l,className:"btn btn-outline-primary btn-sm",children:"How to export â†’"})]})]})}),r.jsx("div",{className:"col-lg-6",children:r.jsxs("div",{className:"card border-success h-100",children:[r.jsx("div",{className:"card-header bg-success text-white",children:r.jsxs("h5",{className:"mb-0",children:[r.jsx("i",{className:"fas fa-file-csv me-2","aria-hidden":"true"}),"CSV Format (Multi-Broker)"]})}),r.jsxs("div",{className:"card-body",children:[r.jsx("p",{children:"Use CSV exports from brokers such as Sharesight, Hargreaves Lansdown, Fidelity, or generate files that match the documented column specification."}),r.jsx("h6",{children:"Required columns:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Date, Symbol, Quantity, Price, and Total Amount"}),r.jsx("li",{children:"Transaction Type (BUY/SELL)"}),r.jsx("li",{children:"Currency and FX rates where applicable"}),r.jsx("li",{children:"Optional: Fees, commissions, and withholding taxes"})]}),r.jsx("button",{onClick:l,className:"btn btn-outline-success btn-sm",children:"View CSV format â†’"})]})]})})]}),r.jsx("div",{className:"row",children:r.jsx("div",{className:"col-lg-10 mx-auto",children:r.jsxs("div",{className:"alert alert-light border",children:[r.jsx("h6",{className:"fw-bold mb-2",children:"Pro tips for accurate results"}),r.jsxs("ul",{className:"mb-0",children:[r.jsx("li",{children:"Cover the full tax year (6 April â€“ 5 April) to capture all disposals and dividends."}),r.jsx("li",{children:"Ensure all corporate actions are included to keep Section 104 pools consistent."}),r.jsx("li",{children:"Keep supporting evidence for additional costs such as stamp duty or transfer fees."}),r.jsx("li",{children:"Use GBP exchange rates supplied in your statement or by HMRC for the relevant dates."})]})]})})})]})}),r.jsx("section",{id:"blog",className:"py-5",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"row align-items-center mb-5",children:[r.jsxs("div",{className:"col-lg-8",children:[r.jsx("h2",{className:"display-5 fw-bold mb-3",children:"UK Tax & Investment Blog"}),r.jsx("p",{className:"lead text-muted",children:"Expert insights, guides, and updates on UK policy changes affecting international investors."})]}),r.jsx("div",{className:"col-lg-4 text-lg-end",children:r.jsxs("button",{onClick:c,className:"btn btn-outline-primary btn-lg",children:["View all articles",r.jsx("i",{className:"fas fa-arrow-right ms-2","aria-hidden":"true"})]})})]}),r.jsx("div",{className:"row g-4",children:r.jsx("div",{className:"col-12",children:r.jsxs("div",{className:"alert alert-warning border-warning d-flex align-items-start",children:[r.jsx("i",{className:"fas fa-exclamation-triangle fa-2x text-warning me-3 mt-1","aria-hidden":"true"}),r.jsxs("div",{children:[r.jsx("h4",{className:"alert-heading mb-3",children:"Urgent: CGT Rate Changes (from 30 October 2024)"}),r.jsx("p",{className:"mb-3",children:"Capital gains tax rates for shares and ETFs have increased significantly. Basic rate taxpayers now pay 18% (+8%) and higher rate taxpayers 24% (+4%) on disposals made after 30 October 2024."}),r.jsxs("div",{className:"row mb-3",children:[r.jsxs("div",{className:"col-md-6",children:[r.jsx("strong",{children:"Before 30 Oct 2024:"}),r.jsx("br",{}),"Basic rate 10% â€¢ Higher rate 20%"]}),r.jsxs("div",{className:"col-md-6",children:[r.jsx("strong",{children:"From 30 Oct 2024:"}),r.jsx("br",{}),"Basic rate 18% â€¢ Higher rate 24%"]})]}),r.jsx("button",{onClick:l,className:"btn btn-warning btn-sm",children:"Read full CGT guide"})]})]})})}),r.jsx("div",{className:"row g-4",children:i.map(u=>r.jsx("div",{className:"col-md-4",children:r.jsx("div",{className:"card h-100 border-0 shadow-sm",children:r.jsxs("div",{className:"card-body",children:[r.jsx("span",{className:`badge ${u.badgeVariant} mb-3`,children:u.badge}),r.jsx("h5",{className:"card-title",children:u.title}),r.jsx("p",{className:"card-text text-muted",children:u.description}),r.jsx("button",{onClick:c,className:"btn btn-sm btn-outline-primary",children:"Read more"})]})})},u.title))})]})}),r.jsx("section",{id:"help",className:"py-5 bg-light",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"row",children:r.jsxs("div",{className:"col-lg-10 mx-auto",children:[r.jsx("h2",{className:"text-center mb-5",children:"Frequently Asked Questions"}),r.jsx("div",{className:"accordion",id:"faqAccordion",children:a.map(u=>r.jsxs("div",{className:"accordion-item",children:[r.jsx("h3",{className:"accordion-header",id:`faq-heading-${u.id}`,children:r.jsx("button",{className:`accordion-button ${u.expanded?"":"collapsed"}`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#faq-collapse-${u.id}`,"aria-expanded":u.expanded,"aria-controls":`faq-collapse-${u.id}`,children:u.question})}),r.jsx("div",{id:`faq-collapse-${u.id}`,className:`accordion-collapse collapse ${u.expanded?"show":""}`,"aria-labelledby":`faq-heading-${u.id}`,"data-bs-parent":"#faqAccordion",children:r.jsx("div",{className:"accordion-body",children:u.answer})})]},u.id))})]})})})}),r.jsx("section",{className:"py-5",children:r.jsxs("div",{className:"container",children:[r.jsx("h2",{className:"text-center mb-5",children:"Tax Planning Strategies for International Investors"}),r.jsx("div",{className:"row g-4",children:n.map(u=>r.jsx("div",{className:"col-md-6",children:r.jsx("div",{className:"card h-100 border-0 shadow-sm",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h4",{className:"card-title text-primary",children:u.title}),r.jsx("p",{className:"card-text",children:u.description}),u.highlight&&r.jsx("p",{className:"card-text",children:r.jsx("strong",{children:u.highlight})})]})})},u.title))})]})}),r.jsx("section",{className:"py-5 bg-light",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"row",children:r.jsxs("div",{className:"col-lg-10 mx-auto text-center",children:[r.jsx("h2",{className:"display-5 fw-bold mb-4",children:"Recommended Resources"}),r.jsx("p",{className:"lead text-muted mb-5",children:"Essential books and tools that help UK investors stay informed and tax-efficient."}),r.jsx(Ot,{products:e,columns:{xs:1,sm:2,md:3,lg:3,xl:3},showRatings:!0,showCategories:!0,layout:"vertical",className:"justify-content-center"})]})})})}),r.jsx("section",{className:"py-5 text-center cta-section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"row justify-content-center",children:r.jsxs("div",{className:"col-lg-8",children:[r.jsx("h2",{className:"display-5 fw-bold mb-4 text-white",children:"Ready to Calculate Your UK Taxes?"}),r.jsx("p",{className:"lead text-white-50 mb-4",children:"Join thousands of UK investors who trust this platform for accurate HMRC-compliant tax calculations."}),r.jsxs("div",{className:"d-flex gap-3 justify-content-center flex-wrap",children:[r.jsxs("button",{onClick:o,className:"btn btn-light btn-lg px-5 py-3",children:[r.jsx("i",{className:"fas fa-calculator me-2","aria-hidden":"true"}),"Start Free Calculation"]}),r.jsxs("button",{onClick:c,className:"btn btn-outline-light btn-lg px-5 py-3",children:[r.jsx("i",{className:"fas fa-book-open me-2","aria-hidden":"true"}),"Read Our Guides"]})]}),r.jsxs("div",{className:"mt-4 small text-white-50",children:[r.jsx("i",{className:"fas fa-lock me-1","aria-hidden":"true"}),"Your files are processed securely and never stored."]})]})})})}),r.jsxs("section",{className:"d-none",children:[r.jsx("h3",{children:"UK Tax Calculator for Interactive Brokers Users"}),r.jsx("p",{children:"Calculate capital gains tax, dividend tax, and currency gains for UK investors using Interactive Brokers. The SPA replicates the production landing page so HMRC-compliant outputs remain consistent across web experiences."}),r.jsxs("ul",{children:[r.jsx("li",{children:"Capital gains tax calculation with Section 104 pooling"}),r.jsx("li",{children:"Dividend income tax calculation with withholding adjustments"}),r.jsx("li",{children:"Currency gain/loss calculation using HMRC exchange rates"}),r.jsx("li",{children:"Portfolio performance analysis and reporting"}),r.jsx("li",{children:"Support for stocks, ETFs, and other securities"})]}),r.jsx("p",{children:"Keywords: UK tax calculator, Interactive Brokers tax, IBKR CGT, capital gains tax calculator, HMRC compliance, Section 104 pooling, UK investment tax, Self Assessment, portfolio analytics."})]})]}),r.jsx("aside",{className:"col-xl-2 d-none d-xl-block",children:r.jsx("div",{className:"ad-column end-ad-slot","aria-hidden":"true"})})]})})]})};async function ng({file:s,taxYear:e,analysisType:t}){const i=window.location.origin+"/prod",n=new FormData;n.append("file",s),n.append("tax_year",e),n.append("analysis_type",t);const a=await fetch(i+"/calculate",{method:"POST",body:n});if(!a.ok){let l="HTTP "+a.status;try{const c=await a.json();c.error&&(l=c.error)}catch{}throw new Error(l)}return{raw:await a.json()}}const jt=({variant:s="info",title:e,icon:t,dismissible:i=!1,onDismiss:n,children:a,className:o="",...l})=>{const c=["alert",`alert-${s}`,i&&"alert-dismissible",o].filter(Boolean).join(" ");return r.jsxs("div",{className:c,role:"alert",...l,children:[e&&r.jsxs("h4",{className:"alert-heading",children:[t&&r.jsx("i",{className:`fas ${t} me-2`}),e]}),!e&&t&&r.jsx("i",{className:`fas ${t} me-2`}),a,i&&r.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:n})]})};jt.displayName="Alert";const On=({size:s="md",variant:e="border",color:t,text:i="Loading...",label:n,centered:a=!1,inline:o=!1,className:l="",...c})=>{const h=[e==="border"?"spinner-border":"spinner-grow",s==="sm"?e==="border"?"spinner-border-sm":"spinner-grow-sm":"",t?`text-${t}`:"",l].filter(Boolean).join(" "),u=[a?"d-flex justify-content-center align-items-center":"",o?"d-inline-flex":""].filter(Boolean).join(" "),f=s==="lg"?{width:"3rem",height:"3rem"}:{},p=r.jsx("div",{...c,className:h,role:"status","aria-hidden":"true",style:{...f,...c.style},children:r.jsx("span",{className:"visually-hidden",children:i===""?"":i||"Loading..."})});return u?r.jsxs("div",{className:u,children:[n&&r.jsx("span",{className:"me-2",children:n}),p]}):n?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"me-2",children:n}),p]}):p},rr=Kn.forwardRef(({options:s=[],size:e="md",isValid:t,placeholder:i,className:n="",disabled:a,required:o,multiple:l,...c},h)=>{const u=["form-select",e==="sm"&&"form-select-sm",e==="lg"&&"form-select-lg",t===!0&&"is-valid",t===!1&&"is-invalid",n].filter(Boolean).join(" "),f={};return t!==void 0&&(f["aria-invalid"]=!t),r.jsxs("select",{ref:h,className:u,disabled:a,required:o,multiple:l,...f,...c,children:[i&&r.jsx("option",{value:"",disabled:!0,children:i}),s.map((p,x)=>r.jsx("option",{value:p.value,disabled:p.disabled,children:p.label},`${p.value}-${x}`))]})});rr.displayName="Select";const ag=()=>r.jsxs("div",{className:"ibkr-guide",children:[r.jsx("h4",{children:"How to Export Data from Interactive Brokers"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{children:"ðŸ† Recommended: QFX Export (Most Comprehensive)"}),r.jsx("p",{className:"mb-3",children:"QFX files provide the most complete data for UK tax calculations:"}),r.jsxs("ol",{children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Navigate to Reports"}),":",r.jsxs("ul",{children:[r.jsxs("li",{children:["From the main menu, select ",r.jsx("strong",{children:"Performance & Reports"})]}),r.jsxs("li",{children:["Choose ",r.jsx("strong",{children:"Statements"})," from the dropdown"]})]})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Select Third-Party Downloads"}),":",r.jsxs("ul",{children:[r.jsxs("li",{children:["Look for the ",r.jsx("strong",{children:"Third-Party Downloads"})," section"]}),r.jsx("li",{children:"Click to access export options"})]})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Choose Quicken Format"}),":",r.jsxs("ul",{children:[r.jsxs("li",{children:["Select ",r.jsx("strong",{children:"Quicken"})," as the export format"]}),r.jsx("li",{children:"This generates a comprehensive QFX file"})]})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Set Date Range"}),":",r.jsx("ul",{children:r.jsx("li",{children:"Choose your tax year dates (e.g., 06/04/2023 - 05/04/2024)"})})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Generate and Download"}),":",r.jsxs("ul",{children:[r.jsxs("li",{children:["Click ",r.jsx("strong",{children:"Generate"})," to create the QFX file"]}),r.jsx("li",{children:"Download when ready"})]})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{children:"ðŸ”„ Alternative: CSV Export via Flex Queries"}),r.jsx("p",{className:"mb-3",children:"For CSV format or when QFX encounters issues:"}),r.jsxs("ol",{children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Login to Interactive Brokers"}),":",r.jsx("ul",{children:r.jsxs("li",{children:["Access your ",r.jsx("a",{href:"https://www.interactivebrokers.com.au/sso/Login",target:"_blank",rel:"noopener noreferrer",children:"Interactive Brokers account"})]})})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Navigate to Reports"}),":",r.jsxs("ul",{children:[r.jsxs("li",{children:["Click on the ",r.jsx("strong",{children:"Reports"})," tab"]}),r.jsxs("li",{children:["Select ",r.jsx("strong",{children:"Flex Queries"})]})]})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Create Activity Flex Query"}),":",r.jsx("ul",{children:r.jsxs("li",{children:["Click ",r.jsx("strong",{children:"'+'"})," next to ",r.jsx("strong",{children:"Activity Flex Query"})]})})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Select Data Sections"}),":",r.jsxs("ul",{children:[r.jsxs("li",{children:["Select ",r.jsx("strong",{children:"Trades"})," under ",r.jsx("strong",{children:"Sections"})]}),r.jsxs("li",{children:["Select ",r.jsx("strong",{children:"Executions"})," on the pop-up window"]})]})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Configure Fields"}),":",r.jsxs("ul",{children:[r.jsxs("li",{children:["Tick ",r.jsx("strong",{children:"SELECT ALL"})," to include all available fields"]}),r.jsxs("li",{children:["Click ",r.jsx("strong",{children:"Save"})]})]})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Name Your Query"}),":",r.jsx("ul",{children:r.jsxs("li",{children:["Enter a ",r.jsx("strong",{children:"Query Name"}),' (e.g., "Tax Calculator Export")']})})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Set Date Format"}),":",r.jsx("ul",{children:r.jsxs("li",{children:["Change ",r.jsx("strong",{children:"Date Format"})," to ",r.jsx("strong",{children:"mm/dd/yyyy"})," under ",r.jsx("strong",{children:"General Configuration"})]})})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Create and Run Query"}),":",r.jsxs("ul",{children:[r.jsxs("li",{children:["Click ",r.jsx("strong",{children:"Create"})," to save your query"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Run"})," the Activity Flex Query"]})]})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Set Date Range"}),":",r.jsxs("ul",{children:[r.jsxs("li",{children:["Under ",r.jsx("strong",{children:"Period"}),", select ",r.jsx("strong",{children:"Custom Date Range"})]}),r.jsx("li",{children:"Choose dates to cover all your trades"})]})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Download CSV File"}),":",r.jsxs("ul",{children:[r.jsxs("li",{children:["Set ",r.jsx("strong",{children:"Format"})," as ",r.jsx("strong",{children:"CSV"})]}),r.jsxs("li",{children:["Click ",r.jsx("strong",{children:"Run"})," and download your trades file"]})]})]})]})]}),r.jsxs("div",{className:"alert alert-info mt-3",children:[r.jsx("strong",{children:"Important:"})," QFX files contain the most comprehensive data including corporate actions, dividends, and complete fee structures. Use CSV only if QFX import encounters issues."]})]}),Fd=s=>typeof s=="number"&&Number.isFinite(s),X=(s,e=0)=>{if(Fd(s))return s;const t=Number(s);return Number.isFinite(t)?t:e},rg=s=>{var t,i,n;const e=((i=(t=s==null?void 0:s.tax_analysis)==null?void 0:t.capital_gains)==null?void 0:i.disposals)||((n=s==null?void 0:s.tax_report)==null?void 0:n.disposals)||[];return Array.isArray(e)?e.map(a=>{var p;const o=X(a==null?void 0:a.proceeds),l=X(a==null?void 0:a.cost_basis),c=X(a==null?void 0:a.expenses),h=(a==null?void 0:a.gain_or_loss)!=null?X(a.gain_or_loss):o-l-c,u=(a==null?void 0:a.disposal_date)||(a==null?void 0:a.sell_date)||(a==null?void 0:a.date)||"";return{disposalDate:typeof u=="string"&&u.includes("T")?u.split("T")[0]:typeof u=="string"?u.split(" ")[0]||u:"",symbol:((p=a==null?void 0:a.security)==null?void 0:p.symbol)||(a==null?void 0:a.symbol)||"UNKNOWN",quantity:X(a==null?void 0:a.quantity),proceeds:o,costBasis:l,gainLoss:h,raw:a}}):[]},og=s=>{var t,i,n,a;const e=((i=(t=s==null?void 0:s.tax_analysis)==null?void 0:t.dividend_income)==null?void 0:i.dividends)||((a=(n=s==null?void 0:s.tax_report)==null?void 0:n.dividend_income)==null?void 0:a.dividends)||[];return Array.isArray(e)?e.map(o=>{var p,x;const l=X(o==null?void 0:o.amount_gbp),c=X(o==null?void 0:o.withholding_tax_gbp),h=l-c,u=(o==null?void 0:o.payment_date)||"";return{paymentDate:typeof u=="string"&&u.includes("T")?u.split("T")[0]:typeof u=="string"?u.split(" ")[0]||u:"",symbol:((p=o==null?void 0:o.security)==null?void 0:p.symbol)||(o==null?void 0:o.ticker)||(o==null?void 0:o.symbol)||"UNKNOWN",name:((x=o==null?void 0:o.security)==null?void 0:x.name)||(o==null?void 0:o.name),grossAmount:l,withholdingTax:c,netAmount:h,raw:o}}):[]},$d=s=>{var t,i,n,a,o;const e=[(t=s==null?void 0:s.security)==null?void 0:t.symbol,(i=s==null?void 0:s.security)==null?void 0:i.ticker,(n=s==null?void 0:s.security)==null?void 0:n.security_id,(a=s==null?void 0:s.security)==null?void 0:a.cusip,(o=s==null?void 0:s.security)==null?void 0:o.isin,s==null?void 0:s.symbol,s==null?void 0:s.ticker,s==null?void 0:s.code,s==null?void 0:s.security_id].filter(l=>typeof l=="string"&&l.trim()!=="");return e.length>0?e[0]:null},Sr=(s,e,t)=>{const i=X(t,Number.NaN);return Number.isNaN(i)?e<=0?0:s/e*100:i},lg=s=>{if(!s||typeof s!="object")return[];const e=Object.values(s);if(!e.length)return[];const t=[];return e.forEach(i=>{!(i!=null&&i.holdings)||!Array.isArray(i.holdings)||i.holdings.forEach(n=>{var b;const a=X(n==null?void 0:n.average_cost_gbp)||X(n==null?void 0:n.avg_cost_gbp)||X(n==null?void 0:n.average_cost),o=X(n==null?void 0:n.quantity),l=X(n==null?void 0:n.current_value_gbp)||X(n==null?void 0:n.current_value)||X(n==null?void 0:n.value),c=n==null?void 0:n.total_cost_gbp,h=c!=null?X(c):a*o,u=n==null?void 0:n.unrealized_gain_loss,f=u!=null?X(u):l-h,p=Sr(f,h,n==null?void 0:n.total_return_pct),x=$d(n),y=(i==null?void 0:i.currency)||(n==null?void 0:n.currency);t.push({symbol:x||(o>100?"MIXED PORTFOLIO":"UNKNOWN"),name:((b=n==null?void 0:n.security)==null?void 0:b.name)||(n==null?void 0:n.name)||(n==null?void 0:n.security_name)||void 0,quantity:o,averageCostGBP:a,currentValueGBP:l,totalCostGBP:h,unrealizedGainLoss:f,returnPct:p,currency:y,raw:n})})}),t},cg=s=>{var t,i;const e=[];return Array.isArray((t=s==null?void 0:s.portfolio_report)==null?void 0:t.holdings)&&e.push(...s.portfolio_report.holdings),(i=s==null?void 0:s.portfolio_report)!=null&&i.markets&&Object.values(s.portfolio_report.markets).forEach(n=>{Array.isArray(n==null?void 0:n.holdings)&&e.push(...n.holdings)}),e.length?e.map(n=>{var x,y;const a=X(n==null?void 0:n.average_cost_gbp)||X(n==null?void 0:n.avg_cost_gbp)||X(n==null?void 0:n.average_cost),o=X(n==null?void 0:n.quantity),l=X(n==null?void 0:n.current_value_gbp)||X(n==null?void 0:n.current_value)||X(n==null?void 0:n.value),c=n==null?void 0:n.total_cost_gbp,h=c!=null?X(c):a*o,u=n==null?void 0:n.unrealized_gain_loss,f=u!=null?X(u):l-h,p=Sr(f,h,n==null?void 0:n.total_return_pct);return{symbol:((x=n==null?void 0:n.security)==null?void 0:x.symbol)||(n==null?void 0:n.symbol)||(n==null?void 0:n.ticker)||"UNKNOWN",name:((y=n==null?void 0:n.security)==null?void 0:y.name)||(n==null?void 0:n.name),quantity:o,averageCostGBP:a,currentValueGBP:l,totalCostGBP:h,unrealizedGainLoss:f,returnPct:p,currency:n==null?void 0:n.currency,raw:n}}):[]},dg=s=>{const e=[],t=new WeakSet,i=[{value:s,path:"root"}];for(;i.length;){const{value:n,path:a}=i.pop();if(!(!n||typeof n!="object")&&!t.has(n)){if(t.add(n),Array.isArray(n)){n.forEach((o,l)=>{i.push({value:o,path:`${a}[${l}]`})});continue}Object.entries(n).forEach(([o,l])=>{const c=`${a}.${o}`;o==="holdings"&&Array.isArray(l)&&l.length?e.push(...l):i.push({value:l,path:c})})}}return e},hg=s=>{var n;const e=lg((n=s==null?void 0:s.portfolio_analysis)==null?void 0:n.market_summaries);if(e.length)return e;const t=cg(s);if(t.length)return t;const i=dg(s);return i.length?i.map(a=>{var y;const o=X(a==null?void 0:a.average_cost_gbp)||X(a==null?void 0:a.avg_cost_gbp)||X(a==null?void 0:a.average_cost),l=X(a==null?void 0:a.quantity),c=X(a==null?void 0:a.current_value_gbp)||X(a==null?void 0:a.current_value)||X(a==null?void 0:a.value),h=a==null?void 0:a.total_cost_gbp,u=h!=null?X(h):o*l,f=a==null?void 0:a.unrealized_gain_loss,p=f!=null?X(f):c-u,x=Sr(p,u,a==null?void 0:a.total_return_pct);return{symbol:$d(a)||"UNKNOWN",name:((y=a==null?void 0:a.security)==null?void 0:y.name)||(a==null?void 0:a.name)||(a==null?void 0:a.security_name)||void 0,quantity:l,averageCostGBP:o,currentValueGBP:c,totalCostGBP:u,unrealizedGainLoss:p,returnPct:x,currency:a==null?void 0:a.currency,raw:a}}):[]},ug=s=>{var l,c,h,u,f,p,x,y,b,_;const e=(s==null?void 0:s.tax_report)||{},t=(s==null?void 0:s.portfolio_report)||{},i=s==null?void 0:s.portfolio_analysis,n=X((c=(l=e==null?void 0:e.summary)==null?void 0:l.estimated_tax_liability)==null?void 0:c.total_estimated_tax)||X((u=(h=e==null?void 0:e.summary)==null?void 0:h.estimated_tax_liability)==null?void 0:u.capital_gains_tax)+X((p=(f=e==null?void 0:e.summary)==null?void 0:f.estimated_tax_liability)==null?void 0:p.dividend_tax)+X((y=(x=e==null?void 0:e.summary)==null?void 0:x.estimated_tax_liability)==null?void 0:y.currency_gains_tax),a=X((b=t==null?void 0:t.grand_total)==null?void 0:b.total_value)||X(i==null?void 0:i.total_portfolio_value),o=X((_=t==null?void 0:t.grand_total)==null?void 0:_.total_return_pct)||(Fd(i==null?void 0:i.total_unrealized_gain_loss_percent)?i.total_unrealized_gain_loss_percent:0);return{totalTaxLiability:n,portfolioValue:a,totalReturnPercent:o}},fg=s=>{var e,t;return typeof(s==null?void 0:s.tax_year)=="string"?s.tax_year:typeof((e=s==null?void 0:s.taxReport)==null?void 0:e.tax_year)=="string"?s.taxReport.tax_year:typeof((t=s==null?void 0:s.tax_report)==null?void 0:t.tax_year)=="string"?s.tax_report.tax_year:null},mg=s=>s==="2024-2025",zd=s=>{const e=rg(s),t=og(s),i=hg(s),n=ug(s),a=fg(s),o=(s==null?void 0:s.portfolio_analysis)||null,l=(s==null?void 0:s.tax_analysis)||null;return{taxYear:a,metrics:n,disposals:e,dividends:t,holdings:i,counts:{disposals:e.length,dividends:t.length,holdings:i.length},showCgtWarning:mg(a),portfolioAnalysis:o,taxAnalysis:l,taxReport:(s==null?void 0:s.tax_report)||null,portfolioReport:(s==null?void 0:s.portfolio_report)||null}},pg=()=>{console.log("[CalculatorPage] Rendering component");const{state:s,dispatch:e}=Ed(),[t,i]=C.useState(null),[n,a]=C.useState("2024-2025"),[o,l]=C.useState("both"),[c,h]=C.useState(!1),[u,f]=C.useState({}),p=()=>{const y={};return t?t.name.match(/\.(csv|qfx)$/i)?t.size>10*1024*1024&&(y.file="File size must be less than 10MB"):y.file="Please select a valid CSV or QFX file":y.file="Please select a file to upload",n||(y.taxYear="Please select a tax year"),o||(y.analysisType="Please select an analysis type"),f(y),Object.keys(y).length===0},x=async y=>{if(y.preventDefault(),!!p()){e({type:"SUBMIT_START"});try{const b=new FormData;b.append("file",t),b.append("tax_year",n),b.append("analysis_type",o);const _=await ng({file:t,taxYear:n,analysisType:o}),w=zd(_.raw);e({type:"SUBMIT_SUCCESS",payload:{raw:_.raw,normalized:w}}),window.location.hash="results"}catch(b){console.error("[CalculatorPage] Submission error:",b),e({type:"SUBMIT_ERROR",payload:b.message||"An error occurred during calculation"})}}};return r.jsx("div",{className:"calculator-page",children:r.jsxs("div",{className:"calculator-content",children:[r.jsx("section",{className:"calculator-hero",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"row justify-content-center",children:r.jsx("div",{className:"col-lg-8 text-center",children:r.jsxs("div",{className:"calculator-hero-content fade-in-up",children:[r.jsx("h1",{className:"mb-4",children:"UK Tax Calculator"}),r.jsx("p",{className:"lead mb-4",children:"Calculate your Capital Gains Tax for informational purposes. This tool follows HMRC guidelines but results are for reference only."}),r.jsx("div",{className:"disclaimer-banner",children:r.jsxs("div",{className:"alert alert-warning border-0 mb-4",children:[r.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),r.jsx("strong",{children:"Important:"})," This calculator is for informational purposes only. You are solely responsible for verifying calculations and submitting accurate information to HMRC. Use at your own risk."]})}),r.jsxs("div",{className:"trust-indicators",children:[r.jsxs("div",{className:"trust-indicator",children:[r.jsx("i",{className:"bi bi-info-circle trust-icon"}),r.jsx("span",{children:"Educational Tool"})]}),r.jsxs("div",{className:"trust-indicator",children:[r.jsx("i",{className:"bi bi-lock-fill trust-icon"}),r.jsx("span",{children:"Private & Secure"})]}),r.jsxs("div",{className:"trust-indicator",children:[r.jsx("i",{className:"bi bi-code-slash trust-icon"}),r.jsx("span",{children:"Open Source"})]}),r.jsxs("div",{className:"trust-indicator",children:[r.jsx("i",{className:"bi bi-clock-fill trust-icon"}),r.jsx("span",{children:"Instant Results"})]})]})]})})})})}),r.jsx("section",{className:"input-requirements-section py-4 mb-4 bg-light",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"row justify-content-center",children:r.jsx("div",{className:"col-lg-10",children:r.jsxs("div",{className:"bg-white p-4 rounded shadow-sm",children:[r.jsxs("h3",{className:"h5 mb-3 text-primary",children:[r.jsx("i",{className:"fas fa-info-circle me-2"}),"Input File Requirements"]}),r.jsx("p",{className:"mb-3 small text-muted",children:"The calculator supports QFX files from Interactive Brokers and CSV files from multiple brokers. Your file should contain all buy/sell transactions for accurate tax calculations."}),r.jsxs("div",{className:"row g-3",children:[r.jsx("div",{className:"col-md-6",children:r.jsxs("div",{className:"border-start border-primary border-4 ps-3",children:[r.jsxs("h6",{className:"fw-bold text-primary mb-2",children:[r.jsx("i",{className:"fas fa-file-code me-1"}),"QFX Format (Interactive Brokers)"]}),r.jsxs("ul",{className:"small mb-2",children:[r.jsx("li",{children:"Export from IBKR Client Portal â†’ Reports â†’ Third-Party Downloads â†’ Quicken"}),r.jsx("li",{children:"Includes currency conversions and fees automatically"}),r.jsx("li",{children:"Handles stock splits and corporate actions"}),r.jsx("li",{children:"Best for comprehensive IBKR accounts"})]}),r.jsx("button",{className:"btn btn-link btn-sm p-0 text-decoration-none",onClick:()=>window.location.hash="guide",children:"Detailed IBKR Export Guide â†’"})]})}),r.jsx("div",{className:"col-md-6",children:r.jsxs("div",{className:"border-start border-success border-4 ps-3",children:[r.jsxs("h6",{className:"fw-bold text-success mb-2",children:[r.jsx("i",{className:"fas fa-file-csv me-1"}),"CSV Format (Multiple Brokers)"]}),r.jsxs("ul",{className:"small mb-2",children:[r.jsx("li",{children:"Works with Sharesight, Hargreaves Lansdown, Fidelity, etc."}),r.jsx("li",{children:"Requires specific column format (see guide below)"}),r.jsx("li",{children:"Manual currency conversion may be needed"}),r.jsx("li",{children:"Good for non-IBKR brokers or custom data"})]}),r.jsx("button",{className:"btn btn-link btn-sm p-0 text-decoration-none",onClick:()=>window.location.hash="guide",children:"CSV Format Specification â†’"})]})})]}),r.jsx("div",{className:"alert alert-warning border-0 mt-3 mb-0",children:r.jsxs("small",{children:[r.jsx("strong",{children:"Important:"})," For accurate results, export data covering complete tax years. Include all transactions (buys, sells, dividends, fees) from your chosen period."]})})]})})})})}),r.jsx("div",{className:"container",children:r.jsx("div",{className:"row justify-content-center",children:r.jsx("div",{className:"col-lg-8 col-xl-7",children:r.jsxs("div",{className:"calculator-form-card p-4 p-md-5 mb-5",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("h2",{className:"h4 mb-2",children:"Upload Your Portfolio Data"}),r.jsx("p",{className:"text-muted",children:"Get started by uploading your transaction file"})]}),r.jsxs("form",{onSubmit:x,children:[r.jsxs("div",{className:"modern-form-field",children:[r.jsxs("label",{className:"modern-form-label",children:[r.jsx("span",{className:"emoji",children:"ðŸ“"}),"Upload Your Portfolio File *"]}),u.file&&r.jsx("div",{className:"alert alert-danger py-2 px-3 mb-3",children:r.jsx("small",{children:u.file})}),r.jsxs("div",{className:"modern-file-upload",onClick:()=>{const y=document.createElement("input");y.type="file",y.accept=".csv,.qfx,.ofx",y.onchange=b=>{var w;const _=b.target;(w=_.files)!=null&&w[0]&&i(_.files[0])},y.click()},children:[r.jsx("div",{className:"file-upload-icon",children:r.jsx("i",{className:"bi bi-cloud-upload"})}),r.jsx("div",{className:"file-upload-text",children:t?"Change File":"Choose File to Upload"}),r.jsx("div",{className:"file-upload-subtext",children:"CSV or QFX files from IBKR, HL, Sharesight, etc. (Max 10MB)"}),r.jsx("button",{className:"btn btn-link btn-sm mt-2",onClick:y=>{y.stopPropagation(),h(!c)},children:"How to get my QFX file from IBKR?"})]}),c&&r.jsx(ag,{}),t&&r.jsxs("div",{className:"selected-file-display",children:[r.jsx("div",{className:"file-icon",children:r.jsx("i",{className:"bi bi-file-earmark-text"})}),r.jsxs("div",{className:"flex-grow-1",children:[r.jsx("div",{className:"fw-semibold",children:t.name}),r.jsxs("div",{className:"text-muted small",children:[(t.size/1024).toFixed(1)," KB â€¢ ",t.type||"Unknown type"]})]}),r.jsx("div",{className:"text-success",children:r.jsx("i",{className:"bi bi-check-circle-fill"})})]})]}),r.jsxs("div",{className:"row",children:[r.jsx("div",{className:"col-md-6",children:r.jsxs("div",{className:"modern-form-field",children:[r.jsxs("label",{className:"modern-form-label",children:[r.jsx("span",{className:"emoji",children:"ðŸ“…"}),"Tax Year *"]}),u.taxYear&&r.jsx("div",{className:"alert alert-danger py-2 px-3 mb-2",children:r.jsx("small",{children:u.taxYear})}),r.jsx(rr,{value:n,onChange:y=>a(y.target.value),disabled:s.status==="submitting",className:"modern-select",options:[{value:"2024-2025",label:"2024-2025"},{value:"2023-2024",label:"2023-2024"},{value:"2022-2023",label:"2022-2023"},{value:"2021-2022",label:"2021-2022"}]})]})}),r.jsx("div",{className:"col-md-6",children:r.jsxs("div",{className:"modern-form-field",children:[r.jsxs("label",{className:"modern-form-label",children:[r.jsx("span",{className:"emoji",children:"ðŸ“Š"}),"Analysis Type *"]}),u.analysisType&&r.jsx("div",{className:"alert alert-danger py-2 px-3 mb-2",children:r.jsx("small",{children:u.analysisType})}),r.jsx(rr,{value:o,onChange:y=>l(y.target.value),disabled:s.status==="submitting",className:"modern-select",options:[{value:"both",label:"Tax & Portfolio Analysis"},{value:"tax",label:"Tax Analysis Only"},{value:"portfolio",label:"Portfolio Analysis Only"}]})]})})]}),r.jsxs("div",{className:"text-center mt-4",children:[r.jsx("button",{type:"submit",className:"calculator-submit-btn w-100",disabled:s.status==="submitting"||!t,children:s.status==="submitting"?r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"bi bi-arrow-repeat me-2 pulse"}),"Calculating Your Tax..."]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"bi bi-calculator me-2"}),"Calculate My Tax & Portfolio"]})}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("small",{className:"text-muted",children:[r.jsx("i",{className:"bi bi-shield-check me-1"}),"Files processed securely & deleted immediately - no data retained"]}),r.jsx("br",{}),r.jsxs("small",{className:"text-warning",children:[r.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),"For educational purposes only - verify all results independently"]})]})]})]}),s.error&&r.jsxs(jt,{variant:"danger",className:"mt-4",children:[r.jsx("strong",{children:"Error:"})," ",s.error]}),s.status==="submitting"&&!s.error&&r.jsxs("div",{className:"text-center mt-4",children:[r.jsx(On,{size:"lg"}),r.jsx("p",{className:"mt-2 text-muted",children:"Analyzing your portfolio..."})]}),s.result&&r.jsxs(jt,{variant:"success",className:"mt-4",children:[r.jsx("strong",{children:"Success!"})," Calculation completed.",r.jsx("a",{href:"#results",className:"alert-link ms-2",children:"View Results â†’"})]})]})})})}),r.jsx("section",{className:"features-section",children:r.jsxs("div",{className:"container",children:[r.jsx("div",{className:"row justify-content-center mb-5",children:r.jsxs("div",{className:"col-lg-8 text-center",children:[r.jsx("h2",{className:"h3 mb-3",children:"Calculator Features"}),r.jsx("p",{className:"text-muted",children:"Free educational tool to help you understand UK tax calculations"})]})}),r.jsxs("div",{className:"row g-4 mb-5",children:[r.jsx("div",{className:"col-md-6 col-lg-3",children:r.jsxs("div",{className:"feature-card text-center",children:[r.jsx("div",{className:"feature-icon mx-auto",children:r.jsx("i",{className:"bi bi-shield-check"})}),r.jsx("h3",{className:"feature-title",children:"HMRC Guidelines"}),r.jsx("p",{className:"feature-description",children:"Follows HMRC guidelines for educational purposes. Always verify calculations independently"})]})}),r.jsx("div",{className:"col-md-6 col-lg-3",children:r.jsxs("div",{className:"feature-card text-center",children:[r.jsx("div",{className:"feature-icon mx-auto",children:r.jsx("i",{className:"bi bi-lightning-charge"})}),r.jsx("h3",{className:"feature-title",children:"Instant Results"}),r.jsx("p",{className:"feature-description",children:"Get detailed tax calculations and portfolio analysis in seconds, not hours"})]})}),r.jsx("div",{className:"col-md-6 col-lg-3",children:r.jsxs("div",{className:"feature-card text-center",children:[r.jsx("div",{className:"feature-icon mx-auto",children:r.jsx("i",{className:"bi bi-lock-fill"})}),r.jsx("h3",{className:"feature-title",children:"Data Privacy"}),r.jsx("p",{className:"feature-description",children:"Files processed securely on AWS and immediately deleted. No personal data is stored or retained"})]})}),r.jsx("div",{className:"col-md-6 col-lg-3",children:r.jsxs("div",{className:"feature-card text-center",children:[r.jsx("div",{className:"feature-icon mx-auto",children:r.jsx("i",{className:"bi bi-file-earmark-text"})}),r.jsx("h3",{className:"feature-title",children:"Multiple Formats"}),r.jsx("p",{className:"feature-description",children:"Support for IBKR QFX files, Sharesight CSV, and other major broker formats"})]})})]}),r.jsx("div",{className:"row justify-content-center",children:r.jsx("div",{className:"col-lg-10",children:r.jsx("div",{className:"disclaimer-section",children:r.jsxs("div",{className:"alert alert-info border-0 p-4",children:[r.jsxs("h4",{className:"alert-heading mb-3",children:[r.jsx("i",{className:"bi bi-info-circle me-2"}),"Important Disclaimers"]}),r.jsxs("div",{className:"row g-4",children:[r.jsx("div",{className:"col-md-6",children:r.jsxs("div",{className:"d-flex",children:[r.jsx("div",{className:"flex-shrink-0 me-3",children:r.jsx("i",{className:"bi bi-exclamation-triangle text-warning"})}),r.jsxs("div",{children:[r.jsx("strong",{children:"Use at Your Own Risk:"})," This calculator is provided for educational purposes only. You are solely responsible for verifying all calculations and ensuring accuracy before submitting to HMRC."]})]})}),r.jsx("div",{className:"col-md-6",children:r.jsxs("div",{className:"d-flex",children:[r.jsx("div",{className:"flex-shrink-0 me-3",children:r.jsx("i",{className:"bi bi-person-check text-primary"})}),r.jsxs("div",{children:[r.jsx("strong",{children:"Professional Advice:"})," Always consult with a qualified tax advisor or accountant for official tax advice and complex situations."]})]})}),r.jsx("div",{className:"col-md-6",children:r.jsxs("div",{className:"d-flex",children:[r.jsx("div",{className:"flex-shrink-0 me-3",children:r.jsx("i",{className:"bi bi-currency-pound text-success"})}),r.jsxs("div",{children:[r.jsx("strong",{children:"Free to Use:"})," This tool is completely free. We earn from affiliate links to tax-related books and resources to keep this service running."]})]})}),r.jsx("div",{className:"col-md-6",children:r.jsxs("div",{className:"d-flex",children:[r.jsx("div",{className:"flex-shrink-0 me-3",children:r.jsx("i",{className:"bi bi-shield-check text-info"})}),r.jsxs("div",{children:[r.jsx("strong",{children:"Data Privacy:"})," Files are processed securely on AWS and immediately deleted. No personal or financial data is stored or retained on our servers."]})]})})]})]})})})})]})}),r.jsx("div",{className:"container",children:r.jsx("div",{className:"row justify-content-center",children:r.jsx("div",{className:"col-lg-10",children:r.jsxs("div",{className:"mt-5",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("h2",{className:"h3 text-dark mb-2",children:"ðŸ“š Recommended Tax Resources"}),r.jsx("p",{className:"text-muted",children:"Enhance your tax knowledge with these expert-recommended guides"})]}),r.jsx(Ot,{category:"tax",limit:3,columns:{xs:1,sm:3,md:3,lg:3,xl:3},showRatings:!0,showCategories:!1,layout:"vertical"})]})})})})]})})},He=({children:s,className:e="",variant:t="primary",size:i="md",disabled:n=!1,loading:a=!1,type:o="button",onClick:l,icon:c,iconPosition:h="left","data-testid":u,...f})=>{const p="btn",x=`btn-${t}`,y=i!=="md"?`btn-${i}`:"",_=[p,x,y,n?"disabled":"",e].filter(Boolean).join(" "),w=A=>{if(n||a){A.preventDefault();return}l==null||l(A)},j=()=>r.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true","data-testid":"loading-spinner"}),S=()=>c?r.jsx("i",{className:`fa ${c} ${s?h==="left"?"me-2":"ms-2":""}`,"data-testid":"button-icon","aria-hidden":"true"}):null,E=()=>{if(a)return j();const A=S();return s?h==="right"?r.jsxs(r.Fragment,{children:[s,A]}):r.jsxs(r.Fragment,{children:[A,s]}):A};return r.jsx("button",{type:o,className:_,disabled:n||a,onClick:w,"aria-disabled":n||a,"aria-busy":a,"data-testid":u,...f,children:E()})};He.displayName="Button";const ut=({children:s,className:e="",title:t,subtitle:i,image:n,imageAlt:a="",bordered:o=!1,hoverable:l=!1,variant:c="default",header:h,footer:u,actions:f,centered:p=!1,...x})=>{const y=["card",o&&"border",l&&"card-hoverable",c!=="default"&&`border-${c}`,e].filter(Boolean).join(" "),b=["card-body",p&&"text-center"].filter(Boolean).join(" "),_=t||h,w=u||f;return r.jsxs("div",{className:y,...x,children:[n&&r.jsx("img",{src:n,alt:a,className:"card-img-top"}),_&&r.jsx("div",{className:"card-header",children:h||r.jsxs(r.Fragment,{children:[t&&r.jsx("h5",{className:"card-title",children:t}),i&&r.jsx("h6",{className:"card-subtitle mb-2 text-muted",children:i})]})}),r.jsx("div",{className:b,children:s}),w&&r.jsxs("div",{className:"card-footer",children:[u,f]})]})},bi=({children:s,variant:e="primary",size:t,pill:i=!1,className:n="",...a})=>{const o=["badge",`bg-${e}`,t&&`badge-${t}`,i&&"rounded-pill",n].filter(Boolean).join(" ");return r.jsx("span",{className:o,...a,children:s})},gg=({portfolioAnalysis:s,className:e=""})=>{const t=(c,h="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:h,minimumFractionDigits:2,maximumFractionDigits:2}).format(c),i=c=>`${c>=0?"+":""}${c.toFixed(2)}%`,n=c=>c>=0?"success":"danger",a=Object.values(s.market_summaries).reduce((c,h)=>c+h.holdings.length,0),o=(c,h)=>{const u=h-c;return u>0?c/u*100:0},l=o(s.total_unrealized_gain_loss||0,s.total_portfolio_value||0);return r.jsxs(ut,{className:`portfolio-summary ${e}`,title:"Portfolio Summary",header:r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-chart-line me-2 text-primary"}),r.jsx("span",{children:"Portfolio Summary"})]}),children:[r.jsxs("div",{className:"row g-3",children:[r.jsx("div",{className:"col-md-4",children:r.jsxs("div",{className:"summary-metric",children:[r.jsx("div",{className:"metric-label text-muted small",children:"Total Portfolio Value"}),r.jsx("div",{className:"metric-value h4 mb-0 text-primary fw-bold",children:t(s.total_portfolio_value)})]})}),r.jsx("div",{className:"col-md-4",children:r.jsxs("div",{className:"summary-metric",children:[r.jsx("div",{className:"metric-label text-muted small",children:"Total Holdings"}),r.jsx("div",{className:"metric-value h4 mb-0 fw-bold",children:a})]})}),r.jsx("div",{className:"col-md-4",children:r.jsxs("div",{className:"summary-metric",children:[r.jsx("div",{className:"metric-label text-muted small",children:"Currencies"}),r.jsx("div",{className:"metric-value",children:Object.keys(s.market_summaries).map(c=>r.jsx(bi,{variant:"outline-secondary",className:"me-1 mb-1",children:c},c))})]})}),r.jsx("div",{className:"col-md-6",children:r.jsxs("div",{className:"summary-metric",children:[r.jsx("div",{className:"metric-label text-muted small",children:"Unrealized Gain/Loss"}),r.jsx("div",{className:"d-flex align-items-center",children:r.jsx("div",{className:`metric-value h5 mb-0 fw-bold text-${n(s.total_unrealized_gain_loss)}`,children:t(s.total_unrealized_gain_loss)})})]})}),r.jsx("div",{className:"col-md-6",children:r.jsxs("div",{className:"summary-metric",children:[r.jsx("div",{className:"metric-label text-muted small",children:"Unrealized Gain/Loss %"}),r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx(bi,{variant:n(l),className:"fs-6",children:i(l)}),r.jsx("i",{className:`fas fa-trending-${l>=0?"up":"down"} ms-2`})]})]})})]}),Object.keys(s.market_summaries).length>1&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("h6",{className:"text-muted mb-3",children:[r.jsx("i",{className:"fas fa-globe me-2"}),"Breakdown by Currency"]}),r.jsx("div",{className:"row g-3",children:Object.entries(s.market_summaries).map(([c,h])=>r.jsx("div",{className:"col-md-6 col-lg-4",children:r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[r.jsx(bi,{variant:"primary",children:c}),r.jsxs("small",{className:"text-muted",children:[h.holdings.length," holdings"]})]}),r.jsx("div",{className:"metric-value h6 mb-1",children:t(h.total_market_value,c)}),r.jsxs("div",{className:`small text-${n(h.total_unrealized_gain_loss)}`,children:[t(h.total_unrealized_gain_loss,c),"(",i(o(h.total_unrealized_gain_loss||0,h.total_market_value||0)),")"]})]})},c))})]})]})},or=(s,e)=>typeof e=="function"?e(s):typeof e=="string"?e.split(".").reduce((t,i)=>t&&t[i]!==void 0?t[i]:"",s):(typeof e=="symbol"||typeof e=="number")&&s[e]||"",xg=(s,e,t)=>{if(!e.column||!e.direction)return s;const i=t.find(n=>n.key===e.column);return!i||!i.accessor?s:[...s].sort((n,a)=>{const o=or(n,i.accessor),l=or(a,i.accessor);if(o==null&&l==null)return 0;if(o==null)return e.direction==="asc"?-1:1;if(l==null)return e.direction==="asc"?1:-1;const c=String(o).toLowerCase(),h=String(l).toLowerCase(),u=Number(o),f=Number(l);return!isNaN(u)&&!isNaN(f)?e.direction==="asc"?u-f:f-u:c<h?e.direction==="asc"?-1:1:c>h?e.direction==="asc"?1:-1:0})},bg=(s,e,t)=>{const i=e*t,n=i+t;return s.slice(i,n)},yg=({currentPage:s,totalPages:e,totalItems:t,pageSize:i,onPageChange:n})=>{if(e<=1)return null;const a=s*i+1,o=Math.min((s+1)*i,t);return r.jsxs("nav",{"aria-label":"Table pagination",className:"d-flex justify-content-between align-items-center mt-3",children:[r.jsxs("div",{className:"text-muted small",children:["Showing ",a," to ",o," of ",t," entries"]}),r.jsxs("ul",{className:"pagination mb-0",children:[r.jsx("li",{className:`page-item ${s===0?"disabled":""}`,children:r.jsx("button",{className:"page-link",onClick:()=>n(s-1),disabled:s===0,"aria-label":"Previous page",children:r.jsx("i",{className:"fas fa-chevron-left","aria-hidden":"true"})})}),Array.from({length:Math.min(5,e)},(l,c)=>{let h;return e<=5||s<3?h=c:s>e-4?h=e-5+c:h=s-2+c,r.jsx("li",{className:`page-item ${s===h?"active":""}`,children:r.jsx("button",{className:"page-link",onClick:()=>n(h),"aria-label":`Go to page ${h+1}`,children:h+1})},h)}),r.jsx("li",{className:`page-item ${s===e-1?"disabled":""}`,children:r.jsx("button",{className:"page-link",onClick:()=>n(s+1),disabled:s===e-1,"aria-label":"Next page",children:r.jsx("i",{className:"fas fa-chevron-right","aria-hidden":"true"})})})]})]})},Tr=({data:s,columns:e,loading:t=!1,emptyMessage:i="No data available",size:n="md",striped:a=!1,bordered:o=!1,hover:l=!1,responsive:c=!0,sortable:h=!1,defaultSort:u,onSort:f,pagination:p=!1,paginationConfig:x,currentPage:y=0,pageSize:b=10,totalItems:_,onPageChange:w,onRowClick:j,rowClassName:S,className:E="",children:A,"data-testid":F,...R})=>{const[O,z]=C.useState(u||{column:null,direction:null}),H=f?u||{column:null,direction:null}:O,V=C.useCallback(K=>{if(!h)return;const M=H.column===K&&H.direction==="asc"?"desc":"asc",Oe={column:K,direction:M};f?f(Oe):z(Oe)},[h,H,f]),Q=C.useMemo(()=>{let K=[...s];return h&&H.column&&H.direction&&(K=xg(K,H,e)),p&&(K=bg(K,y,b)),K},[s,H,e,h,p,y,b]),ye=Math.ceil((_||s.length)/b),ke=["table",n==="sm"&&"table-sm",a&&"table-striped",o&&"table-bordered",l&&"table-hover"].filter(Boolean).join(" "),ie=[c&&"table-responsive",t&&"position-relative opacity-50",E].filter(Boolean).join(" "),re=C.useCallback((K,M)=>{j&&j(K,M)},[j]),pe=K=>{switch(K){case"left":return"text-start";case"center":return"text-center";case"right":return"text-end";default:return""}},Ee=(K,M)=>M?H.column===K?H.direction==="asc"?r.jsx("i",{className:"fas fa-sort-up ms-1","aria-hidden":"true"}):r.jsx("i",{className:"fas fa-sort-down ms-1","aria-hidden":"true"}):r.jsx("i",{className:"fas fa-sort ms-1 text-muted","aria-hidden":"true"}):null,Se=K=>{if(H.column===K)return H.direction==="asc"?"ascending":"descending"};return r.jsxs("div",{className:ie,"data-testid":F,...R,children:[t&&r.jsx("div",{className:"position-absolute top-50 start-50 translate-middle",style:{zIndex:10},children:r.jsx("div",{role:"status","aria-live":"polite","aria-label":"Loading table data",children:r.jsx(On,{size:"lg",text:"Loading data..."})})}),r.jsxs("table",{className:ke,role:"table",children:[r.jsx("thead",{children:r.jsx("tr",{children:e.map(K=>r.jsxs("th",{scope:"col",className:[pe(K.align),K.hiddenOnMobile&&"d-none d-md-table-cell",K.sortable&&h&&"user-select-none cursor-pointer"].filter(Boolean).join(" "),style:{width:K.width},onClick:()=>K.sortable&&V(K.key),"aria-sort":Se(K.key),role:"columnheader",children:[K.header,Ee(K.key,K.sortable&&h)]},K.key))})}),r.jsx("tbody",{children:Q.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:e.length,className:"text-center text-muted py-4",children:t?r.jsx("div",{role:"status","aria-live":"polite","aria-label":"Loading table content",children:r.jsx(On,{size:"sm",text:"Loading..."})}):i})}):Q.map((K,M)=>{const Oe=[j&&"cursor-pointer",S&&S(K,M)].filter(Boolean).join(" ");return r.jsx("tr",{className:Oe,onClick:()=>re(K,M),role:"row",children:e.map(Pe=>{const We=Pe.accessor?or(K,Pe.accessor):"",De=Pe.render?Pe.render(We,K,M):We;return r.jsx("td",{className:[pe(Pe.align),Pe.hiddenOnMobile&&"d-none d-md-table-cell"].filter(Boolean).join(" "),role:"cell",children:De},Pe.key)})},M)})})]}),p&&ye>1&&r.jsx(yg,{currentPage:y,totalPages:ye,totalItems:_||s.length,pageSize:b,onPageChange:w||(()=>{})})]})},vg=({columns:s,...e})=>{const t=[{key:"symbol",header:"Symbol",accessor:i=>i.security.symbol,sortable:!0,width:"120px"},{key:"quantity",header:"Quantity",accessor:"quantity",sortable:!0,align:"right",render:i=>i.toLocaleString("en-GB",{maximumFractionDigits:0})},{key:"average_cost",header:"Avg Cost",accessor:"average_cost_gbp",sortable:!0,align:"right",render:i=>`Â£${i.toLocaleString("en-GB",{minimumFractionDigits:2})}`},{key:"current_value",header:"Current Value",accessor:"current_value_gbp",sortable:!0,align:"right",render:i=>`Â£${i.toLocaleString("en-GB",{minimumFractionDigits:2})}`},{key:"gain_loss",header:"Unrealized Gain/Loss",accessor:"unrealized_gain_loss",sortable:!0,align:"right",render:i=>r.jsxs("span",{className:i>=0?"text-success fw-semibold":"text-danger fw-semibold",children:[i>=0?"+":"","Â£",i.toLocaleString("en-GB",{minimumFractionDigits:2})]})},{key:"return_pct",header:"Return %",accessor:"total_return_pct",sortable:!0,align:"right",render:i=>typeof i=="number"?`${i>=0?"+":""}${i.toFixed(2)}%`:"-"}];return r.jsx(Tr,{columns:s||t,...e})},_g=({columns:s,...e})=>{const t=[{key:"payment_date",header:"Payment Date",accessor:"payment_date",sortable:!0,render:i=>new Date(i).toLocaleDateString("en-GB")},{key:"security",header:"Security",accessor:i=>{const n=i.security.symbol,a=i.security.name;return a&&a!==n?`${a} (${n})`:n},sortable:!0},{key:"gross_amount",header:"Gross Amount",accessor:"amount_gbp",sortable:!0,align:"right",render:i=>`Â£${i.toLocaleString("en-GB",{minimumFractionDigits:2})}`},{key:"withholding_tax",header:"Withholding Tax",accessor:"withholding_tax_gbp",sortable:!0,align:"right",hiddenOnMobile:!0,render:i=>typeof i=="number"?`Â£${i.toLocaleString("en-GB",{minimumFractionDigits:2})}`:"-"},{key:"net_amount",header:"Net Amount",accessor:i=>i.net_amount_gbp||i.amount_gbp-(i.withholding_tax_gbp||0),sortable:!0,align:"right",render:i=>r.jsxs("span",{className:"fw-semibold",children:["Â£",i.toLocaleString("en-GB",{minimumFractionDigits:2})]})}];return r.jsx(Tr,{columns:s||t,...e})},wg=({columns:s,...e})=>{const t=[{key:"disposal_date",header:"Date",accessor:"disposal_date",sortable:!0,render:i=>new Date(i).toLocaleDateString("en-GB")},{key:"symbol",header:"Symbol",accessor:i=>i.security.symbol,sortable:!0,width:"120px"},{key:"quantity",header:"Quantity",accessor:"quantity",sortable:!0,align:"right",render:i=>i.toLocaleString("en-GB",{maximumFractionDigits:0})},{key:"proceeds",header:"Proceeds",accessor:"proceeds",sortable:!0,align:"right",render:i=>`Â£${i.toLocaleString("en-GB",{minimumFractionDigits:2})}`},{key:"cost_basis",header:"Cost Basis",accessor:"cost_basis",sortable:!0,align:"right",hiddenOnMobile:!0,render:i=>`Â£${i.toLocaleString("en-GB",{minimumFractionDigits:2})}`},{key:"gain_loss",header:"Gain/Loss",accessor:"gain_or_loss",sortable:!0,align:"right",render:i=>r.jsxs("span",{className:i>=0?"text-success fw-semibold":"text-danger fw-semibold",children:[i>=0?"+":"","Â£",i.toLocaleString("en-GB",{minimumFractionDigits:2})]})}];return r.jsx(Tr,{columns:s||t,...e})},jg=({marketSummaries:s,holdings:e,className:t=""})=>{const i=Kn.useMemo(()=>{if(Array.isArray(e)&&e.length>0)return e.map(c=>({security:{symbol:c.symbol||"N/A",name:c.name||c.symbol||"N/A"},quantity:c.quantity,average_cost_gbp:c.averageCostGBP||0,current_value_gbp:c.currentValueGBP||0,total_cost_gbp:c.totalCostGBP,unrealized_gain_loss:c.unrealizedGainLoss||0,total_return_pct:c.returnPct}));const l=[];return s&&Object.entries(s).forEach(([,c])=>{c.holdings.forEach(h=>{var _,w;const u=h.symbol||((_=h.security)==null?void 0:_.symbol)||"N/A",f=h.name||((w=h.security)==null?void 0:w.name)||u,p={symbol:u,name:f},x=h.market_value||h.current_value_gbp||0,y=h.average_cost||h.average_cost_gbp||0,b={security:p,quantity:h.quantity,average_cost_gbp:y,current_value_gbp:x,total_cost_gbp:y*h.quantity,unrealized_gain_loss:h.unrealized_gain_loss||0,total_return_pct:h.unrealized_gain_loss_percent||h.total_return_pct||0};l.push(b)})}),l},[s,e]),n=i.reduce((l,c)=>l+c.current_value_gbp,0),a=i.reduce((l,c)=>l+c.unrealized_gain_loss,0),o=[{key:"symbol",header:"Symbol",accessor:l=>l.security.symbol,sortable:!0,width:"120px"},{key:"security",header:"Security",accessor:l=>l.security.name||l.security.symbol,sortable:!0},{key:"quantity",header:"Quantity",accessor:l=>l.quantity,sortable:!0,align:"right",render:l=>l.toLocaleString("en-GB",{maximumFractionDigits:0})},{key:"average_cost",header:"Avg Cost",accessor:l=>l.average_cost_gbp,sortable:!0,align:"right",render:l=>`Â£${l.toLocaleString("en-GB",{minimumFractionDigits:2})}`},{key:"current_value",header:"Current Value",accessor:l=>l.current_value_gbp,sortable:!0,align:"right",render:l=>`Â£${l.toLocaleString("en-GB",{minimumFractionDigits:2})}`},{key:"gain_loss",header:"Gain/Loss",accessor:l=>l.unrealized_gain_loss,sortable:!0,align:"right",render:l=>r.jsxs("span",{className:l>=0?"text-success fw-semibold":"text-danger fw-semibold",children:[l>=0?"+":"","Â£",l.toLocaleString("en-GB",{minimumFractionDigits:2})]})}];return r.jsx(ut,{className:`holdings-table-card ${t}`,title:"Holdings Details",header:r.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap gap-2",children:[r.jsx("div",{className:"d-flex align-items-center",children:r.jsx("h5",{className:"card-title mb-0",children:"Holdings Details"})}),r.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-3",children:[r.jsxs("span",{className:"badge bg-light text-dark",children:[i.length," holdings"]}),r.jsxs("small",{className:"text-muted",children:[r.jsx("strong",{children:"Total Value:"})," Â£",n.toLocaleString("en-GB",{minimumFractionDigits:2})]}),r.jsxs("small",{className:`fw-bold ${a>=0?"text-success":"text-danger"}`,children:[r.jsx("strong",{children:"Total P&L:"})," ",a>=0?"+":"","Â£",a.toLocaleString("en-GB",{minimumFractionDigits:2})]})]})]}),children:r.jsx(vg,{data:i,columns:o,loading:!1,pagination:!0,emptyMessage:"No holdings found",className:"holdings-results-table"})})},kg=({taxCalculations:s,className:e=""})=>{const t=l=>{const c=typeof l=="number"&&isFinite(l)?l:0;return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:2,maximumFractionDigits:2}).format(c)},i=[{label:"Capital Gains Tax",amount:Number(s.capital_gains_tax)||0,description:"Tax on capital gains from share disposals",type:"tax"},{label:"Dividend Tax",amount:Number(s.dividend_tax)||0,description:"Tax on dividend income received",type:"tax"},{label:"Total Tax Liability",amount:Number(s.total_tax_liability)||0,description:"Total tax owed to HMRC",type:"total"}],n=s.total_tax_liability>0,a=s.section_104_pools||{},o=s.disposal_calculations||[];return r.jsxs("div",{className:`tax-calculations ${e}`,children:[r.jsxs(ut,{className:"tax-summary-card mb-4",title:"Tax Summary",header:r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-calculator me-2 text-warning"}),r.jsx("span",{children:"UK Tax Calculations"})]}),children:[n&&r.jsx(jt,{variant:"warning",className:"mb-3",dismissible:!1,children:r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),r.jsxs("div",{children:[r.jsx("strong",{children:"Tax Liability Identified"}),r.jsx("div",{className:"small mt-1",children:"You may need to report these gains and pay tax. Please consult with a tax advisor."})]})]})}),r.jsx("div",{className:"row g-3",children:i.map((l,c)=>r.jsx("div",{className:"col-md-4",children:r.jsxs("div",{className:"tax-item",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"tax-label small text-muted",children:l.label}),l.description&&r.jsx("div",{className:"tax-description small text-muted",children:l.description})]}),r.jsx(bi,{variant:l.type==="total"?l.amount>0?"danger":"success":l.amount>0?"warning":"secondary",className:"ms-2",children:l.amount>0?"Tax Due":"No Tax"})]}),r.jsx("div",{className:`tax-amount h5 mb-0 fw-bold ${l.type==="total"?l.amount>0?"text-danger":"text-success":l.amount>0?"text-warning":"text-muted"}`,children:t(l.amount)})]})},c))})]}),Object.keys(a).length>0&&r.jsxs(ut,{className:"section-104-card mb-4",title:"Section 104 Pools",header:r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-layer-group me-2 text-info"}),r.jsx("span",{children:"Section 104 Pools"})]}),children:[r.jsx("div",{className:"mb-3",children:r.jsx(jt,{variant:"info",dismissible:!1,children:r.jsxs("div",{className:"small",children:[r.jsx("strong",{children:"Section 104 Pools"})," track the average cost of identical shares. These pools are used to calculate capital gains when shares are disposed of."]})})}),r.jsx("div",{className:"row g-3",children:Object.entries(a).map(([l,c],h)=>r.jsx("div",{className:"col-md-6 col-lg-4",children:r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[r.jsx(bi,{variant:"primary",children:l}),r.jsx("small",{className:"text-muted",children:"Pool"})]}),r.jsxs("div",{className:"pool-details",children:[r.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[r.jsx("small",{className:"text-muted",children:"Quantity:"}),r.jsx("small",{className:"fw-semibold",children:c.quantity||0})]}),r.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[r.jsx("small",{className:"text-muted",children:"Total Cost:"}),r.jsx("small",{className:"fw-semibold",children:t(c.total_cost||0)})]}),r.jsxs("div",{className:"d-flex justify-content-between",children:[r.jsx("small",{className:"text-muted",children:"Avg Cost:"}),r.jsx("small",{className:"fw-semibold",children:c.quantity>0?t((c.total_cost||0)/c.quantity):t(0)})]})]})]})},h))})]}),o.length>0&&r.jsxs(ut,{className:"disposal-calculations-card",title:"Disposal Calculations",header:r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-exchange-alt me-2 text-secondary"}),r.jsx("span",{children:"Share Disposals"})]}),children:[r.jsx("div",{className:"mb-3",children:r.jsx(jt,{variant:"info",dismissible:!1,children:r.jsx("div",{className:"small",children:"Detailed calculations for each share disposal, showing gains/losses and tax implications."})})}),r.jsxs("div",{className:"disposal-list",children:[o.slice(0,5).map((l,c)=>r.jsx("div",{className:"disposal-item border-bottom pb-2 mb-2",children:r.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[r.jsxs("div",{children:[r.jsx("div",{className:"fw-semibold",children:l.symbol||"Unknown"}),r.jsx("small",{className:"text-muted",children:l.disposal_date||"Date not available"})]}),r.jsxs("div",{className:"text-end",children:[r.jsxs("div",{className:`fw-semibold ${(l.gain_loss||0)>=0?"text-success":"text-danger"}`,children:[(l.gain_loss||0)>=0?"+":"",t(l.gain_loss||0)]}),r.jsxs("small",{className:"text-muted",children:[l.quantity||0," shares"]})]})]})},c)),o.length>5&&r.jsx("div",{className:"text-center",children:r.jsxs("small",{className:"text-muted",children:["... and ",o.length-5," more disposals"]})})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Oi(s){return s+.5|0}const Vt=(s,e,t)=>Math.max(Math.min(s,t),e);function hi(s){return Vt(Oi(s*2.55),0,255)}function Kt(s){return Vt(Oi(s*255),0,255)}function Pt(s){return Vt(Oi(s/2.55)/100,0,1)}function Bl(s){return Vt(Oi(s*100),0,100)}const nt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},lr=[..."0123456789ABCDEF"],Ng=s=>lr[s&15],Cg=s=>lr[(s&240)>>4]+lr[s&15],dn=s=>(s&240)>>4===(s&15),Sg=s=>dn(s.r)&&dn(s.g)&&dn(s.b)&&dn(s.a);function Tg(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&nt[s[1]]*17,g:255&nt[s[2]]*17,b:255&nt[s[3]]*17,a:e===5?nt[s[4]]*17:255}:(e===7||e===9)&&(t={r:nt[s[1]]<<4|nt[s[2]],g:nt[s[3]]<<4|nt[s[4]],b:nt[s[5]]<<4|nt[s[6]],a:e===9?nt[s[7]]<<4|nt[s[8]]:255})),t}const Ag=(s,e)=>s<255?e(s):"";function Mg(s){var e=Sg(s)?Ng:Cg;return s?"#"+e(s.r)+e(s.g)+e(s.b)+Ag(s.a,e):void 0}const Eg=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bd(s,e,t){const i=e*Math.min(t,1-t),n=(a,o=(a+s/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function Dg(s,e,t){const i=(n,a=(n+s/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Pg(s,e,t){const i=Bd(s,1,.5);let n;for(e+t>1&&(n=1/(e+t),e*=n,t*=n),n=0;n<3;n++)i[n]*=1-e-t,i[n]+=e;return i}function Lg(s,e,t,i,n){return s===n?(e-t)/i+(e<t?6:0):e===n?(t-s)/i+2:(s-e)/i+4}function Ar(s){const t=s.r/255,i=s.g/255,n=s.b/255,a=Math.max(t,i,n),o=Math.min(t,i,n),l=(a+o)/2;let c,h,u;return a!==o&&(u=a-o,h=l>.5?u/(2-a-o):u/(a+o),c=Lg(t,i,n,u,a),c=c*60+.5),[c|0,h||0,l]}function Mr(s,e,t,i){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,i)).map(Kt)}function Er(s,e,t){return Mr(Bd,s,e,t)}function Rg(s,e,t){return Mr(Pg,s,e,t)}function Og(s,e,t){return Mr(Dg,s,e,t)}function Hd(s){return(s%360+360)%360}function Ig(s){const e=Eg.exec(s);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?hi(+e[5]):Kt(+e[5]));const n=Hd(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=Rg(n,a,o):e[1]==="hsv"?i=Og(n,a,o):i=Er(n,a,o),{r:i[0],g:i[1],b:i[2],a:t}}function Fg(s,e){var t=Ar(s);t[0]=Hd(t[0]+e),t=Er(t),s.r=t[0],s.g=t[1],s.b=t[2]}function $g(s){if(!s)return;const e=Ar(s),t=e[0],i=Bl(e[1]),n=Bl(e[2]);return s.a<255?`hsla(${t}, ${i}%, ${n}%, ${Pt(s.a)})`:`hsl(${t}, ${i}%, ${n}%)`}const Hl={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Wl={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zg(){const s={},e=Object.keys(Wl),t=Object.keys(Hl);let i,n,a,o,l;for(i=0;i<e.length;i++){for(o=l=e[i],n=0;n<t.length;n++)a=t[n],l=l.replace(a,Hl[a]);a=parseInt(Wl[o],16),s[l]=[a>>16&255,a>>8&255,a&255]}return s}let hn;function Bg(s){hn||(hn=zg(),hn.transparent=[0,0,0,0]);const e=hn[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Hg=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Wg(s){const e=Hg.exec(s);let t=255,i,n,a;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?hi(o):Vt(o*255,0,255)}return i=+e[1],n=+e[3],a=+e[5],i=255&(e[2]?hi(i):Vt(i,0,255)),n=255&(e[4]?hi(n):Vt(n,0,255)),a=255&(e[6]?hi(a):Vt(a,0,255)),{r:i,g:n,b:a,a:t}}}function Ug(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Pt(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Ha=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,$s=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function Vg(s,e,t){const i=$s(Pt(s.r)),n=$s(Pt(s.g)),a=$s(Pt(s.b));return{r:Kt(Ha(i+t*($s(Pt(e.r))-i))),g:Kt(Ha(n+t*($s(Pt(e.g))-n))),b:Kt(Ha(a+t*($s(Pt(e.b))-a))),a:s.a+t*(e.a-s.a)}}function un(s,e,t){if(s){let i=Ar(s);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Er(i),s.r=i[0],s.g=i[1],s.b=i[2]}}function Wd(s,e){return s&&Object.assign(e||{},s)}function Ul(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=Kt(s[3]))):(e=Wd(s,{r:0,g:0,b:0,a:1}),e.a=Kt(e.a)),e}function Gg(s){return s.charAt(0)==="r"?Wg(s):Ig(s)}class Ci{constructor(e){if(e instanceof Ci)return e;const t=typeof e;let i;t==="object"?i=Ul(e):t==="string"&&(i=Tg(e)||Bg(e)||Gg(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Wd(this._rgb);return e&&(e.a=Pt(e.a)),e}set rgb(e){this._rgb=Ul(e)}rgbString(){return this._valid?Ug(this._rgb):void 0}hexString(){return this._valid?Mg(this._rgb):void 0}hslString(){return this._valid?$g(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,n=e.rgb;let a;const o=t===a?.5:t,l=2*o-1,c=i.a-n.a,h=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;a=1-h,i.r=255&h*i.r+a*n.r+.5,i.g=255&h*i.g+a*n.g+.5,i.b=255&h*i.b+a*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=Vg(this._rgb,e._rgb,t)),this}clone(){return new Ci(this.rgb)}alpha(e){return this._rgb.a=Kt(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Oi(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return un(this._rgb,2,e),this}darken(e){return un(this._rgb,2,-e),this}saturate(e){return un(this._rgb,1,e),this}desaturate(e){return un(this._rgb,1,-e),this}rotate(e){return Fg(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function At(){}const Yg=(()=>{let s=0;return()=>s++})();function xe(s){return s==null}function Te(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ne(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function rt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function bt(s,e){return rt(s)?s:e}function ee(s,e){return typeof s>"u"?e:s}const qg=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,Ud=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function ve(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function ce(s,e,t,i){let n,a,o;if(Te(s))for(a=s.length,n=0;n<a;n++)e.call(t,s[n],n);else if(ne(s))for(o=Object.keys(s),a=o.length,n=0;n<a;n++)e.call(t,s[o[n]],o[n])}function In(s,e){let t,i,n,a;if(!s||!e||s.length!==e.length)return!1;for(t=0,i=s.length;t<i;++t)if(n=s[t],a=e[t],n.datasetIndex!==a.datasetIndex||n.index!==a.index)return!1;return!0}function Fn(s){if(Te(s))return s.map(Fn);if(ne(s)){const e=Object.create(null),t=Object.keys(s),i=t.length;let n=0;for(;n<i;++n)e[t[n]]=Fn(s[t[n]]);return e}return s}function Vd(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function Kg(s,e,t,i){if(!Vd(s))return;const n=e[s],a=t[s];ne(n)&&ne(a)?Si(n,a,i):e[s]=Fn(a)}function Si(s,e,t){const i=Te(e)?e:[e],n=i.length;if(!ne(s))return s;t=t||{};const a=t.merger||Kg;let o;for(let l=0;l<n;++l){if(o=i[l],!ne(o))continue;const c=Object.keys(o);for(let h=0,u=c.length;h<u;++h)a(c[h],s,o,t)}return s}function yi(s,e){return Si(s,e,{merger:Xg})}function Xg(s,e,t){if(!Vd(s))return;const i=e[s],n=t[s];ne(i)&&ne(n)?yi(i,n):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=Fn(n))}const Vl={"":s=>s,x:s=>s.x,y:s=>s.y};function Qg(s){const e=s.split("."),t=[];let i="";for(const n of e)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Zg(s){const e=Qg(s);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function gs(s,e){return(Vl[e]||(Vl[e]=Zg(e)))(s)}function Dr(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Ti=s=>typeof s<"u",Xt=s=>typeof s=="function",Gl=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function Jg(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const de=Math.PI,je=2*de,ex=je+de,$n=Number.POSITIVE_INFINITY,tx=de/180,Ae=de/2,cs=de/4,Yl=de*2/3,Gd=Math.log10,kt=Math.sign;function vi(s,e,t){return Math.abs(s-e)<t}function ql(s){const e=Math.round(s);s=vi(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(Gd(s))),i=s/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function sx(s){const e=[],t=Math.sqrt(s);let i;for(i=1;i<t;i++)s%i===0&&(e.push(i),e.push(s/i));return t===(t|0)&&e.push(t),e.sort((n,a)=>n-a).pop(),e}function ix(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function zn(s){return!ix(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function nx(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function ax(s,e,t){let i,n,a;for(i=0,n=s.length;i<n;i++)a=s[i][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Lt(s){return s*(de/180)}function rx(s){return s*(180/de)}function Kl(s){if(!rt(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function Yd(s,e){const t=e.x-s.x,i=e.y-s.y,n=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*de&&(a+=je),{angle:a,distance:n}}function cr(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function ox(s,e){return(s-e+ex)%je-de}function ht(s){return(s%je+je)%je}function Ai(s,e,t,i){const n=ht(s),a=ht(e),o=ht(t),l=ht(a-n),c=ht(o-n),h=ht(n-a),u=ht(n-o);return n===a||n===o||i&&a===o||l>c&&h<u}function Ge(s,e,t){return Math.max(e,Math.min(t,s))}function lx(s){return Ge(s,-32768,32767)}function Gt(s,e,t,i=1e-6){return s>=Math.min(e,t)-i&&s<=Math.max(e,t)+i}function Pr(s,e,t){t=t||(o=>s[o]<e);let i=s.length-1,n=0,a;for(;i-n>1;)a=n+i>>1,t(a)?n=a:i=a;return{lo:n,hi:i}}const dr=(s,e,t,i)=>Pr(s,t,i?n=>{const a=s[n][e];return a<t||a===t&&s[n+1][e]===t}:n=>s[n][e]<t),cx=(s,e,t)=>Pr(s,t,i=>s[i][e]>=t);function dx(s,e,t){let i=0,n=s.length;for(;i<n&&s[i]<e;)i++;for(;n>i&&s[n-1]>t;)n--;return i>0||n<s.length?s.slice(i,n):s}const qd=["push","pop","shift","splice","unshift"];function hx(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),qd.forEach(t=>{const i="_onData"+Dr(t),n=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...a){const o=n.apply(this,a);return s._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...a)}),o}})})}function Xl(s,e){const t=s._chartjs;if(!t)return;const i=t.listeners,n=i.indexOf(e);n!==-1&&i.splice(n,1),!(i.length>0)&&(qd.forEach(a=>{delete s[a]}),delete s._chartjs)}function Kd(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const Xd=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function Qd(s,e){let t=[],i=!1;return function(...n){t=n,i||(i=!0,Xd.call(window,()=>{i=!1,s.apply(e,t)}))}}function ux(s,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(s,e,i)):s.apply(this,i),e}}const Lr=s=>s==="start"?"left":s==="end"?"right":"center",Le=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,fx=(s,e,t,i)=>s===(i?"left":"right")?t:s==="center"?(e+t)/2:e,fn=s=>s===0||s===1,Ql=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*je/t)),Zl=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*je/t)+1,_i={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Ae)+1,easeOutSine:s=>Math.sin(s*Ae),easeInOutSine:s=>-.5*(Math.cos(de*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>fn(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>fn(s)?s:Ql(s,.075,.3),easeOutElastic:s=>fn(s)?s:Zl(s,.075,.3),easeInOutElastic(s){return fn(s)?s:s<.5?.5*Ql(s*2,.1125,.45):.5+.5*Zl(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-_i.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?_i.easeInBounce(s*2)*.5:_i.easeOutBounce(s*2-1)*.5+.5};function Rr(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Jl(s){return Rr(s)?s:new Ci(s)}function Wa(s){return Rr(s)?s:new Ci(s).saturate(.5).darken(.1).hexString()}const mx=["x","y","borderWidth","radius","tension"],px=["color","borderColor","backgroundColor"];function gx(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:px},numbers:{type:"number",properties:mx}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xx(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ec=new Map;function bx(s,e){e=e||{};const t=s+JSON.stringify(e);let i=ec.get(t);return i||(i=new Intl.NumberFormat(s,e),ec.set(t,i)),i}function Or(s,e,t){return bx(e,t).format(s)}const yx={values(s){return Te(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const i=this.chart.options.locale;let n,a=s;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(n="scientific"),a=vx(s,t)}const o=Gd(Math.abs(a)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:n,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Or(s,i,c)}};function vx(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var Zd={formatters:yx};function _x(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const xs=Object.create(null),hr=Object.create(null);function wi(s,e){if(!e)return s;const t=e.split(".");for(let i=0,n=t.length;i<n;++i){const a=t[i];s=s[a]||(s[a]=Object.create(null))}return s}function Ua(s,e,t){return typeof e=="string"?Si(wi(s,e),t):Si(wi(s,""),e)}class wx{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>Wa(n.backgroundColor),this.hoverBorderColor=(i,n)=>Wa(n.borderColor),this.hoverColor=(i,n)=>Wa(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ua(this,e,t)}get(e){return wi(this,e)}describe(e,t){return Ua(hr,e,t)}override(e,t){return Ua(xs,e,t)}route(e,t,i,n){const a=wi(this,e),o=wi(this,i),l="_"+t;Object.defineProperties(a,{[l]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],h=o[n];return ne(c)?Object.assign({},h,c):ee(c,h)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var Ce=new wx({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[gx,xx,_x]);function jx(s){return!s||xe(s.size)||xe(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function tc(s,e,t,i,n){let a=e[n];return a||(a=e[n]=s.measureText(n).width,t.push(n)),a>i&&(i=a),i}function ds(s,e,t){const i=s.currentDevicePixelRatio,n=t!==0?Math.max(t/2,.5):0;return Math.round((e-n)*i)/i+n}function sc(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function ur(s,e,t,i){Jd(s,e,t,i,null)}function Jd(s,e,t,i,n){let a,o,l,c,h,u,f,p;const x=e.pointStyle,y=e.rotation,b=e.radius;let _=(y||0)*tx;if(x&&typeof x=="object"&&(a=x.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){s.save(),s.translate(t,i),s.rotate(_),s.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),s.restore();return}if(!(isNaN(b)||b<=0)){switch(s.beginPath(),x){default:n?s.ellipse(t,i,n/2,b,0,0,je):s.arc(t,i,b,0,je),s.closePath();break;case"triangle":u=n?n/2:b,s.moveTo(t+Math.sin(_)*u,i-Math.cos(_)*b),_+=Yl,s.lineTo(t+Math.sin(_)*u,i-Math.cos(_)*b),_+=Yl,s.lineTo(t+Math.sin(_)*u,i-Math.cos(_)*b),s.closePath();break;case"rectRounded":h=b*.516,c=b-h,o=Math.cos(_+cs)*c,f=Math.cos(_+cs)*(n?n/2-h:c),l=Math.sin(_+cs)*c,p=Math.sin(_+cs)*(n?n/2-h:c),s.arc(t-f,i-l,h,_-de,_-Ae),s.arc(t+p,i-o,h,_-Ae,_),s.arc(t+f,i+l,h,_,_+Ae),s.arc(t-p,i+o,h,_+Ae,_+de),s.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*b,u=n?n/2:c,s.rect(t-u,i-c,2*u,2*c);break}_+=cs;case"rectRot":f=Math.cos(_)*(n?n/2:b),o=Math.cos(_)*b,l=Math.sin(_)*b,p=Math.sin(_)*(n?n/2:b),s.moveTo(t-f,i-l),s.lineTo(t+p,i-o),s.lineTo(t+f,i+l),s.lineTo(t-p,i+o),s.closePath();break;case"crossRot":_+=cs;case"cross":f=Math.cos(_)*(n?n/2:b),o=Math.cos(_)*b,l=Math.sin(_)*b,p=Math.sin(_)*(n?n/2:b),s.moveTo(t-f,i-l),s.lineTo(t+f,i+l),s.moveTo(t+p,i-o),s.lineTo(t-p,i+o);break;case"star":f=Math.cos(_)*(n?n/2:b),o=Math.cos(_)*b,l=Math.sin(_)*b,p=Math.sin(_)*(n?n/2:b),s.moveTo(t-f,i-l),s.lineTo(t+f,i+l),s.moveTo(t+p,i-o),s.lineTo(t-p,i+o),_+=cs,f=Math.cos(_)*(n?n/2:b),o=Math.cos(_)*b,l=Math.sin(_)*b,p=Math.sin(_)*(n?n/2:b),s.moveTo(t-f,i-l),s.lineTo(t+f,i+l),s.moveTo(t+p,i-o),s.lineTo(t-p,i+o);break;case"line":o=n?n/2:Math.cos(_)*b,l=Math.sin(_)*b,s.moveTo(t-o,i-l),s.lineTo(t+o,i+l);break;case"dash":s.moveTo(t,i),s.lineTo(t+Math.cos(_)*(n?n/2:b),i+Math.sin(_)*b);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function Mi(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function Ir(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function Fr(s){s.restore()}function kx(s,e,t,i,n){if(!e)return s.lineTo(t.x,t.y);if(n==="middle"){const a=(e.x+t.x)/2;s.lineTo(a,e.y),s.lineTo(a,t.y)}else n==="after"!=!!i?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function Nx(s,e,t,i){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function Cx(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),xe(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function Sx(s,e,t,i,n){if(n.strikethrough||n.underline){const a=s.measureText(i),o=e-a.actualBoundingBoxLeft,l=e+a.actualBoundingBoxRight,c=t-a.actualBoundingBoxAscent,h=t+a.actualBoundingBoxDescent,u=n.strikethrough?(c+h)/2:h;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=n.decorationWidth||2,s.moveTo(o,u),s.lineTo(l,u),s.stroke()}}function Tx(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function Ei(s,e,t,i,n,a={}){const o=Te(e)?e:[e],l=a.strokeWidth>0&&a.strokeColor!=="";let c,h;for(s.save(),s.font=n.string,Cx(s,a),c=0;c<o.length;++c)h=o[c],a.backdrop&&Tx(s,a.backdrop),l&&(a.strokeColor&&(s.strokeStyle=a.strokeColor),xe(a.strokeWidth)||(s.lineWidth=a.strokeWidth),s.strokeText(h,t,i,a.maxWidth)),s.fillText(h,t,i,a.maxWidth),Sx(s,t,i,h,a),i+=Number(n.lineHeight);s.restore()}function Bn(s,e){const{x:t,y:i,w:n,h:a,radius:o}=e;s.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*de,de,!0),s.lineTo(t,i+a-o.bottomLeft),s.arc(t+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,de,Ae,!0),s.lineTo(t+n-o.bottomRight,i+a),s.arc(t+n-o.bottomRight,i+a-o.bottomRight,o.bottomRight,Ae,0,!0),s.lineTo(t+n,i+o.topRight),s.arc(t+n-o.topRight,i+o.topRight,o.topRight,0,-Ae,!0),s.lineTo(t+o.topLeft,i)}const Ax=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Mx=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ex(s,e){const t=(""+s).match(Ax);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const Dx=s=>+s||0;function $r(s,e){const t={},i=ne(e),n=i?Object.keys(e):e,a=ne(s)?i?o=>ee(s[o],s[e[o]]):o=>s[o]:()=>s;for(const o of n)t[o]=Dx(a(o));return t}function eh(s){return $r(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Bs(s){return $r(s,["topLeft","topRight","bottomLeft","bottomRight"])}function ot(s){const e=eh(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Re(s,e){s=s||{},e=e||Ce.font;let t=ee(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=ee(s.style,e.style);i&&!(""+i).match(Mx)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:ee(s.family,e.family),lineHeight:Ex(ee(s.lineHeight,e.lineHeight),t),size:t,style:i,weight:ee(s.weight,e.weight),string:""};return n.string=jx(n),n}function mn(s,e,t,i){let n,a,o;for(n=0,a=s.length;n<a;++n)if(o=s[n],o!==void 0&&o!==void 0)return o}function Px(s,e,t){const{min:i,max:n}=s,a=Ud(e,(n-i)/2),o=(l,c)=>t&&l===0?0:l+c;return{min:o(i,-Math.abs(a)),max:o(n,a)}}function _s(s,e){return Object.assign(Object.create(s),e)}function zr(s,e=[""],t,i,n=()=>s[0]){const a=t||s;typeof i>"u"&&(i=nh("_fallback",s));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:a,_fallback:i,_getTarget:n,override:l=>zr([l,...s],e,a,i)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete s[0][c],!0},get(l,c){return sh(l,c,()=>Bx(c,e,s,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,c){return nc(l).includes(c)},ownKeys(l){return nc(l)},set(l,c,h){const u=l._storage||(l._storage=n());return l[c]=u[c]=h,delete l._keys,!0}})}function Us(s,e,t,i){const n={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:th(s,i),setContext:a=>Us(s,a,t,i),override:a=>Us(s.override(a),e,t,i)};return new Proxy(n,{deleteProperty(a,o){return delete a[o],delete s[o],!0},get(a,o,l){return sh(a,o,()=>Rx(a,o,l))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(s,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,o)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(a,o){return Reflect.has(s,o)},ownKeys(){return Reflect.ownKeys(s)},set(a,o,l){return s[o]=l,delete a[o],!0}})}function th(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:n=e.allKeys}=s;return{allKeys:n,scriptable:t,indexable:i,isScriptable:Xt(t)?t:()=>t,isIndexable:Xt(i)?i:()=>i}}const Lx=(s,e)=>s?s+Dr(e):e,Br=(s,e)=>ne(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function sh(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const i=t();return s[e]=i,i}function Rx(s,e,t){const{_proxy:i,_context:n,_subProxy:a,_descriptors:o}=s;let l=i[e];return Xt(l)&&o.isScriptable(e)&&(l=Ox(e,l,s,t)),Te(l)&&l.length&&(l=Ix(e,l,s,o.isIndexable)),Br(e,l)&&(l=Us(l,n,a&&a[e],o)),l}function Ox(s,e,t,i){const{_proxy:n,_context:a,_subProxy:o,_stack:l}=t;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let c=e(a,o||i);return l.delete(s),Br(s,c)&&(c=Hr(n._scopes,n,s,c)),c}function Ix(s,e,t,i){const{_proxy:n,_context:a,_subProxy:o,_descriptors:l}=t;if(typeof a.index<"u"&&i(s))return e[a.index%e.length];if(ne(e[0])){const c=e,h=n._scopes.filter(u=>u!==c);e=[];for(const u of c){const f=Hr(h,n,s,u);e.push(Us(f,a,o&&o[s],l))}}return e}function ih(s,e,t){return Xt(s)?s(e,t):s}const Fx=(s,e)=>s===!0?e:typeof s=="string"?gs(e,s):void 0;function $x(s,e,t,i,n){for(const a of e){const o=Fx(t,a);if(o){s.add(o);const l=ih(o._fallback,t,n);if(typeof l<"u"&&l!==t&&l!==i)return l}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function Hr(s,e,t,i){const n=e._rootScopes,a=ih(e._fallback,t,i),o=[...s,...n],l=new Set;l.add(i);let c=ic(l,o,t,a||t,i);return c===null||typeof a<"u"&&a!==t&&(c=ic(l,o,a,c,i),c===null)?!1:zr(Array.from(l),[""],n,a,()=>zx(e,t,i))}function ic(s,e,t,i,n){for(;t;)t=$x(s,e,t,i,n);return t}function zx(s,e,t){const i=s._getTarget();e in i||(i[e]={});const n=i[e];return Te(n)&&ne(t)?t:n||{}}function Bx(s,e,t,i){let n;for(const a of e)if(n=nh(Lx(a,s),t),typeof n<"u")return Br(s,n)?Hr(t,i,s,n):n}function nh(s,e){for(const t of e){if(!t)continue;const i=t[s];if(typeof i<"u")return i}}function nc(s){let e=s._keys;return e||(e=s._keys=Hx(s._scopes)),e}function Hx(s){const e=new Set;for(const t of s)for(const i of Object.keys(t).filter(n=>!n.startsWith("_")))e.add(i);return Array.from(e)}const Wx=Number.EPSILON||1e-14,Vs=(s,e)=>e<s.length&&!s[e].skip&&s[e],ah=s=>s==="x"?"y":"x";function Ux(s,e,t,i){const n=s.skip?e:s,a=e,o=t.skip?e:t,l=cr(a,n),c=cr(o,a);let h=l/(l+c),u=c/(l+c);h=isNaN(h)?0:h,u=isNaN(u)?0:u;const f=i*h,p=i*u;return{previous:{x:a.x-f*(o.x-n.x),y:a.y-f*(o.y-n.y)},next:{x:a.x+p*(o.x-n.x),y:a.y+p*(o.y-n.y)}}}function Vx(s,e,t){const i=s.length;let n,a,o,l,c,h=Vs(s,0);for(let u=0;u<i-1;++u)if(c=h,h=Vs(s,u+1),!(!c||!h)){if(vi(e[u],0,Wx)){t[u]=t[u+1]=0;continue}n=t[u]/e[u],a=t[u+1]/e[u],l=Math.pow(n,2)+Math.pow(a,2),!(l<=9)&&(o=3/Math.sqrt(l),t[u]=n*o*e[u],t[u+1]=a*o*e[u])}}function Gx(s,e,t="x"){const i=ah(t),n=s.length;let a,o,l,c=Vs(s,0);for(let h=0;h<n;++h){if(o=l,l=c,c=Vs(s,h+1),!l)continue;const u=l[t],f=l[i];o&&(a=(u-o[t])/3,l[`cp1${t}`]=u-a,l[`cp1${i}`]=f-a*e[h]),c&&(a=(c[t]-u)/3,l[`cp2${t}`]=u+a,l[`cp2${i}`]=f+a*e[h])}}function Yx(s,e="x"){const t=ah(e),i=s.length,n=Array(i).fill(0),a=Array(i);let o,l,c,h=Vs(s,0);for(o=0;o<i;++o)if(l=c,c=h,h=Vs(s,o+1),!!c){if(h){const u=h[e]-c[e];n[o]=u!==0?(h[t]-c[t])/u:0}a[o]=l?h?kt(n[o-1])!==kt(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}Vx(s,n,a),Gx(s,a,e)}function pn(s,e,t){return Math.max(Math.min(s,t),e)}function qx(s,e){let t,i,n,a,o,l=Mi(s[0],e);for(t=0,i=s.length;t<i;++t)o=a,a=l,l=t<i-1&&Mi(s[t+1],e),a&&(n=s[t],o&&(n.cp1x=pn(n.cp1x,e.left,e.right),n.cp1y=pn(n.cp1y,e.top,e.bottom)),l&&(n.cp2x=pn(n.cp2x,e.left,e.right),n.cp2y=pn(n.cp2y,e.top,e.bottom)))}function Kx(s,e,t,i,n){let a,o,l,c;if(e.spanGaps&&(s=s.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")Yx(s,n);else{let h=i?s[s.length-1]:s[0];for(a=0,o=s.length;a<o;++a)l=s[a],c=Ux(h,l,s[Math.min(a+1,o-(i?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,h=l}e.capBezierPoints&&qx(s,t)}function Wr(){return typeof window<"u"&&typeof document<"u"}function Ur(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Hn(s,e,t){let i;return typeof s=="string"?(i=parseInt(s,10),s.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=s,i}const Jn=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function Xx(s,e){return Jn(s).getPropertyValue(e)}const Qx=["top","right","bottom","left"];function ps(s,e,t){const i={};t=t?"-"+t:"";for(let n=0;n<4;n++){const a=Qx[n];i[a]=parseFloat(s[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Zx=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function Jx(s,e){const t=s.touches,i=t&&t.length?t[0]:s,{offsetX:n,offsetY:a}=i;let o=!1,l,c;if(Zx(n,a,s.target))l=n,c=a;else{const h=e.getBoundingClientRect();l=i.clientX-h.left,c=i.clientY-h.top,o=!0}return{x:l,y:c,box:o}}function us(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:i}=e,n=Jn(t),a=n.boxSizing==="border-box",o=ps(n,"padding"),l=ps(n,"border","width"),{x:c,y:h,box:u}=Jx(s,t),f=o.left+(u&&l.left),p=o.top+(u&&l.top);let{width:x,height:y}=e;return a&&(x-=o.width+l.width,y-=o.height+l.height),{x:Math.round((c-f)/x*t.width/i),y:Math.round((h-p)/y*t.height/i)}}function eb(s,e,t){let i,n;if(e===void 0||t===void 0){const a=s&&Ur(s);if(!a)e=s.clientWidth,t=s.clientHeight;else{const o=a.getBoundingClientRect(),l=Jn(a),c=ps(l,"border","width"),h=ps(l,"padding");e=o.width-h.width-c.width,t=o.height-h.height-c.height,i=Hn(l.maxWidth,a,"clientWidth"),n=Hn(l.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||$n,maxHeight:n||$n}}const gn=s=>Math.round(s*10)/10;function tb(s,e,t,i){const n=Jn(s),a=ps(n,"margin"),o=Hn(n.maxWidth,s,"clientWidth")||$n,l=Hn(n.maxHeight,s,"clientHeight")||$n,c=eb(s,e,t);let{width:h,height:u}=c;if(n.boxSizing==="content-box"){const p=ps(n,"border","width"),x=ps(n,"padding");h-=x.width+p.width,u-=x.height+p.height}return h=Math.max(0,h-a.width),u=Math.max(0,i?h/i:u-a.height),h=gn(Math.min(h,o,c.maxWidth)),u=gn(Math.min(u,l,c.maxHeight)),h&&!u&&(u=gn(h/2)),(e!==void 0||t!==void 0)&&i&&c.height&&u>c.height&&(u=c.height,h=gn(Math.floor(u*i))),{width:h,height:u}}function ac(s,e,t){const i=e||1,n=Math.floor(s.height*i),a=Math.floor(s.width*i);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const o=s.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${s.height}px`,o.style.width=`${s.width}px`),s.currentDevicePixelRatio!==i||o.height!==n||o.width!==a?(s.currentDevicePixelRatio=i,o.height=n,o.width=a,s.ctx.setTransform(i,0,0,i,0,0),!0):!1}const sb=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};Wr()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function rc(s,e){const t=Xx(s,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function fs(s,e,t,i){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function ib(s,e,t,i){return{x:s.x+t*(e.x-s.x),y:i==="middle"?t<.5?s.y:e.y:i==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function nb(s,e,t,i){const n={x:s.cp2x,y:s.cp2y},a={x:e.cp1x,y:e.cp1y},o=fs(s,n,t),l=fs(n,a,t),c=fs(a,e,t),h=fs(o,l,t),u=fs(l,c,t);return fs(h,u,t)}const ab=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},rb=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function Hs(s,e,t){return s?ab(e,t):rb()}function rh(s,e){let t,i;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=i)}function oh(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function lh(s){return s==="angle"?{between:Ai,compare:ox,normalize:ht}:{between:Gt,compare:(e,t)=>e-t,normalize:e=>e}}function oc({start:s,end:e,count:t,loop:i,style:n}){return{start:s%t,end:e%t,loop:i&&(e-s+1)%t===0,style:n}}function ob(s,e,t){const{property:i,start:n,end:a}=t,{between:o,normalize:l}=lh(i),c=e.length;let{start:h,end:u,loop:f}=s,p,x;if(f){for(h+=c,u+=c,p=0,x=c;p<x&&o(l(e[h%c][i]),n,a);++p)h--,u--;h%=c,u%=c}return u<h&&(u+=c),{start:h,end:u,loop:f,style:s.style}}function lb(s,e,t){if(!t)return[s];const{property:i,start:n,end:a}=t,o=e.length,{compare:l,between:c,normalize:h}=lh(i),{start:u,end:f,loop:p,style:x}=ob(s,e,t),y=[];let b=!1,_=null,w,j,S;const E=()=>c(n,S,w)&&l(n,S)!==0,A=()=>l(a,w)===0||c(a,S,w),F=()=>b||E(),R=()=>!b||A();for(let O=u,z=u;O<=f;++O)j=e[O%o],!j.skip&&(w=h(j[i]),w!==S&&(b=c(w,n,a),_===null&&F()&&(_=l(w,n)===0?O:z),_!==null&&R()&&(y.push(oc({start:_,end:O,loop:p,count:o,style:x})),_=null),z=O,S=w));return _!==null&&y.push(oc({start:_,end:f,loop:p,count:o,style:x})),y}function cb(s,e){const t=[],i=s.segments;for(let n=0;n<i.length;n++){const a=lb(i[n],s.points,e);a.length&&t.push(...a)}return t}function db(s,e,t,i){let n=0,a=e-1;if(t&&!i)for(;n<e&&!s[n].skip;)n++;for(;n<e&&s[n].skip;)n++;for(n%=e,t&&(a+=n);a>n&&s[a%e].skip;)a--;return a%=e,{start:n,end:a}}function hb(s,e,t,i){const n=s.length,a=[];let o=e,l=s[e],c;for(c=e+1;c<=t;++c){const h=s[c%n];h.skip||h.stop?l.skip||(i=!1,a.push({start:e%n,end:(c-1)%n,loop:i}),e=o=h.stop?c:null):(o=c,l.skip&&(e=c)),l=h}return o!==null&&a.push({start:e%n,end:o%n,loop:i}),a}function ub(s,e){const t=s.points,i=s.options.spanGaps,n=t.length;if(!n)return[];const a=!!s._loop,{start:o,end:l}=db(t,n,a,i);if(i===!0)return lc(s,[{start:o,end:l,loop:a}],t,e);const c=l<o?l+n:l,h=!!s._fullLoop&&o===0&&l===n-1;return lc(s,hb(t,o,c,h),t,e)}function lc(s,e,t,i){return!i||!i.setContext||!t?e:fb(s,e,t,i)}function fb(s,e,t,i){const n=s._chart.getContext(),a=cc(s.options),{_datasetIndex:o,options:{spanGaps:l}}=s,c=t.length,h=[];let u=a,f=e[0].start,p=f;function x(y,b,_,w){const j=l?-1:1;if(y!==b){for(y+=c;t[y%c].skip;)y-=j;for(;t[b%c].skip;)b+=j;y%c!==b%c&&(h.push({start:y%c,end:b%c,loop:_,style:w}),u=w,f=b%c)}}for(const y of e){f=l?f:y.start;let b=t[f%c],_;for(p=f+1;p<=y.end;p++){const w=t[p%c];_=cc(i.setContext(_s(n,{type:"segment",p0:b,p1:w,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:o}))),mb(_,u)&&x(f,p-1,y.loop,u),b=w,u=_}f<p-1&&x(f,p-1,y.loop,u)}return h}function cc(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function mb(s,e){if(!e)return!1;const t=[],i=function(n,a){return Rr(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(s,i)!==JSON.stringify(e,i)}function xn(s,e,t){return s.options.clip?s[t]:e[t]}function pb(s,e){const{xScale:t,yScale:i}=s;return t&&i?{left:xn(t,e,"left"),right:xn(t,e,"right"),top:xn(i,e,"top"),bottom:xn(i,e,"bottom")}:e}function gb(s,e){const t=e._clip;if(t.disabled)return!1;const i=pb(e,s.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xb{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){const a=t.listeners[n],o=t.duration;a.forEach(l=>l({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Xd.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const a=i.items;let o=a.length-1,l=!1,c;for(;o>=0;--o)c=a[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),l=!0):(a[o]=a[a.length-1],a.pop());l&&(n.draw(),this._notify(n,i,e,"progress")),a.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Et=new xb;const dc="transparent",bb={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const i=Jl(s||dc),n=i.valid&&Jl(e||dc);return n&&n.valid?n.mix(i,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class yb{constructor(e,t,i,n){const a=t[i];n=mn([e.to,n,a,e.from]);const o=mn([e.from,a,n]);this._active=!0,this._fn=e.fn||bb[e.type||typeof o],this._easing=_i[e.easing]||_i.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const n=this._target[this._prop],a=i-this._start,o=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=mn([e.to,t,n,e.from]),this._from=mn([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,n=this._prop,a=this._from,o=this._loop,l=this._to;let c;if(this._active=a!==l&&(o||t<i),!this._active){this._target[n]=l,this._notify(!0);return}if(t<0){this._target[n]=a;return}c=t/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(a,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][t]()}}class ch{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ne(e))return;const t=Object.keys(Ce.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const a=e[n];if(!ne(a))return;const o={};for(const l of t)o[l]=a[l];(Te(a.properties)&&a.properties||[n]).forEach(l=>{(l===n||!i.has(l))&&i.set(l,o)})})}_animateOptions(e,t){const i=t.options,n=_b(e,i);if(!n)return[];const a=this._createAnimations(n,i);return i.$shared&&vb(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){const i=this._properties,n=[],a=e.$animations||(e.$animations={}),o=Object.keys(t),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const h=o[c];if(h.charAt(0)==="$")continue;if(h==="options"){n.push(...this._animateOptions(e,t));continue}const u=t[h];let f=a[h];const p=i.get(h);if(f)if(p&&f.active()){f.update(p,u,l);continue}else f.cancel();if(!p||!p.duration){e[h]=u;continue}a[h]=f=new yb(p,e,h,u),n.push(f)}return n}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Et.add(this._chart,i),!0}}function vb(s,e){const t=[],i=Object.keys(e);for(let n=0;n<i.length;n++){const a=s[i[n]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function _b(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function hc(s,e){const t=s&&s.options||{},i=t.reverse,n=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:n,end:i?n:a}}function wb(s,e,t){if(t===!1)return!1;const i=hc(s,t),n=hc(e,t);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function jb(s){let e,t,i,n;return ne(s)?(e=s.top,t=s.right,i=s.bottom,n=s.left):e=t=i=n=s,{top:e,right:t,bottom:i,left:n,disabled:s===!1}}function dh(s,e){const t=[],i=s._getSortedDatasetMetas(e);let n,a;for(n=0,a=i.length;n<a;++n)t.push(i[n].index);return t}function uc(s,e,t,i={}){const n=s.keys,a=i.mode==="single";let o,l,c,h;if(e===null)return;let u=!1;for(o=0,l=n.length;o<l;++o){if(c=+n[o],c===t){if(u=!0,i.all)continue;break}h=s.values[c],rt(h)&&(a||e===0||kt(e)===kt(h))&&(e+=h)}return!u&&!i.all?0:e}function kb(s,e){const{iScale:t,vScale:i}=e,n=t.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",o=Object.keys(s),l=new Array(o.length);let c,h,u;for(c=0,h=o.length;c<h;++c)u=o[c],l[c]={[n]:u,[a]:s[u]};return l}function Va(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function Nb(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function Cb(s){const{min:e,max:t,minDefined:i,maxDefined:n}=s.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:n?t:Number.POSITIVE_INFINITY}}function Sb(s,e,t){const i=s[e]||(s[e]={});return i[t]||(i[t]={})}function fc(s,e,t,i){for(const n of e.getMatchingVisibleMetas(i).reverse()){const a=s[n.index];if(t&&a>0||!t&&a<0)return n.index}return null}function mc(s,e){const{chart:t,_cachedMeta:i}=s,n=t._stacks||(t._stacks={}),{iScale:a,vScale:o,index:l}=i,c=a.axis,h=o.axis,u=Nb(a,o,i),f=e.length;let p;for(let x=0;x<f;++x){const y=e[x],{[c]:b,[h]:_}=y,w=y._stacks||(y._stacks={});p=w[h]=Sb(n,u,b),p[l]=_,p._top=fc(p,o,!0,i.type),p._bottom=fc(p,o,!1,i.type);const j=p._visualValues||(p._visualValues={});j[l]=_}}function Ga(s,e){const t=s.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function Tb(s,e){return _s(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Ab(s,e,t){return _s(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ai(s,e){const t=s.controller.index,i=s.vScale&&s.vScale.axis;if(i){e=e||s._parsed;for(const n of e){const a=n._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}const Ya=s=>s==="reset"||s==="none",pc=(s,e)=>e?s:Object.assign({},s),Mb=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:dh(t,!0),values:null};class Ws{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Va(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ai(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(f,p,x,y)=>f==="x"?p:f==="r"?y:x,a=t.xAxisID=ee(i.xAxisID,Ga(e,"x")),o=t.yAxisID=ee(i.yAxisID,Ga(e,"y")),l=t.rAxisID=ee(i.rAxisID,Ga(e,"r")),c=t.indexAxis,h=t.iAxisID=n(c,a,o,l),u=t.vAxisID=n(c,o,a,l);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Xl(this._data,this),e._stacked&&ai(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(ne(t)){const n=this._cachedMeta;this._data=kb(t,n)}else if(i!==t){if(i){Xl(i,this);const n=this._cachedMeta;ai(n),n._parsed=[]}t&&Object.isExtensible(t)&&hx(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const a=t._stacked;t._stacked=Va(t.vScale,t),t.stack!==i.stack&&(n=!0,ai(t),t.stack=i.stack),this._resyncElements(e),(n||a!==t._stacked)&&(mc(this,t._parsed),t._stacked=Va(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:n}=this,{iScale:a,_stacked:o}=i,l=a.axis;let c=e===0&&t===n.length?!0:i._sorted,h=e>0&&i._parsed[e-1],u,f,p;if(this._parsing===!1)i._parsed=n,i._sorted=!0,p=n;else{Te(n[e])?p=this.parseArrayData(i,n,e,t):ne(n[e])?p=this.parseObjectData(i,n,e,t):p=this.parsePrimitiveData(i,n,e,t);const x=()=>f[l]===null||h&&f[l]<h[l];for(u=0;u<t;++u)i._parsed[u+e]=f=p[u],c&&(x()&&(c=!1),h=f);i._sorted=c}o&&mc(this,p)}parsePrimitiveData(e,t,i,n){const{iScale:a,vScale:o}=e,l=a.axis,c=o.axis,h=a.getLabels(),u=a===o,f=new Array(n);let p,x,y;for(p=0,x=n;p<x;++p)y=p+i,f[p]={[l]:u||a.parse(h[y],y),[c]:o.parse(t[y],y)};return f}parseArrayData(e,t,i,n){const{xScale:a,yScale:o}=e,l=new Array(n);let c,h,u,f;for(c=0,h=n;c<h;++c)u=c+i,f=t[u],l[c]={x:a.parse(f[0],u),y:o.parse(f[1],u)};return l}parseObjectData(e,t,i,n){const{xScale:a,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=new Array(n);let u,f,p,x;for(u=0,f=n;u<f;++u)p=u+i,x=t[p],h[u]={x:a.parse(gs(x,l),p),y:o.parse(gs(x,c),p)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const n=this.chart,a=this._cachedMeta,o=t[e.axis],l={keys:dh(n,!0),values:t._stacks[e.axis]._visualValues};return uc(l,o,a.index,{mode:i})}updateRangeFromParsed(e,t,i,n){const a=i[t.axis];let o=a===null?NaN:a;const l=n&&i._stacks[t.axis];n&&l&&(n.values=l,o=uc(n,a,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,n=i._parsed,a=i._sorted&&e===i.iScale,o=n.length,l=this._getOtherScale(e),c=Mb(t,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=Cb(l);let p,x;function y(){x=n[p];const b=x[l.axis];return!rt(x[e.axis])||u>b||f<b}for(p=0;p<o&&!(!y()&&(this.updateRangeFromParsed(h,e,x,c),a));++p);if(a){for(p=o-1;p>=0;--p)if(!y()){this.updateRangeFromParsed(h,e,x,c);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let n,a,o;for(n=0,a=t.length;n<a;++n)o=t[n][e.axis],rt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,n=t.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:n?""+n.getLabelForValue(a[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=jb(ee(this.options.clip,wb(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,n=i.data||[],a=t.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||n.length-l,h=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,a,l,c),u=l;u<l+c;++u){const f=n[u];f.hidden||(f.active&&h?o.push(f):f.draw(e,a))}for(u=0;u<o.length;++u)o[u].draw(e,a)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const n=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];a=o.$context||(o.$context=Ab(this.getContext(),e,o)),a.parsed=this.getParsed(e),a.raw=n.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=Tb(this.chart.getContext(),this.index)),a.dataset=n,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const n=t==="active",a=this._cachedDataOpts,o=e+"-"+t,l=a[o],c=this.enableOptionSharing&&Ti(i);if(l)return pc(l,c);const h=this.chart.config,u=h.datasetElementScopeKeys(this._type,e),f=n?[`${e}Hover`,"hover",e,""]:[e,""],p=h.getOptionScopes(this.getDataset(),u),x=Object.keys(Ce.elements[e]),y=()=>this.getContext(i,n,t),b=h.resolveNamedOptions(p,x,y,f);return b.$shared&&(b.$shared=c,a[o]=Object.freeze(pc(b,c))),b}_resolveAnimations(e,t,i){const n=this.chart,a=this._cachedDataOpts,o=`animation-${t}`,l=a[o];if(l)return l;let c;if(n.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,t),p=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(p,this.getContext(e,i,t))}const h=new ch(n,c&&c.animations);return c&&c._cacheable&&(a[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ya(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,a=this.getSharedOptions(i),o=this.includeOptions(t,a)||a!==n;return this.updateSharedOptions(a,t,i),{sharedOptions:a,includeOptions:o}}updateElement(e,t,i,n){Ya(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!Ya(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;const a=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[l,c,h]of this._syncList)this[l](c,h);this._syncList=[];const n=i.length,a=t.length,o=Math.min(a,n);o&&this.parse(0,o),a>n?this._insertElements(n,a-n,e):a<n&&this._removeElements(a,n-a)}_insertElements(e,t,i=!0){const n=this._cachedMeta,a=n.data,o=e+t;let l;const c=h=>{for(h.length+=t,l=h.length-1;l>=o;l--)h[l]=h[l-t]};for(c(a),l=e;l<o;++l)a[l]=new this.dataElementType;this._parsing&&c(n._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(e,t);i._stacked&&ai(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}L(Ws,"defaults",{}),L(Ws,"datasetElementType",null),L(Ws,"dataElementType",null);function Eb(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let i=[];for(let n=0,a=t.length;n<a;n++)i=i.concat(t[n].controller.getAllParsedValues(s));s._cache.$bar=Kd(i.sort((n,a)=>n-a))}return s._cache.$bar}function Db(s){const e=s.iScale,t=Eb(e,s.type);let i=e._length,n,a,o,l;const c=()=>{o===32767||o===-32768||(Ti(l)&&(i=Math.min(i,Math.abs(o-l)||i)),l=o)};for(n=0,a=t.length;n<a;++n)o=e.getPixelForValue(t[n]),c();for(l=void 0,n=0,a=e.ticks.length;n<a;++n)o=e.getPixelForTick(n),c();return i}function Pb(s,e,t,i){const n=t.barThickness;let a,o;return xe(n)?(a=e.min*t.categoryPercentage,o=t.barPercentage):(a=n*i,o=1),{chunk:a/i,ratio:o,start:e.pixels[s]-a/2}}function Lb(s,e,t,i){const n=e.pixels,a=n[s];let o=s>0?n[s-1]:null,l=s<n.length-1?n[s+1]:null;const c=t.categoryPercentage;o===null&&(o=a-(l===null?e.end-e.start:l-a)),l===null&&(l=a+a-o);const h=a-(a-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/i,ratio:t.barPercentage,start:h}}function Rb(s,e,t,i){const n=t.parse(s[0],i),a=t.parse(s[1],i),o=Math.min(n,a),l=Math.max(n,a);let c=o,h=l;Math.abs(o)>Math.abs(l)&&(c=l,h=o),e[t.axis]=h,e._custom={barStart:c,barEnd:h,start:n,end:a,min:o,max:l}}function hh(s,e,t,i){return Te(s)?Rb(s,e,t,i):e[t.axis]=t.parse(s,i),e}function gc(s,e,t,i){const n=s.iScale,a=s.vScale,o=n.getLabels(),l=n===a,c=[];let h,u,f,p;for(h=t,u=t+i;h<u;++h)p=e[h],f={},f[n.axis]=l||n.parse(o[h],h),c.push(hh(p,f,a,h));return c}function qa(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function Ob(s,e,t){return s!==0?kt(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function Ib(s){let e,t,i,n,a;return s.horizontal?(e=s.base>s.x,t="left",i="right"):(e=s.base<s.y,t="bottom",i="top"),e?(n="end",a="start"):(n="start",a="end"),{start:t,end:i,reverse:e,top:n,bottom:a}}function Fb(s,e,t,i){let n=e.borderSkipped;const a={};if(!n){s.borderSkipped=a;return}if(n===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:h,bottom:u}=Ib(s);n==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===i?n=h:(t._bottom||0)===i?n=u:(a[xc(u,o,l,c)]=!0,n=h)),a[xc(n,o,l,c)]=!0,s.borderSkipped=a}function xc(s,e,t,i){return i?(s=$b(s,e,t),s=bc(s,t,e)):s=bc(s,e,t),s}function $b(s,e,t){return s===e?t:s===t?e:s}function bc(s,e,t){return s==="start"?e:s==="end"?t:s}function zb(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class Mn extends Ws{parsePrimitiveData(e,t,i,n){return gc(e,t,i,n)}parseArrayData(e,t,i,n){return gc(e,t,i,n)}parseObjectData(e,t,i,n){const{iScale:a,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=a.axis==="x"?l:c,u=o.axis==="x"?l:c,f=[];let p,x,y,b;for(p=i,x=i+n;p<x;++p)b=t[p],y={},y[a.axis]=a.parse(gs(b,h),p),f.push(hh(gs(b,u),y,o,p));return f}updateRangeFromParsed(e,t,i,n){super.updateRangeFromParsed(e,t,i,n);const a=i._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:n}=t,a=this.getParsed(e),o=a._custom,l=qa(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(a[n.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,n){const a=n==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),h=l.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,n);for(let x=t;x<t+i;x++){const y=this.getParsed(x),b=a||xe(y[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(x),_=this._calculateBarIndexPixels(x,u),w=(y._stacks||{})[l.axis],j={horizontal:h,base:b.base,enableBorderRadius:!w||qa(y._custom)||o===w._top||o===w._bottom,x:h?b.head:_.center,y:h?_.center:b.head,height:h?_.size:Math.abs(b.size),width:h?Math.abs(b.size):_.size};p&&(j.options=f||this.resolveDataElementOptions(x,e[x].active?"active":n));const S=j.options||e[x].options;Fb(j,S,w,o),zb(j,S,u.ratio),this.updateElement(e[x],x,j,n)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=i.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[i.axis],h=u=>{const f=u._parsed.find(x=>x[i.axis]===c),p=f&&f[u.vScale.axis];if(xe(p)||isNaN(p))return!0};for(const u of n)if(!(t!==void 0&&h(u))&&((a===!1||o.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[ee(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const n=this._getStacks(e,i),a=t!==void 0?n.indexOf(t):-1;return a===-1?n.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,n=[];let a,o;for(a=0,o=t.data.length;a<o;++a)n.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const l=e.barThickness;return{min:l||Db(t),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:n},options:{base:a,minBarLength:o}}=this,l=a||0,c=this.getParsed(e),h=c._custom,u=qa(h);let f=c[t.axis],p=0,x=i?this.applyStack(t,c,i):f,y,b;x!==f&&(p=x-f,x=f),u&&(f=h.barStart,x=h.barEnd-h.barStart,f!==0&&kt(f)!==kt(h.barEnd)&&(p=0),p+=f);const _=!xe(a)&&!u?a:p;let w=t.getPixelForValue(_);if(this.chart.getDataVisibility(e)?y=t.getPixelForValue(p+x):y=w,b=y-w,Math.abs(b)<o){b=Ob(b,t,l)*o,f===l&&(w-=b/2);const j=t.getPixelForDecimal(0),S=t.getPixelForDecimal(1),E=Math.min(j,S),A=Math.max(j,S);w=Math.max(Math.min(w,A),E),y=w+b,i&&!u&&(c._stacks[t.axis]._visualValues[n]=t.getValueForPixel(y)-t.getValueForPixel(w))}if(w===t.getPixelForValue(l)){const j=kt(b)*t.getLineWidthForValue(l)/2;w+=j,b-=j}return{size:b,base:w,head:y,center:y+b/2}}_calculateBarIndexPixels(e,t){const i=t.scale,n=this.options,a=n.skipNull,o=ee(n.maxBarThickness,1/0);let l,c;const h=this._getAxisCount();if(t.grouped){const u=a?this._getStackCount(e):t.stackCount,f=n.barThickness==="flex"?Lb(e,t,n,u*h):Pb(e,t,n,u*h),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(ee(p,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+x;l=f.start+f.chunk*y+f.chunk/2,c=Math.min(o,f.chunk*f.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(o,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,n=i.length;let a=0;for(;a<n;++a)this.getParsed(a)[t.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}L(Mn,"id","bar"),L(Mn,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),L(Mn,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Bb(s,e,t){let i=1,n=1,a=0,o=0;if(e<je){const l=s,c=l+e,h=Math.cos(l),u=Math.sin(l),f=Math.cos(c),p=Math.sin(c),x=(S,E,A)=>Ai(S,l,c,!0)?1:Math.max(E,E*t,A,A*t),y=(S,E,A)=>Ai(S,l,c,!0)?-1:Math.min(E,E*t,A,A*t),b=x(0,h,f),_=x(Ae,u,p),w=y(de,h,f),j=y(de+Ae,u,p);i=(b-w)/2,n=(_-j)/2,a=-(b+w)/2,o=-(_+j)/2}return{ratioX:i,ratioY:n,offsetX:a,offsetY:o}}class ui extends Ws{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=i;else{let a=c=>+i[c];if(ne(i[e])){const{key:c="value"}=this._parsing;a=h=>+gs(i[h],c)}let o,l;for(o=e,l=e+t;o<l;++o)n._parsed[o]=a(o)}}_getRotation(){return Lt(this.options.rotation-90)}_getCircumference(){return Lt(this.options.circumference)}_getRotationExtents(){let e=je,t=-je;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,a=n._getRotation(),o=n._getCircumference();e=Math.min(e,a),t=Math.max(t,a+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,n=this._cachedMeta,a=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(qg(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:x,offsetX:y,offsetY:b}=Bb(f,u,c),_=(i.width-o)/p,w=(i.height-o)/x,j=Math.max(Math.min(_,w)/2,0),S=Ud(this.options.radius,j),E=Math.max(S*c,0),A=(S-E)/this._getVisibleDatasetWeightTotal();this.offsetX=y*S,this.offsetY=b*S,n.total=this.calculateTotal(),this.outerRadius=S-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*h,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const i=this.options,n=this._cachedMeta,a=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*a/je)}updateElements(e,t,i,n){const a=n==="reset",o=this.chart,l=o.chartArea,h=o.options.animation,u=(l.left+l.right)/2,f=(l.top+l.bottom)/2,p=a&&h.animateScale,x=p?0:this.innerRadius,y=p?0:this.outerRadius,{sharedOptions:b,includeOptions:_}=this._getSharedOptions(t,n);let w=this._getRotation(),j;for(j=0;j<t;++j)w+=this._circumference(j,a);for(j=t;j<t+i;++j){const S=this._circumference(j,a),E=e[j],A={x:u+this.offsetX,y:f+this.offsetY,startAngle:w,endAngle:w+S,circumference:S,outerRadius:y,innerRadius:x};_&&(A.options=b||this.resolveDataElementOptions(j,E.active?"active":n)),w+=S,this.updateElement(E,j,A,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,n;for(n=0;n<t.length;n++){const a=e._parsed[n];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(n)&&!t[n].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?je*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,n=i.data.labels||[],a=Or(t._parsed[e],i.options.locale);return{label:n[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const i=this.chart;let n,a,o,l,c;if(!e){for(n=0,a=i.data.datasets.length;n<a;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),e=o.data,l=o.controller;break}}if(!e)return 0;for(n=0,a=e.length;n<a;++n)c=l.resolveDataElementOptions(n),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,n=e.length;i<n;++i){const a=this.resolveDataElementOptions(i);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(ee(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}L(ui,"id","doughnut"),L(ui,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),L(ui,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),L(ui,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((a,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});function hs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Vr{constructor(e){L(this,"options");this.options=e||{}}static override(e){Object.assign(Vr.prototype,e)}init(){}formats(){return hs()}parse(){return hs()}format(){return hs()}add(){return hs()}diff(){return hs()}startOf(){return hs()}endOf(){return hs()}}var Hb={_date:Vr};function Wb(s,e,t,i){const{controller:n,data:a,_sorted:o}=s,l=n._cachedMeta.iScale,c=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&a.length){const h=l._reversePixels?cx:dr;if(i){if(n._sharedOptions){const u=a[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){const p=h(a,e,t-f),x=h(a,e,t+f);return{lo:p.lo,hi:x.hi}}}}else{const u=h(a,e,t);if(c){const{vScale:f}=n._cachedMeta,{_parsed:p}=s,x=p.slice(0,u.lo+1).reverse().findIndex(b=>!xe(b[f.axis]));u.lo-=Math.max(0,x);const y=p.slice(u.hi).findIndex(b=>!xe(b[f.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:a.length-1}}function ea(s,e,t,i,n){const a=s.getSortedVisibleDatasetMetas(),o=t[e];for(let l=0,c=a.length;l<c;++l){const{index:h,data:u}=a[l],{lo:f,hi:p}=Wb(a[l],e,o,n);for(let x=f;x<=p;++x){const y=u[x];y.skip||i(y,h,x)}}}function Ub(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(i,n){const a=e?Math.abs(i.x-n.x):0,o=t?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function Ka(s,e,t,i,n){const a=[];return!n&&!s.isPointInArea(e)||ea(s,t,e,function(l,c,h){!n&&!Mi(l,s.chartArea,0)||l.inRange(e.x,e.y,i)&&a.push({element:l,datasetIndex:c,index:h})},!0),a}function Vb(s,e,t,i){let n=[];function a(o,l,c){const{startAngle:h,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:f}=Yd(o,{x:e.x,y:e.y});Ai(f,h,u)&&n.push({element:o,datasetIndex:l,index:c})}return ea(s,t,e,a),n}function Gb(s,e,t,i,n,a){let o=[];const l=Ub(t);let c=Number.POSITIVE_INFINITY;function h(u,f,p){const x=u.inRange(e.x,e.y,n);if(i&&!x)return;const y=u.getCenterPoint(n);if(!(!!a||s.isPointInArea(y))&&!x)return;const _=l(e,y);_<c?(o=[{element:u,datasetIndex:f,index:p}],c=_):_===c&&o.push({element:u,datasetIndex:f,index:p})}return ea(s,t,e,h),o}function Xa(s,e,t,i,n,a){return!a&&!s.isPointInArea(e)?[]:t==="r"&&!i?Vb(s,e,t,n):Gb(s,e,t,i,n,a)}function yc(s,e,t,i,n){const a=[],o=t==="x"?"inXRange":"inYRange";let l=!1;return ea(s,t,e,(c,h,u)=>{c[o]&&c[o](e[t],n)&&(a.push({element:c,datasetIndex:h,index:u}),l=l||c.inRange(e.x,e.y,n))}),i&&!l?[]:a}var Yb={modes:{index(s,e,t,i){const n=us(e,s),a=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?Ka(s,n,a,i,o):Xa(s,n,a,!1,i,o),c=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(h=>{const u=l[0].index,f=h.data[u];f&&!f.skip&&c.push({element:f,datasetIndex:h.index,index:u})}),c):[]},dataset(s,e,t,i){const n=us(e,s),a=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?Ka(s,n,a,i,o):Xa(s,n,a,!1,i,o);if(l.length>0){const c=l[0].datasetIndex,h=s.getDatasetMeta(c).data;l=[];for(let u=0;u<h.length;++u)l.push({element:h[u],datasetIndex:c,index:u})}return l},point(s,e,t,i){const n=us(e,s),a=t.axis||"xy",o=t.includeInvisible||!1;return Ka(s,n,a,i,o)},nearest(s,e,t,i){const n=us(e,s),a=t.axis||"xy",o=t.includeInvisible||!1;return Xa(s,n,a,t.intersect,i,o)},x(s,e,t,i){const n=us(e,s);return yc(s,n,"x",t.intersect,i)},y(s,e,t,i){const n=us(e,s);return yc(s,n,"y",t.intersect,i)}}};const uh=["left","top","right","bottom"];function ri(s,e){return s.filter(t=>t.pos===e)}function vc(s,e){return s.filter(t=>uh.indexOf(t.pos)===-1&&t.box.axis===e)}function oi(s,e){return s.sort((t,i)=>{const n=e?i:t,a=e?t:i;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function qb(s){const e=[];let t,i,n,a,o,l;for(t=0,i=(s||[]).length;t<i;++t)n=s[t],{position:a,options:{stack:o,stackWeight:l=1}}=n,e.push({index:t,box:n,pos:a,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&a+o,stackWeight:l});return e}function Kb(s){const e={};for(const t of s){const{stack:i,pos:n,stackWeight:a}=t;if(!i||!uh.includes(n))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function Xb(s,e){const t=Kb(s),{vBoxMaxWidth:i,hBoxMaxHeight:n}=e;let a,o,l;for(a=0,o=s.length;a<o;++a){l=s[a];const{fullSize:c}=l.box,h=t[l.stack],u=h&&l.stackWeight/h.weight;l.horizontal?(l.width=u?u*i:c&&e.availableWidth,l.height=n):(l.width=i,l.height=u?u*n:c&&e.availableHeight)}return t}function Qb(s){const e=qb(s),t=oi(e.filter(h=>h.box.fullSize),!0),i=oi(ri(e,"left"),!0),n=oi(ri(e,"right")),a=oi(ri(e,"top"),!0),o=oi(ri(e,"bottom")),l=vc(e,"x"),c=vc(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:n.concat(c).concat(o).concat(l),chartArea:ri(e,"chartArea"),vertical:i.concat(n).concat(c),horizontal:a.concat(o).concat(l)}}function _c(s,e,t,i){return Math.max(s[t],e[t])+Math.max(s[i],e[i])}function fh(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function Zb(s,e,t,i){const{pos:n,box:a}=t,o=s.maxPadding;if(!ne(n)){t.size&&(s[n]-=t.size);const f=i[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?a.height:a.width),t.size=f.size/f.count,s[n]+=t.size}a.getPadding&&fh(o,a.getPadding());const l=Math.max(0,e.outerWidth-_c(o,s,"left","right")),c=Math.max(0,e.outerHeight-_c(o,s,"top","bottom")),h=l!==s.w,u=c!==s.h;return s.w=l,s.h=c,t.horizontal?{same:h,other:u}:{same:u,other:h}}function Jb(s){const e=s.maxPadding;function t(i){const n=Math.max(e[i]-s[i],0);return s[i]+=n,n}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function ey(s,e){const t=e.maxPadding;function i(n){const a={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{a[o]=Math.max(e[o],t[o])}),a}return i(s?["left","right"]:["top","bottom"])}function fi(s,e,t,i){const n=[];let a,o,l,c,h,u;for(a=0,o=s.length,h=0;a<o;++a){l=s[a],c=l.box,c.update(l.width||e.w,l.height||e.h,ey(l.horizontal,e));const{same:f,other:p}=Zb(e,t,l,i);h|=f&&n.length,u=u||p,c.fullSize||n.push(l)}return h&&fi(n,e,t,i)||u}function bn(s,e,t,i,n){s.top=t,s.left=e,s.right=e+i,s.bottom=t+n,s.width=i,s.height=n}function wc(s,e,t,i){const n=t.padding;let{x:a,y:o}=e;for(const l of s){const c=l.box,h=i[l.stack]||{placed:0,weight:1},u=l.stackWeight/h.weight||1;if(l.horizontal){const f=e.w*u,p=h.size||c.height;Ti(h.start)&&(o=h.start),c.fullSize?bn(c,n.left,o,t.outerWidth-n.right-n.left,p):bn(c,e.left+h.placed,o,f,p),h.start=o,h.placed+=f,o=c.bottom}else{const f=e.h*u,p=h.size||c.width;Ti(h.start)&&(a=h.start),c.fullSize?bn(c,a,n.top,p,t.outerHeight-n.bottom-n.top):bn(c,a,e.top+h.placed,p,f),h.start=a,h.placed+=f,a=c.right}}e.x=a,e.y=o}var at={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,i){if(!s)return;const n=ot(s.options.layout.padding),a=Math.max(e-n.width,0),o=Math.max(t-n.height,0),l=Qb(s.boxes),c=l.vertical,h=l.horizontal;ce(s.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const u=c.reduce((b,_)=>_.box.options&&_.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:n,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),p=Object.assign({},n);fh(p,ot(i));const x=Object.assign({maxPadding:p,w:a,h:o,x:n.left,y:n.top},n),y=Xb(c.concat(h),f);fi(l.fullSize,x,f,y),fi(c,x,f,y),fi(h,x,f,y)&&fi(c,x,f,y),Jb(x),wc(l.leftAndTop,x,f,y),x.x+=x.w,x.y+=x.h,wc(l.rightAndBottom,x,f,y),s.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},ce(l.chartArea,b=>{const _=b.box;Object.assign(_,s.chartArea),_.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class mh{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class ty extends mh{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const En="$chartjs",sy={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jc=s=>s===null||s==="";function iy(s,e){const t=s.style,i=s.getAttribute("height"),n=s.getAttribute("width");if(s[En]={initial:{height:i,width:n,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",jc(n)){const a=rc(s,"width");a!==void 0&&(s.width=a)}if(jc(i))if(s.style.height==="")s.height=s.width/(e||2);else{const a=rc(s,"height");a!==void 0&&(s.height=a)}return s}const ph=sb?{passive:!0}:!1;function ny(s,e,t){s&&s.addEventListener(e,t,ph)}function ay(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,ph)}function ry(s,e){const t=sy[s.type]||s.type,{x:i,y:n}=us(s,e);return{type:t,chart:e,native:s,x:i!==void 0?i:null,y:n!==void 0?n:null}}function Wn(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function oy(s,e,t){const i=s.canvas,n=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||Wn(l.addedNodes,i),o=o&&!Wn(l.removedNodes,i);o&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}function ly(s,e,t){const i=s.canvas,n=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||Wn(l.removedNodes,i),o=o&&!Wn(l.addedNodes,i);o&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}const Di=new Map;let kc=0;function gh(){const s=window.devicePixelRatio;s!==kc&&(kc=s,Di.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function cy(s,e){Di.size||window.addEventListener("resize",gh),Di.set(s,e)}function dy(s){Di.delete(s),Di.size||window.removeEventListener("resize",gh)}function hy(s,e,t){const i=s.canvas,n=i&&Ur(i);if(!n)return;const a=Qd((l,c)=>{const h=n.clientWidth;t(l,c),h<n.clientWidth&&t()},window),o=new ResizeObserver(l=>{const c=l[0],h=c.contentRect.width,u=c.contentRect.height;h===0&&u===0||a(h,u)});return o.observe(n),cy(s,a),o}function Qa(s,e,t){t&&t.disconnect(),e==="resize"&&dy(s)}function uy(s,e,t){const i=s.canvas,n=Qd(a=>{s.ctx!==null&&t(ry(a,s))},s);return ny(i,e,n),n}class fy extends mh{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(iy(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[En])return!1;const i=t[En].initial;["height","width"].forEach(a=>{const o=i[a];xe(o)?t.removeAttribute(a):t.setAttribute(a,o)});const n=i.style||{};return Object.keys(n).forEach(a=>{t.style[a]=n[a]}),t.width=t.width,delete t[En],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),o={attach:oy,detach:ly,resize:hy}[t]||uy;n[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),n=i[t];if(!n)return;({attach:Qa,detach:Qa,resize:Qa}[t]||ay)(e,t,n),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return tb(e,t,i,n)}isAttached(e){const t=e&&Ur(e);return!!(t&&t.isConnected)}}function my(s){return!Wr()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?ty:fy}var Cn;let $t=(Cn=class{constructor(){L(this,"x");L(this,"y");L(this,"active",!1);L(this,"options");L(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return zn(this.x)&&zn(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const n={};return e.forEach(a=>{n[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),n}},L(Cn,"defaults",{}),L(Cn,"defaultRoutes"),Cn);function py(s,e){const t=s.options.ticks,i=gy(s),n=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?by(e):[],o=a.length,l=a[0],c=a[o-1],h=[];if(o>n)return yy(e,h,a,o/n),h;const u=xy(a,e,n);if(o>0){let f,p;const x=o>1?Math.round((c-l)/(o-1)):null;for(yn(e,h,u,xe(x)?0:l-x,l),f=0,p=o-1;f<p;f++)yn(e,h,u,a[f],a[f+1]);return yn(e,h,u,c,xe(x)?e.length:c+x),h}return yn(e,h,u),h}function gy(s){const e=s.options.offset,t=s._tickSize(),i=s._length/t+(e?0:1),n=s._maxLength/t;return Math.floor(Math.min(i,n))}function xy(s,e,t){const i=vy(s),n=e.length/t;if(!i)return Math.max(n,1);const a=sx(i);for(let o=0,l=a.length-1;o<l;o++){const c=a[o];if(c>n)return c}return Math.max(n,1)}function by(s){const e=[];let t,i;for(t=0,i=s.length;t<i;t++)s[t].major&&e.push(t);return e}function yy(s,e,t,i){let n=0,a=t[0],o;for(i=Math.ceil(i),o=0;o<s.length;o++)o===a&&(e.push(s[o]),n++,a=t[n*i])}function yn(s,e,t,i,n){const a=ee(i,0),o=Math.min(ee(n,s.length),s.length);let l=0,c,h,u;for(t=Math.ceil(t),n&&(c=n-i,t=c/Math.floor(c/t)),u=a;u<0;)l++,u=Math.round(a+l*t);for(h=Math.max(a,0);h<o;h++)h===u&&(e.push(s[h]),l++,u=Math.round(a+l*t))}function vy(s){const e=s.length;let t,i;if(e<2)return!1;for(i=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==i)return!1;return i}const _y=s=>s==="left"?"right":s==="right"?"left":s,Nc=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,Cc=(s,e)=>Math.min(e||s,s);function Sc(s,e){const t=[],i=s.length/e,n=s.length;let a=0;for(;a<n;a+=i)t.push(s[Math.floor(a)]);return t}function wy(s,e,t){const i=s.ticks.length,n=Math.min(e,i-1),a=s._startPixel,o=s._endPixel,l=1e-6;let c=s.getPixelForTick(n),h;if(!(t&&(i===1?h=Math.max(c-a,o-c):e===0?h=(s.getPixelForTick(1)-c)/2:h=(c-s.getPixelForTick(n-1))/2,c+=n<e?h:-h,c<a-l||c>o+l)))return c}function jy(s,e){ce(s,t=>{const i=t.gc,n=i.length/2;let a;if(n>e){for(a=0;a<n;++a)delete t.data[i[a]];i.splice(0,n)}})}function li(s){return s.drawTicks?s.tickLength:0}function Tc(s,e){if(!s.display)return 0;const t=Re(s.font,e),i=ot(s.padding);return(Te(s.text)?s.text.length:1)*t.lineHeight+i.height}function ky(s,e){return _s(s,{scale:e,type:"scale"})}function Ny(s,e,t){return _s(s,{tick:t,index:e,type:"tick"})}function Cy(s,e,t){let i=Lr(s);return(t&&e!=="right"||!t&&e==="right")&&(i=_y(i)),i}function Sy(s,e,t,i){const{top:n,left:a,bottom:o,right:l,chart:c}=s,{chartArea:h,scales:u}=c;let f=0,p,x,y;const b=o-n,_=l-a;if(s.isHorizontal()){if(x=Le(i,a,l),ne(t)){const w=Object.keys(t)[0],j=t[w];y=u[w].getPixelForValue(j)+b-e}else t==="center"?y=(h.bottom+h.top)/2+b-e:y=Nc(s,t,e);p=l-a}else{if(ne(t)){const w=Object.keys(t)[0],j=t[w];x=u[w].getPixelForValue(j)-_+e}else t==="center"?x=(h.left+h.right)/2-_+e:x=Nc(s,t,e);y=Le(i,o,n),f=t==="left"?-Ae:Ae}return{titleX:x,titleY:y,maxWidth:p,rotation:f}}class Ys extends $t{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=bt(e,Number.POSITIVE_INFINITY),t=bt(t,Number.NEGATIVE_INFINITY),i=bt(i,Number.POSITIVE_INFINITY),n=bt(n,Number.NEGATIVE_INFINITY),{min:bt(e,i),max:bt(t,n),minDefined:rt(e),maxDefined:rt(t)}}getMinMax(e){let{min:t,max:i,minDefined:n,maxDefined:a}=this.getUserBounds(),o;if(n&&a)return{min:t,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,h=l.length;c<h;++c)o=l[c].controller.getMinMax(this,e),n||(t=Math.min(t,o.min)),a||(i=Math.max(i,o.max));return t=a&&t>i?i:t,i=n&&t>i?t:i,{min:bt(t,bt(i,t)),max:bt(i,bt(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ve(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:n,grace:a,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Px(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Sc(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=py(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ve(this.options.afterUpdate,[this])}beforeSetDimensions(){ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ve(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ve(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,n,a;for(i=0,n=e.length;i<n;i++)a=e[i],a.label=ve(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Cc(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,a=t.maxRotation;let o=n,l,c,h;if(!this._isVisible()||!t.display||n>=a||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),f=u.widest.width,p=u.highest.height,x=Ge(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/i:x/(i-1),f+6>l&&(l=x/(i-(e.offset?.5:1)),c=this.maxHeight-li(e.grid)-t.padding-Tc(e.title,this.chart.options.font),h=Math.sqrt(f*f+p*p),o=rx(Math.min(Math.asin(Ge((u.highest.height+6)/l,-1,1)),Math.asin(Ge(c/h,-1,1))-Math.asin(Ge(p/h,-1,1)))),o=Math.max(n,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ve(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:a}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=Tc(n,t.options.font);if(l?(e.width=this.maxWidth,e.height=li(a)+c):(e.height=this.maxHeight,e.width=li(a)+c),i.display&&this.ticks.length){const{first:h,last:u,widest:f,highest:p}=this._getLabelSizes(),x=i.padding*2,y=Lt(this.labelRotation),b=Math.cos(y),_=Math.sin(y);if(l){const w=i.mirror?0:_*f.width+b*p.height;e.height=Math.min(this.maxHeight,e.height+w+x)}else{const w=i.mirror?0:b*f.width+_*p.height;e.width=Math.min(this.maxWidth,e.width+w+x)}this._calculatePadding(h,u,_,b)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){const{ticks:{align:a,padding:o},position:l}=this.options,c=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,x=0;c?h?(p=n*e.width,x=i*t.height):(p=i*e.height,x=n*t.width):a==="start"?x=t.width:a==="end"?p=e.width:a!=="inner"&&(p=e.width/2,x=t.width/2),this.paddingLeft=Math.max((p-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((x-f+o)*this.width/(this.width-f),0)}else{let u=t.height/2,f=e.height/2;a==="start"?(u=0,f=e.height):a==="end"&&(u=t.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ve(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)xe(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=Sc(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:n,_longestTextCache:a}=this,o=[],l=[],c=Math.floor(t/Cc(t,i));let h=0,u=0,f,p,x,y,b,_,w,j,S,E,A;for(f=0;f<t;f+=c){if(y=e[f].label,b=this._resolveTickFontOptions(f),n.font=_=b.string,w=a[_]=a[_]||{data:{},gc:[]},j=b.lineHeight,S=E=0,!xe(y)&&!Te(y))S=tc(n,w.data,w.gc,S,y),E=j;else if(Te(y))for(p=0,x=y.length;p<x;++p)A=y[p],!xe(A)&&!Te(A)&&(S=tc(n,w.data,w.gc,S,A),E+=j);o.push(S),l.push(E),h=Math.max(S,h),u=Math.max(E,u)}jy(a,t);const F=o.indexOf(h),R=l.indexOf(u),O=z=>({width:o[z]||0,height:l[z]||0});return{first:O(0),last:O(t-1),widest:O(F),highest:O(R),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return lx(this._alignToPixels?ds(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=Ny(this.getContext(),e,i))}return this.$context||(this.$context=ky(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Lt(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,l=a?a.widest.width+o:0,c=a?a.highest.height+o:0;return this.isHorizontal()?c*i>l*n?l/i:c/n:c*n<l*i?c/i:l/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,n=this.options,{grid:a,position:o,border:l}=n,c=a.offset,h=this.isHorizontal(),f=this.ticks.length+(c?1:0),p=li(a),x=[],y=l.setContext(this.getContext()),b=y.display?y.width:0,_=b/2,w=function(re){return ds(i,re,b)};let j,S,E,A,F,R,O,z,H,V,Q,ye;if(o==="top")j=w(this.bottom),R=this.bottom-p,z=j-_,V=w(e.top)+_,ye=e.bottom;else if(o==="bottom")j=w(this.top),V=e.top,ye=w(e.bottom)-_,R=j+_,z=this.top+p;else if(o==="left")j=w(this.right),F=this.right-p,O=j-_,H=w(e.left)+_,Q=e.right;else if(o==="right")j=w(this.left),H=e.left,Q=w(e.right)-_,F=j+_,O=this.left+p;else if(t==="x"){if(o==="center")j=w((e.top+e.bottom)/2+.5);else if(ne(o)){const re=Object.keys(o)[0],pe=o[re];j=w(this.chart.scales[re].getPixelForValue(pe))}V=e.top,ye=e.bottom,R=j+_,z=R+p}else if(t==="y"){if(o==="center")j=w((e.left+e.right)/2);else if(ne(o)){const re=Object.keys(o)[0],pe=o[re];j=w(this.chart.scales[re].getPixelForValue(pe))}F=j-_,O=F-p,H=e.left,Q=e.right}const ke=ee(n.ticks.maxTicksLimit,f),ie=Math.max(1,Math.ceil(f/ke));for(S=0;S<f;S+=ie){const re=this.getContext(S),pe=a.setContext(re),Ee=l.setContext(re),Se=pe.lineWidth,K=pe.color,M=Ee.dash||[],Oe=Ee.dashOffset,Pe=pe.tickWidth,We=pe.tickColor,De=pe.tickBorderDash||[],Ye=pe.tickBorderDashOffset;E=wy(this,S,c),E!==void 0&&(A=ds(i,E,Se),h?F=O=H=Q=A:R=z=V=ye=A,x.push({tx1:F,ty1:R,tx2:O,ty2:z,x1:H,y1:V,x2:Q,y2:ye,width:Se,color:K,borderDash:M,borderDashOffset:Oe,tickWidth:Pe,tickColor:We,tickBorderDash:De,tickBorderDashOffset:Ye}))}return this._ticksLength=f,this._borderValue=j,x}_computeLabelItems(e){const t=this.axis,i=this.options,{position:n,ticks:a}=i,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:h,padding:u,mirror:f}=a,p=li(i.grid),x=p+u,y=f?-u:x,b=-Lt(this.labelRotation),_=[];let w,j,S,E,A,F,R,O,z,H,V,Q,ye="middle";if(n==="top")F=this.bottom-y,R=this._getXAxisLabelAlignment();else if(n==="bottom")F=this.top+y,R=this._getXAxisLabelAlignment();else if(n==="left"){const ie=this._getYAxisLabelAlignment(p);R=ie.textAlign,A=ie.x}else if(n==="right"){const ie=this._getYAxisLabelAlignment(p);R=ie.textAlign,A=ie.x}else if(t==="x"){if(n==="center")F=(e.top+e.bottom)/2+x;else if(ne(n)){const ie=Object.keys(n)[0],re=n[ie];F=this.chart.scales[ie].getPixelForValue(re)+x}R=this._getXAxisLabelAlignment()}else if(t==="y"){if(n==="center")A=(e.left+e.right)/2-x;else if(ne(n)){const ie=Object.keys(n)[0],re=n[ie];A=this.chart.scales[ie].getPixelForValue(re)}R=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(c==="start"?ye="top":c==="end"&&(ye="bottom"));const ke=this._getLabelSizes();for(w=0,j=l.length;w<j;++w){S=l[w],E=S.label;const ie=a.setContext(this.getContext(w));O=this.getPixelForTick(w)+a.labelOffset,z=this._resolveTickFontOptions(w),H=z.lineHeight,V=Te(E)?E.length:1;const re=V/2,pe=ie.color,Ee=ie.textStrokeColor,Se=ie.textStrokeWidth;let K=R;o?(A=O,R==="inner"&&(w===j-1?K=this.options.reverse?"left":"right":w===0?K=this.options.reverse?"right":"left":K="center"),n==="top"?h==="near"||b!==0?Q=-V*H+H/2:h==="center"?Q=-ke.highest.height/2-re*H+H:Q=-ke.highest.height+H/2:h==="near"||b!==0?Q=H/2:h==="center"?Q=ke.highest.height/2-re*H:Q=ke.highest.height-V*H,f&&(Q*=-1),b!==0&&!ie.showLabelBackdrop&&(A+=H/2*Math.sin(b))):(F=O,Q=(1-V)*H/2);let M;if(ie.showLabelBackdrop){const Oe=ot(ie.backdropPadding),Pe=ke.heights[w],We=ke.widths[w];let De=Q-Oe.top,Ye=0-Oe.left;switch(ye){case"middle":De-=Pe/2;break;case"bottom":De-=Pe;break}switch(R){case"center":Ye-=We/2;break;case"right":Ye-=We;break;case"inner":w===j-1?Ye-=We:w>0&&(Ye-=We/2);break}M={left:Ye,top:De,width:We+Oe.width,height:Pe+Oe.height,color:ie.backdropColor}}_.push({label:E,font:z,textOffset:Q,options:{rotation:b,color:pe,strokeColor:Ee,strokeWidth:Se,textAlign:K,textBaseline:ye,translation:[A,F],backdrop:M}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Lt(this.labelRotation))return e==="top"?"left":"right";let n="center";return t.align==="start"?n="left":t.align==="end"?n="right":t.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:n,padding:a}}=this.options,o=this._getLabelSizes(),l=e+a,c=o.widest.width;let h,u;return t==="left"?n?(u=this.right+a,i==="near"?h="left":i==="center"?(h="center",u+=c/2):(h="right",u+=c)):(u=this.right-l,i==="near"?h="right":i==="center"?(h="center",u-=c/2):(h="left",u=this.left)):t==="right"?n?(u=this.left+a,i==="near"?h="right":i==="center"?(h="center",u-=c/2):(h="left",u-=c)):(u=this.left+l,i==="near"?h="left":i==="center"?(h="center",u+=c/2):(h="right",u=this.right)):h="right",{textAlign:h,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:n,width:a,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,a,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(a=>a.value===e);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,o;const l=(c,h,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(t.display)for(a=0,o=n.length;a<o;++a){const c=n[a];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:n}}=this,a=i.setContext(this.getContext()),o=i.display?a.width:0;if(!o)return;const l=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,u,f,p;this.isHorizontal()?(h=ds(e,this.left,o)-o/2,u=ds(e,this.right,l)+l/2,f=p=c):(f=ds(e,this.top,o)-o/2,p=ds(e,this.bottom,l)+l/2,h=u=c),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(h,f),t.lineTo(u,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&Ir(i,n);const a=this.getLabelItems(e);for(const o of a){const l=o.options,c=o.font,h=o.label,u=o.textOffset;Ei(i,h,0,u,c,l)}n&&Fr(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:n}}=this;if(!i.display)return;const a=Re(i.font),o=ot(i.padding),l=i.align;let c=a.lineHeight/2;t==="bottom"||t==="center"||ne(t)?(c+=o.bottom,Te(i.text)&&(c+=a.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:h,titleY:u,maxWidth:f,rotation:p}=Sy(this,c,t,l);Ei(e,i.text,0,0,a,{color:i.color,maxWidth:f,rotation:p,textAlign:Cy(l,t,n),textBaseline:"middle",translation:[h,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=ee(e.grid&&e.grid.z,-1),n=ee(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ys.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let a,o;for(a=0,o=t.length;a<o;++a){const l=t[a];l[i]===this.id&&(!e||l.type===e)&&n.push(l)}return n}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Re(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class vn{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;My(t)&&(i=this.register(t));const n=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in n||(n[a]=e,Ty(e,o,i),this.override&&Ce.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in Ce[n]&&(delete Ce[n][i],this.override&&delete xs[i])}}function Ty(s,e,t){const i=Si(Object.create(null),[t?Ce.get(t):{},Ce.get(e),s.defaults]);Ce.set(e,i),s.defaultRoutes&&Ay(e,s.defaultRoutes),s.descriptors&&Ce.describe(e,s.descriptors)}function Ay(s,e){Object.keys(e).forEach(t=>{const i=t.split("."),n=i.pop(),a=[s].concat(i).join("."),o=e[t].split("."),l=o.pop(),c=o.join(".");Ce.route(a,n,c,l)})}function My(s){return"id"in s&&"defaults"in s}class Ey{constructor(){this.controllers=new vn(Ws,"datasets",!0),this.elements=new vn($t,"elements"),this.plugins=new vn(Object,"plugins"),this.scales=new vn(Ys,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(n=>{const a=i||this._getRegistryForType(n);i||a.isForType(n)||a===this.plugins&&n.id?this._exec(e,a,n):ce(n,o=>{const l=i||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,t,i){const n=Dr(e);ve(i["before"+n],[],i),t[e](i),ve(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const n=t.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return n}}var vt=new Ey;class Dy{constructor(){this._init=[]}notify(e,t,i,n){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=n?this._descriptors(e).filter(n):this._descriptors(e),o=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,n){n=n||{};for(const a of e){const o=a.plugin,l=o[i],c=[t,n,a.options];if(ve(l,c,o)===!1&&n.cancelable)return!1}return!0}invalidate(){xe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,n=ee(i.options&&i.options.plugins,{}),a=Py(i);return n===!1&&!t?[]:Ry(e,a,n,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,n=(a,o)=>a.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function Py(s){const e={},t=[],i=Object.keys(vt.plugins.items);for(let a=0;a<i.length;a++)t.push(vt.getPlugin(i[a]));const n=s.plugins||[];for(let a=0;a<n.length;a++){const o=n[a];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function Ly(s,e){return!e&&s===!1?null:s===!0?{}:s}function Ry(s,{plugins:e,localIds:t},i,n){const a=[],o=s.getContext();for(const l of e){const c=l.id,h=Ly(i[c],n);h!==null&&a.push({plugin:l,options:Oy(s.config,{plugin:l,local:t[c]},h,o)})}return a}function Oy(s,{plugin:e,local:t},i,n){const a=s.pluginScopeKeys(e),o=s.getOptionScopes(i,a);return t&&e.defaults&&o.push(e.defaults),s.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fr(s,e){const t=Ce.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Iy(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function Fy(s,e){return s===e?"_index_":"_value_"}function Ac(s){if(s==="x"||s==="y"||s==="r")return s}function $y(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function mr(s,...e){if(Ac(s))return s;for(const t of e){const i=t.axis||$y(t.position)||s.length>1&&Ac(s[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function Mc(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function zy(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===s||i.yAxisID===s);if(t.length)return Mc(s,"x",t[0])||Mc(s,"y",t[0])}return{}}function By(s,e){const t=xs[s.type]||{scales:{}},i=e.scales||{},n=fr(s.type,e),a=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!ne(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=mr(o,l,zy(o,s),Ce.scales[l.type]),h=Fy(c,n),u=t.scales||{};a[o]=yi(Object.create(null),[{axis:c},l,u[c],u[h]])}),s.data.datasets.forEach(o=>{const l=o.type||s.type,c=o.indexAxis||fr(l,e),u=(xs[l]||{}).scales||{};Object.keys(u).forEach(f=>{const p=Iy(f,c),x=o[p+"AxisID"]||p;a[x]=a[x]||Object.create(null),yi(a[x],[{axis:p},i[x],u[f]])})}),Object.keys(a).forEach(o=>{const l=a[o];yi(l,[Ce.scales[l.type],Ce.scale])}),a}function xh(s){const e=s.options||(s.options={});e.plugins=ee(e.plugins,{}),e.scales=By(s,e)}function bh(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Hy(s){return s=s||{},s.data=bh(s.data),xh(s),s}const Ec=new Map,yh=new Set;function _n(s,e){let t=Ec.get(s);return t||(t=e(),Ec.set(s,t),yh.add(t)),t}const ci=(s,e,t)=>{const i=gs(e,t);i!==void 0&&s.add(i)};class Wy{constructor(e){this._config=Hy(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=bh(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xh(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return _n(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return _n(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return _n(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return _n(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let n=i.get(e);return(!n||t)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){const{options:n,type:a}=this,o=this._cachedScopes(e,i),l=o.get(t);if(l)return l;const c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(f=>ci(c,e,f))),u.forEach(f=>ci(c,n,f)),u.forEach(f=>ci(c,xs[a]||{},f)),u.forEach(f=>ci(c,Ce,f)),u.forEach(f=>ci(c,hr,f))});const h=Array.from(c);return h.length===0&&h.push(Object.create(null)),yh.has(t)&&o.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,xs[t]||{},Ce.datasets[t]||{},{type:t},Ce,hr]}resolveNamedOptions(e,t,i,n=[""]){const a={$shared:!0},{resolver:o,subPrefixes:l}=Dc(this._resolverCache,e,n);let c=o;if(Vy(o,t)){a.$shared=!1,i=Xt(i)?i():i;const h=this.createResolver(e,i,l);c=Us(o,i,h)}for(const h of t)a[h]=c[h];return a}createResolver(e,t,i=[""],n){const{resolver:a}=Dc(this._resolverCache,e,i);return ne(t)?Us(a,t,void 0,n):a}}function Dc(s,e,t){let i=s.get(e);i||(i=new Map,s.set(e,i));const n=t.join();let a=i.get(n);return a||(a={resolver:zr(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},i.set(n,a)),a}const Uy=s=>ne(s)&&Object.getOwnPropertyNames(s).some(e=>Xt(s[e]));function Vy(s,e){const{isScriptable:t,isIndexable:i}=th(s);for(const n of e){const a=t(n),o=i(n),l=(o||a)&&s[n];if(a&&(Xt(l)||Uy(l))||o&&Te(l))return!0}return!1}var Gy="4.5.0";const Yy=["top","bottom","left","right","chartArea"];function Pc(s,e){return s==="top"||s==="bottom"||Yy.indexOf(s)===-1&&e==="x"}function Lc(s,e){return function(t,i){return t[s]===i[s]?t[e]-i[e]:t[s]-i[s]}}function Rc(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ve(t&&t.onComplete,[s],e)}function qy(s){const e=s.chart,t=e.options.animation;ve(t&&t.onProgress,[s],e)}function vh(s){return Wr()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Dn={},Oc=s=>{const e=vh(s);return Object.values(Dn).filter(t=>t.canvas===e).pop()};function Ky(s,e,t){const i=Object.keys(s);for(const n of i){const a=+n;if(a>=e){const o=s[n];delete s[n],(t>0||a>e)&&(s[a+t]=o)}}}function Xy(s,e,t,i){return!t||s.type==="mouseout"?null:i?e:s}var Ut;let ta=(Ut=class{static register(...e){vt.add(...e),Ic()}static unregister(...e){vt.remove(...e),Ic()}constructor(e,t){const i=this.config=new Wy(t),n=vh(e),a=Oc(n);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||my(n)),this.platform.updateConfig(i);const l=this.platform.acquireContext(n,o.aspectRatio),c=l&&l.canvas,h=c&&c.height,u=c&&c.width;if(this.id=Yg(),this.ctx=l,this.canvas=c,this.width=u,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Dy,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ux(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Dn[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Et.listen(this,"complete",Rc),Et.listen(this,"progress",qy),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:a}=this;return xe(e)?t&&a?a:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return vt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ac(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sc(this.canvas,this.ctx),this}stop(){return Et.stop(this),this}resize(e,t){Et.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,n=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,e,t,a),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ac(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),ve(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ce(t,(i,n)=>{i.id=n})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce((o,l)=>(o[l]=!1,o),{});let a=[];t&&(a=a.concat(Object.keys(t).map(o=>{const l=t[o],c=mr(o,l),h=c==="r",u=c==="x";return{options:l,dposition:h?"chartArea":u?"bottom":"left",dtype:h?"radialLinear":u?"category":"linear"}}))),ce(a,o=>{const l=o.options,c=l.id,h=mr(c,l),u=ee(l.type,o.dtype);(l.position===void 0||Pc(l.position,h)!==Pc(o.dposition))&&(l.position=o.dposition),n[c]=!0;let f=null;if(c in i&&i[c].type===u)f=i[c];else{const p=vt.getScale(u);f=new p({id:c,type:u,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(l,e)}),ce(n,(o,l)=>{o||delete i[l]}),ce(i,o=>{at.configure(this,o,o.options),at.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((n,a)=>n.index-a.index),i>t){for(let n=t;n<i;++n)this._destroyDatasetMeta(n);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Lc("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,n)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=t.length;i<n;i++){const a=t[i];let o=this.getDatasetMeta(i);const l=a.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=l,o.indexAxis=a.indexAxis||fr(l,this.options),o.order=a.order||0,o.index=i,o.label=""+a.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=vt.getController(l),{datasetElementType:h,dataElementType:u}=Ce.datasets[l];Object.assign(c,{dataElementType:vt.getElement(u),datasetElementType:h&&vt.getElement(h)}),o.controller=new c(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ce(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,u=this.data.datasets.length;h<u;h++){const{controller:f}=this.getDatasetMeta(h),p=!n&&a.indexOf(f)===-1;f.buildOrUpdateElements(p),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||ce(a,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Lc("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ce(this.scales,e=>{at.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Gl(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:a}of t){const o=i==="_removeElements"?-a:a;Ky(e,n,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(e.filter(o=>o[0]===a).map((o,l)=>l+","+o.splice(1).join(","))),n=i(0);for(let a=1;a<t;a++)if(!Gl(n,i(a)))return;return Array.from(n).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;at.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],ce(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,a)=>{n._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Xt(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Et.has(this)?this.attached&&!Et.running(this)&&Et.start(this):(this.draw(),Rc({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let n,a;for(n=0,a=t.length;n<a;++n){const o=t[n];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},n=gb(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(n&&Ir(t,n),e.controller.draw(),n&&Fr(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Mi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){const a=Yb.modes[t];return typeof a=="function"?a(this,e,i,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let n=i.filter(a=>a&&a._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=_s(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const n=i?"show":"hide",a=this.getDatasetMeta(e),o=a.controller._resolveAnimations(void 0,n);Ti(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(a,{visible:i}),this.update(l=>l.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Et.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),sc(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Dn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(a,o)=>{t.addEventListener(this,a,o),e[a]=o},n=(a,o,l)=>{a.offsetX=o,a.offsetY=l,this._eventHandler(a)};ce(this.options.events,a=>i(a,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(c,h)=>{t.addEventListener(this,c,h),e[c]=h},n=(c,h)=>{e[c]&&(t.removeEventListener(this,c,h),delete e[c])},a=(c,h)=>{this.canvas&&this.resize(c,h)};let o;const l=()=>{n("attach",l),this.attached=!0,this.resize(),i("resize",a),i("detach",o)};o=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),i("attach",l)},t.isAttached(this.canvas)?l():o()}unbindEvents(){ce(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ce(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const n=i?"set":"remove";let a,o,l,c;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+n+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:a,index:o})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[o],index:o}});!In(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const n=this.options.hover,a=(c,h)=>c.filter(u=>!h.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=a(t,e),l=i?e:a(e,t);o.length&&this.updateHoverStyle(o,n.mode,!1),l.length&&n.mode&&this.updateHoverStyle(l,n.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:n=[],options:a}=this,o=t,l=this._getActiveElements(e,n,i,o),c=Jg(e),h=Xy(e,this._lastEvent,i,c);i&&(this._lastEvent=null,ve(a.onHover,[e,l,this],this),c&&ve(a.onClick,[e,l,this],this));const u=!In(l,n);return(u||t)&&(this._active=l,this._updateHoverStyles(l,n,t)),this._lastEvent=h,u}_getActiveElements(e,t,i,n){if(e.type==="mouseout")return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,n)}},L(Ut,"defaults",Ce),L(Ut,"instances",Dn),L(Ut,"overrides",xs),L(Ut,"registry",vt),L(Ut,"version",Gy),L(Ut,"getChart",Oc),Ut);function Ic(){return ce(ta.instances,s=>s._plugins.invalidate())}function Qy(s,e,t){const{startAngle:i,x:n,y:a,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:h,borderJoinStyle:u}=c,f=Math.min(h/o,ht(i-t));if(s.beginPath(),s.arc(n,a,o-h/2,i+f/2,t-f/2),l>0){const p=Math.min(h/l,ht(i-t));s.arc(n,a,l+h/2,t-p/2,i+p/2,!0)}else{const p=Math.min(h/2,o*ht(i-t));if(u==="round")s.arc(n,a,p,t-de/2,i+de/2,!0);else if(u==="bevel"){const x=2*p*p,y=-x*Math.cos(t+de/2)+n,b=-x*Math.sin(t+de/2)+a,_=x*Math.cos(i+de/2)+n,w=x*Math.sin(i+de/2)+a;s.lineTo(y,b),s.lineTo(_,w)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function Zy(s,e,t){const{startAngle:i,pixelMargin:n,x:a,y:o,outerRadius:l,innerRadius:c}=e;let h=n/l;s.beginPath(),s.arc(a,o,l,i-h,t+h),c>n?(h=n/c,s.arc(a,o,c,t+h,i-h,!0)):s.arc(a,o,n,t+Ae,i-Ae),s.closePath(),s.clip()}function Jy(s){return $r(s,["outerStart","outerEnd","innerStart","innerEnd"])}function ev(s,e,t,i){const n=Jy(s.options.borderRadius),a=(t-e)/2,o=Math.min(a,i*e/2),l=c=>{const h=(t-Math.min(a,c))*i/2;return Ge(c,0,Math.min(a,h))};return{outerStart:l(n.outerStart),outerEnd:l(n.outerEnd),innerStart:Ge(n.innerStart,0,o),innerEnd:Ge(n.innerEnd,0,o)}}function zs(s,e,t,i){return{x:t+s*Math.cos(e),y:i+s*Math.sin(e)}}function Un(s,e,t,i,n,a){const{x:o,y:l,startAngle:c,pixelMargin:h,innerRadius:u}=e,f=Math.max(e.outerRadius+i+t-h,0),p=u>0?u+i+t+h:0;let x=0;const y=n-c;if(i){const ie=u>0?u-i:0,re=f>0?f-i:0,pe=(ie+re)/2,Ee=pe!==0?y*pe/(pe+i):y;x=(y-Ee)/2}const b=Math.max(.001,y*f-t/de)/f,_=(y-b)/2,w=c+_+x,j=n-_-x,{outerStart:S,outerEnd:E,innerStart:A,innerEnd:F}=ev(e,p,f,j-w),R=f-S,O=f-E,z=w+S/R,H=j-E/O,V=p+A,Q=p+F,ye=w+A/V,ke=j-F/Q;if(s.beginPath(),a){const ie=(z+H)/2;if(s.arc(o,l,f,z,ie),s.arc(o,l,f,ie,H),E>0){const Se=zs(O,H,o,l);s.arc(Se.x,Se.y,E,H,j+Ae)}const re=zs(Q,j,o,l);if(s.lineTo(re.x,re.y),F>0){const Se=zs(Q,ke,o,l);s.arc(Se.x,Se.y,F,j+Ae,ke+Math.PI)}const pe=(j-F/p+(w+A/p))/2;if(s.arc(o,l,p,j-F/p,pe,!0),s.arc(o,l,p,pe,w+A/p,!0),A>0){const Se=zs(V,ye,o,l);s.arc(Se.x,Se.y,A,ye+Math.PI,w-Ae)}const Ee=zs(R,w,o,l);if(s.lineTo(Ee.x,Ee.y),S>0){const Se=zs(R,z,o,l);s.arc(Se.x,Se.y,S,w-Ae,z)}}else{s.moveTo(o,l);const ie=Math.cos(z)*f+o,re=Math.sin(z)*f+l;s.lineTo(ie,re);const pe=Math.cos(H)*f+o,Ee=Math.sin(H)*f+l;s.lineTo(pe,Ee)}s.closePath()}function tv(s,e,t,i,n){const{fullCircles:a,startAngle:o,circumference:l}=e;let c=e.endAngle;if(a){Un(s,e,t,i,c,n);for(let h=0;h<a;++h)s.fill();isNaN(l)||(c=o+(l%je||je))}return Un(s,e,t,i,c,n),s.fill(),c}function sv(s,e,t,i,n){const{fullCircles:a,startAngle:o,circumference:l,options:c}=e,{borderWidth:h,borderJoinStyle:u,borderDash:f,borderDashOffset:p,borderRadius:x}=c,y=c.borderAlign==="inner";if(!h)return;s.setLineDash(f||[]),s.lineDashOffset=p,y?(s.lineWidth=h*2,s.lineJoin=u||"round"):(s.lineWidth=h,s.lineJoin=u||"bevel");let b=e.endAngle;if(a){Un(s,e,t,i,b,n);for(let _=0;_<a;++_)s.stroke();isNaN(l)||(b=o+(l%je||je))}y&&Zy(s,e,b),c.selfJoin&&b-o>=de&&x===0&&u!=="miter"&&Qy(s,e,b),a||(Un(s,e,t,i,b,n),s.stroke())}class mi extends $t{constructor(t){super();L(this,"circumference");L(this,"endAngle");L(this,"fullCircles");L(this,"innerRadius");L(this,"outerRadius");L(this,"pixelMargin");L(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,n){const a=this.getProps(["x","y"],n),{angle:o,distance:l}=Yd(a,{x:t,y:i}),{startAngle:c,endAngle:h,innerRadius:u,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),x=(this.options.spacing+this.options.borderWidth)/2,y=ee(p,h-c),b=Ai(o,c,h)&&c!==h,_=y>=je||b,w=Gt(l,u+x,f+x);return _&&w}getCenterPoint(t){const{x:i,y:n,startAngle:a,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:u}=this.options,f=(a+o)/2,p=(l+c+u+h)/2;return{x:i+Math.cos(f)*p,y:n+Math.sin(f)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:n}=this,a=(i.offset||0)/4,o=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=n>je?Math.floor(n/je):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*a,Math.sin(c)*a);const h=1-Math.sin(Math.min(de,n||0)),u=a*h;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,tv(t,this,u,o,l),sv(t,this,u,o,l),t.restore()}}L(mi,"id","arc"),L(mi,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),L(mi,"defaultRoutes",{backgroundColor:"backgroundColor"}),L(mi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function _h(s,e,t=e){s.lineCap=ee(t.borderCapStyle,e.borderCapStyle),s.setLineDash(ee(t.borderDash,e.borderDash)),s.lineDashOffset=ee(t.borderDashOffset,e.borderDashOffset),s.lineJoin=ee(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=ee(t.borderWidth,e.borderWidth),s.strokeStyle=ee(t.borderColor,e.borderColor)}function iv(s,e,t){s.lineTo(t.x,t.y)}function nv(s){return s.stepped?kx:s.tension||s.cubicInterpolationMode==="monotone"?Nx:iv}function wh(s,e,t={}){const i=s.length,{start:n=0,end:a=i-1}=t,{start:o,end:l}=e,c=Math.max(n,o),h=Math.min(a,l),u=n<o&&a<o||n>l&&a>l;return{count:i,start:c,loop:e.loop,ilen:h<c&&!u?i+h-c:h-c}}function av(s,e,t,i){const{points:n,options:a}=e,{count:o,start:l,loop:c,ilen:h}=wh(n,t,i),u=nv(a);let{move:f=!0,reverse:p}=i||{},x,y,b;for(x=0;x<=h;++x)y=n[(l+(p?h-x:x))%o],!y.skip&&(f?(s.moveTo(y.x,y.y),f=!1):u(s,b,y,p,a.stepped),b=y);return c&&(y=n[(l+(p?h:0))%o],u(s,b,y,p,a.stepped)),!!c}function rv(s,e,t,i){const n=e.points,{count:a,start:o,ilen:l}=wh(n,t,i),{move:c=!0,reverse:h}=i||{};let u=0,f=0,p,x,y,b,_,w;const j=E=>(o+(h?l-E:E))%a,S=()=>{b!==_&&(s.lineTo(u,_),s.lineTo(u,b),s.lineTo(u,w))};for(c&&(x=n[j(0)],s.moveTo(x.x,x.y)),p=0;p<=l;++p){if(x=n[j(p)],x.skip)continue;const E=x.x,A=x.y,F=E|0;F===y?(A<b?b=A:A>_&&(_=A),u=(f*u+E)/++f):(S(),s.lineTo(E,A),y=F,f=0,b=_=A),w=A}S()}function pr(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?rv:av}function ov(s){return s.stepped?ib:s.tension||s.cubicInterpolationMode==="monotone"?nb:fs}function lv(s,e,t,i){let n=e._path;n||(n=e._path=new Path2D,e.path(n,t,i)&&n.closePath()),_h(s,e.options),s.stroke(n)}function cv(s,e,t,i){const{segments:n,options:a}=e,o=pr(e);for(const l of n)_h(s,a,l.style),s.beginPath(),o(s,e,l,{start:t,end:t+i-1})&&s.closePath(),s.stroke()}const dv=typeof Path2D=="function";function hv(s,e,t,i){dv&&!e.options.segment?lv(s,e,t,i):cv(s,e,t,i)}class pi extends $t{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;Kx(this._points,i,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ub(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,n=e[t],a=this.points,o=cb(this,{property:t,start:n,end:n});if(!o.length)return;const l=[],c=ov(i);let h,u;for(h=0,u=o.length;h<u;++h){const{start:f,end:p}=o[h],x=a[f],y=a[p];if(x===y){l.push(x);continue}const b=Math.abs((n-x[t])/(y[t]-x[t])),_=c(x,y,b,i.stepped);_[t]=e[t],l.push(_)}return l.length===1?l[0]:l}pathSegment(e,t,i){return pr(this)(e,this,t,i)}path(e,t,i){const n=this.segments,a=pr(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const l of n)o&=a(e,this,l,{start:t,end:t+i-1});return!!o}draw(e,t,i,n){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),hv(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}L(pi,"id","line"),L(pi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),L(pi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),L(pi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Fc(s,e,t,i){const n=s.options,{[t]:a}=s.getProps([t],i);return Math.abs(e-a)<n.radius+n.hitRadius}class Pn extends $t{constructor(t){super();L(this,"parsed");L(this,"skip");L(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,n){const a=this.options,{x:o,y:l}=this.getProps(["x","y"],n);return Math.pow(t-o,2)+Math.pow(i-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,i){return Fc(this,t,"x",i)}inYRange(t,i){return Fc(this,t,"y",i)}getCenterPoint(t){const{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const n=i&&t.borderWidth||0;return(i+n)*2}draw(t,i){const n=this.options;this.skip||n.radius<.1||!Mi(this,i,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,ur(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}L(Pn,"id","point"),L(Pn,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),L(Pn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function jh(s,e){const{x:t,y:i,base:n,width:a,height:o}=s.getProps(["x","y","base","width","height"],e);let l,c,h,u,f;return s.horizontal?(f=o/2,l=Math.min(t,n),c=Math.max(t,n),h=i-f,u=i+f):(f=a/2,l=t-f,c=t+f,h=Math.min(i,n),u=Math.max(i,n)),{left:l,top:h,right:c,bottom:u}}function Yt(s,e,t,i){return s?0:Ge(e,t,i)}function uv(s,e,t){const i=s.options.borderWidth,n=s.borderSkipped,a=eh(i);return{t:Yt(n.top,a.top,0,t),r:Yt(n.right,a.right,0,e),b:Yt(n.bottom,a.bottom,0,t),l:Yt(n.left,a.left,0,e)}}function fv(s,e,t){const{enableBorderRadius:i}=s.getProps(["enableBorderRadius"]),n=s.options.borderRadius,a=Bs(n),o=Math.min(e,t),l=s.borderSkipped,c=i||ne(n);return{topLeft:Yt(!c||l.top||l.left,a.topLeft,0,o),topRight:Yt(!c||l.top||l.right,a.topRight,0,o),bottomLeft:Yt(!c||l.bottom||l.left,a.bottomLeft,0,o),bottomRight:Yt(!c||l.bottom||l.right,a.bottomRight,0,o)}}function mv(s){const e=jh(s),t=e.right-e.left,i=e.bottom-e.top,n=uv(s,t/2,i/2),a=fv(s,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:a},inner:{x:e.left+n.l,y:e.top+n.t,w:t-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}function Za(s,e,t,i){const n=e===null,a=t===null,l=s&&!(n&&a)&&jh(s,i);return l&&(n||Gt(e,l.left,l.right))&&(a||Gt(t,l.top,l.bottom))}function pv(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function gv(s,e){s.rect(e.x,e.y,e.w,e.h)}function Ja(s,e,t={}){const i=s.x!==t.x?-e:0,n=s.y!==t.y?-e:0,a=(s.x+s.w!==t.x+t.w?e:0)-i,o=(s.y+s.h!==t.y+t.h?e:0)-n;return{x:s.x+i,y:s.y+n,w:s.w+a,h:s.h+o,radius:s.radius}}class Ln extends $t{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:n}}=this,{inner:a,outer:o}=mv(this),l=pv(o.radius)?Bn:gv;e.save(),(o.w!==a.w||o.h!==a.h)&&(e.beginPath(),l(e,Ja(o,t,a)),e.clip(),l(e,Ja(a,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,Ja(a,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,i){return Za(this,e,t,i)}inXRange(e,t){return Za(this,e,null,t)}inYRange(e,t){return Za(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+n)/2:t,y:a?i:(i+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}L(Ln,"id","bar"),L(Ln,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),L(Ln,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const $c=(s,e)=>{let{boxHeight:t=e,boxWidth:i=e}=s;return s.usePointStyle&&(t=Math.min(t,e),i=s.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},xv=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class zc extends $t{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ve(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,n)=>e.sort(i,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,n=Re(i.font),a=n.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=$c(i,a);let h,u;t.font=n.string,this.isHorizontal()?(h=this.maxWidth,u=this._fitRows(o,a,l,c)+10):(u=this.maxHeight,h=this._fitCols(o,n,l,c)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,n){const{ctx:a,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],u=n+l;let f=e;a.textAlign="left",a.textBaseline="middle";let p=-1,x=-u;return this.legendItems.forEach((y,b)=>{const _=i+t/2+a.measureText(y.text).width;(b===0||h[h.length-1]+_+2*l>o)&&(f+=u,h[h.length-(b>0?0:1)]=0,x+=u,p++),c[b]={left:0,top:x,row:p,width:_,height:n},h[h.length-1]+=_+l}),f}_fitCols(e,t,i,n){const{ctx:a,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],u=o-e;let f=l,p=0,x=0,y=0,b=0;return this.legendItems.forEach((_,w)=>{const{itemWidth:j,itemHeight:S}=bv(i,t,a,_,n);w>0&&x+S+2*l>u&&(f+=p+l,h.push({width:p,height:x}),y+=p+l,b++,p=x=0),c[w]={left:y,top:x,col:b,width:j,height:S},p=Math.max(p,j),x+=S+l}),f+=p,h.push({width:p,height:x}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:n},rtl:a}}=this,o=Hs(a,this.left,this.width);if(this.isHorizontal()){let l=0,c=Le(i,this.left+n,this.right-this.lineWidths[l]);for(const h of t)l!==h.row&&(l=h.row,c=Le(i,this.left+n,this.right-this.lineWidths[l])),h.top+=this.top+e+n,h.left=o.leftForLtr(o.x(c),h.width),c+=h.width+n}else{let l=0,c=Le(i,this.top+e+n,this.bottom-this.columnSizes[l].height);for(const h of t)h.col!==l&&(l=h.col,c=Le(i,this.top+e+n,this.bottom-this.columnSizes[l].height)),h.top=c,h.left+=this.left+n,h.left=o.leftForLtr(o.x(h.left),h.width),c+=h.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ir(e,this),this._draw(),Fr(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:n}=this,{align:a,labels:o}=e,l=Ce.color,c=Hs(e.rtl,this.left,this.width),h=Re(o.font),{padding:u}=o,f=h.size,p=f/2;let x;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=h.string;const{boxWidth:y,boxHeight:b,itemHeight:_}=$c(o,f),w=function(F,R,O){if(isNaN(y)||y<=0||isNaN(b)||b<0)return;n.save();const z=ee(O.lineWidth,1);if(n.fillStyle=ee(O.fillStyle,l),n.lineCap=ee(O.lineCap,"butt"),n.lineDashOffset=ee(O.lineDashOffset,0),n.lineJoin=ee(O.lineJoin,"miter"),n.lineWidth=z,n.strokeStyle=ee(O.strokeStyle,l),n.setLineDash(ee(O.lineDash,[])),o.usePointStyle){const H={radius:b*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:z},V=c.xPlus(F,y/2),Q=R+p;Jd(n,H,V,Q,o.pointStyleWidth&&y)}else{const H=R+Math.max((f-b)/2,0),V=c.leftForLtr(F,y),Q=Bs(O.borderRadius);n.beginPath(),Object.values(Q).some(ye=>ye!==0)?Bn(n,{x:V,y:H,w:y,h:b,radius:Q}):n.rect(V,H,y,b),n.fill(),z!==0&&n.stroke()}n.restore()},j=function(F,R,O){Ei(n,O.text,F,R+_/2,h,{strikethrough:O.hidden,textAlign:c.textAlign(O.textAlign)})},S=this.isHorizontal(),E=this._computeTitleHeight();S?x={x:Le(a,this.left+u,this.right-i[0]),y:this.top+u+E,line:0}:x={x:this.left+u,y:Le(a,this.top+E+u,this.bottom-t[0].height),line:0},rh(this.ctx,e.textDirection);const A=_+u;this.legendItems.forEach((F,R)=>{n.strokeStyle=F.fontColor,n.fillStyle=F.fontColor;const O=n.measureText(F.text).width,z=c.textAlign(F.textAlign||(F.textAlign=o.textAlign)),H=y+p+O;let V=x.x,Q=x.y;c.setWidth(this.width),S?R>0&&V+H+u>this.right&&(Q=x.y+=A,x.line++,V=x.x=Le(a,this.left+u,this.right-i[x.line])):R>0&&Q+A>this.bottom&&(V=x.x=V+t[x.line].width+u,x.line++,Q=x.y=Le(a,this.top+E+u,this.bottom-t[x.line].height));const ye=c.x(V);if(w(ye,Q,F),V=fx(z,V+y+p,S?V+H:this.right,e.rtl),j(c.x(V),Q,F),S)x.x+=H+u;else if(typeof F.text!="string"){const ke=h.lineHeight;x.y+=kh(F,ke)+u}else x.y+=A}),oh(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Re(t.font),n=ot(t.padding);if(!t.display)return;const a=Hs(e.rtl,this.left,this.width),o=this.ctx,l=t.position,c=i.size/2,h=n.top+c;let u,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+h,f=Le(e.align,f,this.right-p);else{const y=this.columnSizes.reduce((b,_)=>Math.max(b,_.height),0);u=h+Le(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const x=Le(l,f,f+p);o.textAlign=a.textAlign(Lr(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Ei(o,t.text,x,u,i)}_computeTitleHeight(){const e=this.options.title,t=Re(e.font),i=ot(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,n,a;if(Gt(e,this.left,this.right)&&Gt(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(n=a[i],Gt(e,n.left,n.left+n.width)&&Gt(t,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!_v(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,a=xv(n,i);n&&!a&&ve(t.onLeave,[e,n,this],this),this._hoveredItem=i,i&&!a&&ve(t.onHover,[e,i,this],this)}else i&&ve(t.onClick,[e,i,this],this)}}function bv(s,e,t,i,n){const a=yv(i,s,e,t),o=vv(n,i,e.lineHeight);return{itemWidth:a,itemHeight:o}}function yv(s,e,t,i){let n=s.text;return n&&typeof n!="string"&&(n=n.reduce((a,o)=>a.length>o.length?a:o)),e+t.size/2+i.measureText(n).width}function vv(s,e,t){let i=s;return typeof e.text!="string"&&(i=kh(e,t)),i}function kh(s,e){const t=s.text?s.text.length:0;return e*t}function _v(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var wv={id:"legend",_element:zc,start(s,e,t){const i=s.legend=new zc({ctx:s.ctx,options:t,chart:s});at.configure(s,i,t),at.addBox(s,i)},stop(s){at.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const i=s.legend;at.configure(s,i,t),i.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const i=e.datasetIndex,n=t.chart;n.isDatasetVisible(i)?(n.hide(i),e.hidden=!0):(n.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:n,color:a,useBorderRadius:o,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(c=>{const h=c.controller.getStyle(t?0:void 0),u=ot(h.borderWidth);return{text:e[c.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:n||h.textAlign,borderRadius:o&&(l||h.borderRadius),datasetIndex:c.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Nh extends $t{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const n=Te(i.text)?i.text.length:1;this._padding=ot(i.padding);const a=n*Re(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:n,right:a,options:o}=this,l=o.align;let c=0,h,u,f;return this.isHorizontal()?(u=Le(l,i,a),f=t+e,h=a-i):(o.position==="left"?(u=i+e,f=Le(l,n,t),c=de*-.5):(u=a-e,f=Le(l,t,n),c=de*.5),h=n-t),{titleX:u,titleY:f,maxWidth:h,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Re(t.font),a=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:h}=this._drawArgs(a);Ei(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:h,textAlign:Lr(t.align),textBaseline:"middle",translation:[o,l]})}}function jv(s,e){const t=new Nh({ctx:s.ctx,options:e,chart:s});at.configure(s,t,e),at.addBox(s,t),s.titleBlock=t}var kv={id:"title",_element:Nh,start(s,e,t){jv(s,t)},stop(s){const e=s.titleBlock;at.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const i=s.titleBlock;at.configure(s,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gi={average(s){if(!s.length)return!1;let e,t,i=new Set,n=0,a=0;for(e=0,t=s.length;e<t;++e){const l=s[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();i.add(c.x),n+=c.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((l,c)=>l+c)/i.size,y:n/a}},nearest(s,e){if(!s.length)return!1;let t=e.x,i=e.y,n=Number.POSITIVE_INFINITY,a,o,l;for(a=0,o=s.length;a<o;++a){const c=s[a].element;if(c&&c.hasValue()){const h=c.getCenterPoint(),u=cr(e,h);u<n&&(n=u,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function yt(s,e){return e&&(Te(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function Dt(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Nv(s,e){const{element:t,datasetIndex:i,index:n}=e,a=s.getDatasetMeta(i).controller,{label:o,value:l}=a.getLabelAndValue(n);return{chart:s,label:o,parsed:a.getParsed(n),raw:s.data.datasets[i].data[n],formattedValue:l,dataset:a.getDataset(),dataIndex:n,datasetIndex:i,element:t}}function Bc(s,e){const t=s.chart.ctx,{body:i,footer:n,title:a}=s,{boxWidth:o,boxHeight:l}=e,c=Re(e.bodyFont),h=Re(e.titleFont),u=Re(e.footerFont),f=a.length,p=n.length,x=i.length,y=ot(e.padding);let b=y.height,_=0,w=i.reduce((E,A)=>E+A.before.length+A.lines.length+A.after.length,0);if(w+=s.beforeBody.length+s.afterBody.length,f&&(b+=f*h.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),w){const E=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;b+=x*E+(w-x)*c.lineHeight+(w-1)*e.bodySpacing}p&&(b+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let j=0;const S=function(E){_=Math.max(_,t.measureText(E).width+j)};return t.save(),t.font=h.string,ce(s.title,S),t.font=c.string,ce(s.beforeBody.concat(s.afterBody),S),j=e.displayColors?o+2+e.boxPadding:0,ce(i,E=>{ce(E.before,S),ce(E.lines,S),ce(E.after,S)}),j=0,t.font=u.string,ce(s.footer,S),t.restore(),_+=y.width,{width:_,height:b}}function Cv(s,e){const{y:t,height:i}=e;return t<i/2?"top":t>s.height-i/2?"bottom":"center"}function Sv(s,e,t,i){const{x:n,width:a}=i,o=t.caretSize+t.caretPadding;if(s==="left"&&n+a+o>e.width||s==="right"&&n-a-o<0)return!0}function Tv(s,e,t,i){const{x:n,width:a}=t,{width:o,chartArea:{left:l,right:c}}=s;let h="center";return i==="center"?h=n<=(l+c)/2?"left":"right":n<=a/2?h="left":n>=o-a/2&&(h="right"),Sv(h,s,e,t)&&(h="center"),h}function Hc(s,e,t){const i=t.yAlign||e.yAlign||Cv(s,t);return{xAlign:t.xAlign||e.xAlign||Tv(s,e,t,i),yAlign:i}}function Av(s,e){let{x:t,width:i}=s;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function Mv(s,e,t){let{y:i,height:n}=s;return e==="top"?i+=t:e==="bottom"?i-=n+t:i-=n/2,i}function Wc(s,e,t,i){const{caretSize:n,caretPadding:a,cornerRadius:o}=s,{xAlign:l,yAlign:c}=t,h=n+a,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:x}=Bs(o);let y=Av(e,l);const b=Mv(e,c,h);return c==="center"?l==="left"?y+=h:l==="right"&&(y-=h):l==="left"?y-=Math.max(u,p)+n:l==="right"&&(y+=Math.max(f,x)+n),{x:Ge(y,0,i.width-e.width),y:Ge(b,0,i.height-e.height)}}function wn(s,e,t){const i=ot(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-i.right:s.x+i.left}function Uc(s){return yt([],Dt(s))}function Ev(s,e,t){return _s(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Vc(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const Ch={beforeTitle:At,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:At,beforeBody:At,beforeLabel:At,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return xe(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:At,afterBody:At,beforeFooter:At,footer:At,afterFooter:At};function Ue(s,e,t,i){const n=s[e].call(t,i);return typeof n>"u"?Ch[e].call(t,i):n}class gr extends $t{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,a=new ch(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=Ev(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,n=Ue(i,"beforeTitle",this,e),a=Ue(i,"title",this,e),o=Ue(i,"afterTitle",this,e);let l=[];return l=yt(l,Dt(n)),l=yt(l,Dt(a)),l=yt(l,Dt(o)),l}getBeforeBody(e,t){return Uc(Ue(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,n=[];return ce(e,a=>{const o={before:[],lines:[],after:[]},l=Vc(i,a);yt(o.before,Dt(Ue(l,"beforeLabel",this,a))),yt(o.lines,Ue(l,"label",this,a)),yt(o.after,Dt(Ue(l,"afterLabel",this,a))),n.push(o)}),n}getAfterBody(e,t){return Uc(Ue(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,n=Ue(i,"beforeFooter",this,e),a=Ue(i,"footer",this,e),o=Ue(i,"afterFooter",this,e);let l=[];return l=yt(l,Dt(n)),l=yt(l,Dt(a)),l=yt(l,Dt(o)),l}_createItems(e){const t=this._active,i=this.chart.data,n=[],a=[],o=[];let l=[],c,h;for(c=0,h=t.length;c<h;++c)l.push(Nv(this.chart,t[c]));return e.filter&&(l=l.filter((u,f,p)=>e.filter(u,f,p,i))),e.itemSort&&(l=l.sort((u,f)=>e.itemSort(u,f,i))),ce(l,u=>{const f=Vc(e.callbacks,u);n.push(Ue(f,"labelColor",this,u)),a.push(Ue(f,"labelPointStyle",this,u)),o.push(Ue(f,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const i=this.options.setContext(this.getContext()),n=this._active;let a,o=[];if(!n.length)this.opacity!==0&&(a={opacity:0});else{const l=gi[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=Bc(this,i),h=Object.assign({},l,c),u=Hc(this.chart,i,h),f=Wc(i,h,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){const a=this.getCaretPosition(e,i,n);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,i){const{xAlign:n,yAlign:a}=this,{caretSize:o,cornerRadius:l}=i,{topLeft:c,topRight:h,bottomLeft:u,bottomRight:f}=Bs(l),{x:p,y:x}=e,{width:y,height:b}=t;let _,w,j,S,E,A;return a==="center"?(E=x+b/2,n==="left"?(_=p,w=_-o,S=E+o,A=E-o):(_=p+y,w=_+o,S=E-o,A=E+o),j=_):(n==="left"?w=p+Math.max(c,u)+o:n==="right"?w=p+y-Math.max(h,f)-o:w=this.caretX,a==="top"?(S=x,E=S-o,_=w-o,j=w+o):(S=x+b,E=S+o,_=w+o,j=w-o),A=S),{x1:_,x2:w,x3:j,y1:S,y2:E,y3:A}}drawTitle(e,t,i){const n=this.title,a=n.length;let o,l,c;if(a){const h=Hs(i.rtl,this.x,this.width);for(e.x=wn(this,i.titleAlign,i),t.textAlign=h.textAlign(i.titleAlign),t.textBaseline="middle",o=Re(i.titleFont),l=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,c=0;c<a;++c)t.fillText(n[c],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===a&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,t,i,n,a){const o=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:h}=a,u=Re(a.bodyFont),f=wn(this,"left",a),p=n.x(f),x=c<u.lineHeight?(u.lineHeight-c)/2:0,y=t.y+x;if(a.usePointStyle){const b={radius:Math.min(h,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},_=n.leftForLtr(p,h)+h/2,w=y+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,ur(e,b,_,w),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ur(e,b,_,w)}else{e.lineWidth=ne(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=n.leftForLtr(p,h),_=n.leftForLtr(n.xPlus(p,1),h-2),w=Bs(o.borderRadius);Object.values(w).some(j=>j!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Bn(e,{x:b,y,w:h,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Bn(e,{x:_,y:y+1,w:h-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(b,y,h,c),e.strokeRect(b,y,h,c),e.fillStyle=o.backgroundColor,e.fillRect(_,y+1,h-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:n}=this,{bodySpacing:a,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:h,boxPadding:u}=i,f=Re(i.bodyFont);let p=f.lineHeight,x=0;const y=Hs(i.rtl,this.x,this.width),b=function(O){t.fillText(O,y.x(e.x+x),e.y+p/2),e.y+=p+a},_=y.textAlign(o);let w,j,S,E,A,F,R;for(t.textAlign=o,t.textBaseline="middle",t.font=f.string,e.x=wn(this,_,i),t.fillStyle=i.bodyColor,ce(this.beforeBody,b),x=l&&_!=="right"?o==="center"?h/2+u:h+2+u:0,E=0,F=n.length;E<F;++E){for(w=n[E],j=this.labelTextColors[E],t.fillStyle=j,ce(w.before,b),S=w.lines,l&&S.length&&(this._drawColorBox(t,e,E,y,i),p=Math.max(f.lineHeight,c)),A=0,R=S.length;A<R;++A)b(S[A]),p=f.lineHeight;ce(w.after,b)}x=0,p=f.lineHeight,ce(this.afterBody,b),e.y-=a}drawFooter(e,t,i){const n=this.footer,a=n.length;let o,l;if(a){const c=Hs(i.rtl,this.x,this.width);for(e.x=wn(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=c.textAlign(i.footerAlign),t.textBaseline="middle",o=Re(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,l=0;l<a;++l)t.fillText(n[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){const{xAlign:a,yAlign:o}=this,{x:l,y:c}=e,{width:h,height:u}=i,{topLeft:f,topRight:p,bottomLeft:x,bottomRight:y}=Bs(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(l+f,c),o==="top"&&this.drawCaret(e,t,i,n),t.lineTo(l+h-p,c),t.quadraticCurveTo(l+h,c,l+h,c+p),o==="center"&&a==="right"&&this.drawCaret(e,t,i,n),t.lineTo(l+h,c+u-y),t.quadraticCurveTo(l+h,c+u,l+h-y,c+u),o==="bottom"&&this.drawCaret(e,t,i,n),t.lineTo(l+x,c+u),t.quadraticCurveTo(l,c+u,l,c+u-x),o==="center"&&a==="left"&&this.drawCaret(e,t,i,n),t.lineTo(l,c+f),t.quadraticCurveTo(l,c,l+f,c),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,n=i&&i.x,a=i&&i.y;if(n||a){const o=gi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Bc(this,e),c=Object.assign({},o,this._size),h=Hc(t,e,c),u=Wc(e,c,h,t);(n._to!==u.x||a._to!==u.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ot(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,n,t),rh(e,t.textDirection),a.y+=o.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),oh(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,n=e.map(({datasetIndex:l,index:c})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[c],index:c}}),a=!In(i,n),o=this._positionChanged(n,t);(a||o)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,a=this._active||[],o=this._getActiveElements(e,a,t,i),l=this._positionChanged(o,e),c=t||!In(o,a)||l;return c&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,i,n){const a=this.options;if(e.type==="mouseout")return[];if(!n)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:n,options:a}=this,o=gi[a.position].call(this,e,t);return o!==!1&&(i!==o.x||n!==o.y)}}L(gr,"positioners",gi);var Dv={id:"tooltip",_element:gr,positioners:gi,afterInit(s,e,t){t&&(s.tooltip=new gr({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ch},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Pv=(s,e,t,i)=>(typeof e=="string"?(t=s.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Lv(s,e,t,i){const n=s.indexOf(e);if(n===-1)return Pv(s,e,t,i);const a=s.lastIndexOf(e);return n!==a?t:n}const Rv=(s,e)=>s===null?null:Ge(Math.round(s),0,e);function Gc(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class xr extends Ys{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:n,label:a}of t)i[n]===a&&i.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(xe(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:Lv(i,e,ee(t,e),this._addedLabels),Rv(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,n=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)n.push({value:o});return n}getLabelForValue(e){return Gc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}L(xr,"id","category"),L(xr,"defaults",{ticks:{callback:Gc}});function Ov(s,e){const t=[],{bounds:n,step:a,min:o,max:l,precision:c,count:h,maxTicks:u,maxDigits:f,includeBounds:p}=s,x=a||1,y=u-1,{min:b,max:_}=e,w=!xe(o),j=!xe(l),S=!xe(h),E=(_-b)/(f+1);let A=ql((_-b)/y/x)*x,F,R,O,z;if(A<1e-14&&!w&&!j)return[{value:b},{value:_}];z=Math.ceil(_/A)-Math.floor(b/A),z>y&&(A=ql(z*A/y/x)*x),xe(c)||(F=Math.pow(10,c),A=Math.ceil(A*F)/F),n==="ticks"?(R=Math.floor(b/A)*A,O=Math.ceil(_/A)*A):(R=b,O=_),w&&j&&a&&nx((l-o)/a,A/1e3)?(z=Math.round(Math.min((l-o)/A,u)),A=(l-o)/z,R=o,O=l):S?(R=w?o:R,O=j?l:O,z=h-1,A=(O-R)/z):(z=(O-R)/A,vi(z,Math.round(z),A/1e3)?z=Math.round(z):z=Math.ceil(z));const H=Math.max(Kl(A),Kl(R));F=Math.pow(10,xe(c)?H:c),R=Math.round(R*F)/F,O=Math.round(O*F)/F;let V=0;for(w&&(p&&R!==o?(t.push({value:o}),R<o&&V++,vi(Math.round((R+V*A)*F)/F,o,Yc(o,E,s))&&V++):R<o&&V++);V<z;++V){const Q=Math.round((R+V*A)*F)/F;if(j&&Q>l)break;t.push({value:Q})}return j&&p&&O!==l?t.length&&vi(t[t.length-1].value,l,Yc(l,E,s))?t[t.length-1].value=l:t.push({value:l}):(!j||O===l)&&t.push({value:O}),t}function Yc(s,e,{horizontal:t,minRotation:i}){const n=Lt(i),a=(t?Math.sin(n):Math.cos(n))||.001,o=.75*e*(""+s).length;return Math.min(e/a,o)}class Iv extends Ys{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return xe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:a}=this;const o=c=>n=t?n:c,l=c=>a=i?a:c;if(e){const c=kt(n),h=kt(a);c<0&&h<0?l(0):c>0&&h>0&&o(0)}if(n===a){let c=a===0?1:Math.abs(a*.05);l(a+c),e||o(n-c)}this.min=n,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,o=Ov(n,a);return e.bounds==="ticks"&&ax(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Or(e,this.chart.options.locale,this.options.ticks.format)}}class br extends Iv{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=rt(e)?e:0,this.max=rt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Lt(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}L(br,"id","linear"),L(br,"defaults",{ticks:{callback:Zd.formatters.numeric}});const sa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ve=Object.keys(sa);function qc(s,e){return s-e}function Kc(s,e){if(xe(e))return null;const t=s._adapter,{parser:i,round:n,isoWeekday:a}=s._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),rt(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(n&&(o=n==="week"&&(zn(a)||a===!0)?t.startOf(o,"isoWeek",a):t.startOf(o,n)),+o)}function Xc(s,e,t,i){const n=Ve.length;for(let a=Ve.indexOf(s);a<n-1;++a){const o=sa[Ve[a]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(l*o.size))<=i)return Ve[a]}return Ve[n-1]}function Fv(s,e,t,i,n){for(let a=Ve.length-1;a>=Ve.indexOf(t);a--){const o=Ve[a];if(sa[o].common&&s._adapter.diff(n,i,o)>=e-1)return o}return Ve[t?Ve.indexOf(t):0]}function $v(s){for(let e=Ve.indexOf(s)+1,t=Ve.length;e<t;++e)if(sa[Ve[e]].common)return Ve[e]}function Qc(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:i,hi:n}=Pr(t,e),a=t[i]>=e?t[i]:t[n];s[a]=!0}}function zv(s,e,t,i){const n=s._adapter,a=+n.startOf(e[0].value,i),o=e[e.length-1].value;let l,c;for(l=a;l<=o;l=+n.add(l,1,i))c=t[l],c>=0&&(e[c].major=!0);return e}function Zc(s,e,t){const i=[],n={},a=e.length;let o,l;for(o=0;o<a;++o)l=e[o],n[l]=o,i.push({value:l,major:!1});return a===0||!t?i:zv(s,i,n,t)}class Vn extends Ys{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),n=this._adapter=new Hb._date(e.adapters.date);n.init(t),yi(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Kc(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:n,max:a,minDefined:o,maxDefined:l}=this.getUserBounds();function c(h){!o&&!isNaN(h.min)&&(n=Math.min(n,h.min)),!l&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),n=rt(n)&&!isNaN(n)?n:+t.startOf(Date.now(),i),a=rt(a)&&!isNaN(a)?a:+t.endOf(Date.now(),i)+1,this.min=Math.min(n,a-1),this.max=Math.max(n+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const a=this.min,o=this.max,l=dx(n,a,o);return this._unit=t.unit||(i.autoSkip?Xc(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):Fv(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:$v(this._unit),this.initOffsets(n),e.reverse&&l.reverse(),Zc(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,n,a;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?t=1-n:t=(this.getDecimalForValue(e[1])-n)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Ge(t,0,o),i=Ge(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,n=this.options,a=n.time,o=a.unit||Xc(a.minUnit,t,i,this._getLabelCapacity(t)),l=ee(n.ticks.stepSize,1),c=o==="week"?a.isoWeekday:!1,h=zn(c)||c===!0,u={};let f=t,p,x;if(h&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,h?"day":o),e.diff(i,t,o)>1e5*l)throw new Error(t+" and "+i+" are too far apart with stepSize of "+l+" "+o);const y=n.ticks.source==="data"&&this.getDataTimestamps();for(p=f,x=0;p<i;p=+e.add(p,l,o),x++)Qc(u,p,y);return(p===i||n.bounds==="ticks"||x===1)&&Qc(u,p,y),Object.keys(u).sort(qc).map(b=>+b)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,a=this._unit,o=t||n[a];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,n){const a=this.options,o=a.ticks.callback;if(o)return ve(o,[e,t,i],this);const l=a.time.displayFormats,c=this._unit,h=this._majorUnit,u=c&&l[c],f=h&&l[h],p=i[t],x=h&&f&&p&&p.major;return this._adapter.format(e,n||(x?f:u))}generateTickLabels(e){let t,i,n;for(t=0,i=e.length;t<i;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,n=Lt(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(n),o=Math.sin(n),l=this._resolveTickFontOptions(0).size;return{w:i*a+l*o,h:i*o+l*a}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,n=i[t.unit]||i.millisecond,a=this._tickFormatFunction(e,0,Zc(this,[e],this._majorUnit),n),o=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,i=n.length;t<i;++t)e=e.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const n=this.getLabels();for(t=0,i=n.length;t<i;++t)e.push(Kc(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Kd(e.sort(qc))}}L(Vn,"id","time"),L(Vn,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function jn(s,e,t){let i=0,n=s.length-1,a,o,l,c;t?(e>=s[i].pos&&e<=s[n].pos&&({lo:i,hi:n}=dr(s,"pos",e)),{pos:a,time:l}=s[i],{pos:o,time:c}=s[n]):(e>=s[i].time&&e<=s[n].time&&({lo:i,hi:n}=dr(s,"time",e)),{time:a,pos:l}=s[i],{time:o,pos:c}=s[n]);const h=o-a;return h?l+(c-l)*(e-a)/h:l}class Jc extends Vn{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=jn(t,this.min),this._tableRange=jn(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,n=[],a=[];let o,l,c,h,u;for(o=0,l=e.length;o<l;++o)h=e[o],h>=t&&h<=i&&n.push(h);if(n.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,l=n.length;o<l;++o)u=n[o+1],c=n[o-1],h=n[o],Math.round((u+c)/2)!==h&&a.push({time:h,pos:o/(l-1)});return a}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((n,a)=>n-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(jn(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return jn(this._table,i*this._tableRange+this._minPos,!0)}}L(Jc,"id","timeseries"),L(Jc,"defaults",Vn.defaults);const Sh="label";function ed(s,e){typeof s=="function"?s(e):s&&(s.current=e)}function Bv(s,e){const t=s.options;t&&e&&Object.assign(t,e)}function Th(s,e){s.labels=e}function Ah(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Sh;const i=[];s.datasets=e.map(n=>{const a=s.datasets.find(o=>o[t]===n[t]);return!a||!n.data||i.includes(a)?{...n}:(i.push(a),Object.assign(a,n),a)})}function Hv(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sh;const t={labels:[],datasets:[]};return Th(t,s.labels),Ah(t,s.datasets,e),t}function Wv(s,e){const{height:t=150,width:i=300,redraw:n=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:h=[],fallbackContent:u,updateMode:f,...p}=s,x=C.useRef(null),y=C.useRef(null),b=()=>{x.current&&(y.current=new ta(x.current,{type:o,data:Hv(l,a),options:c&&{...c},plugins:h}),ed(e,y.current))},_=()=>{ed(e,null),y.current&&(y.current.destroy(),y.current=null)};return C.useEffect(()=>{!n&&y.current&&c&&Bv(y.current,c)},[n,c]),C.useEffect(()=>{!n&&y.current&&Th(y.current.config.data,l.labels)},[n,l.labels]),C.useEffect(()=>{!n&&y.current&&l.datasets&&Ah(y.current.config.data,l.datasets,a)},[n,l.datasets]),C.useEffect(()=>{y.current&&(n?(_(),setTimeout(b)):y.current.update(f))},[n,c,l.labels,l.datasets,f]),C.useEffect(()=>{y.current&&(_(),setTimeout(b))},[o]),C.useEffect(()=>(b(),()=>_()),[]),Kn.createElement("canvas",{ref:x,role:"img",height:t,width:i,...p},u)}const Uv=C.forwardRef(Wv);function Mh(s,e){return ta.register(e),C.forwardRef((t,i)=>Kn.createElement(Uv,{...t,ref:i,type:s}))}const Vv=Mh("bar",Mn),er=Mh("doughnut",ui);ta.register(xr,br,Pn,pi,Ln,mi,kv,Dv,wv);const Gv=({portfolioAnalysis:s,taxCalculations:e,className:t=""})=>{var u;const i=()=>{const f=Object.values(s.market_summaries).flatMap(p=>p.holdings).sort((p,x)=>x.current_value_gbp-p.current_value_gbp).slice(0,10);return{labels:f.map(p=>{var x;return((x=p.security)==null?void 0:x.symbol)||"N/A"}),datasets:[{label:"Portfolio Value (Â£)",data:f.map(p=>p.current_value_gbp),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#FF6384","#C9CBCF","#4BC0C0","#FF6384"],borderWidth:1}]}},n=()=>{const f=Object.values(s.market_summaries).flatMap(p=>p.holdings).map(p=>{var x;return{symbol:((x=p.security)==null?void 0:x.symbol)||"N/A",gain:p.unrealized_gain_loss||0}}).sort((p,x)=>Math.abs(x.gain)-Math.abs(p.gain)).slice(0,15);return{labels:f.map(p=>p.symbol),datasets:[{label:"Unrealized Gains/Losses (Â£)",data:f.map(p=>p.gain),backgroundColor:f.map(p=>p.gain>=0?"#28a745":"#dc3545"),borderColor:"#dee2e6",borderWidth:1}]}},a=()=>{const f=s.market_summaries,p=Object.keys(f);return p.length<=1?{labels:[p[0]||"GBP"],datasets:[{label:"Portfolio Value",data:[s.total_portfolio_value],backgroundColor:["#36A2EB"]}]}:{labels:p,datasets:[{label:"Value by Currency (Â£)",data:p.map(x=>f[x].total_market_value),backgroundColor:["#36A2EB","#FF6384","#FFCE56","#4BC0C0","#9966FF"]}]}},o=()=>{var y,b;const f=((y=e.disposal_calculations)==null?void 0:y.length)||0,p=((b=e.disposal_calculations)==null?void 0:b.filter(_=>_.taxable_gain>0).length)||0,x=f-p;return{labels:["Taxable Gains","Losses/Zero Gains"],datasets:[{label:"Number of Disposals",data:[p,x],backgroundColor:["#dc3545","#28a745"]}]}},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:f=>{const p=f.parsed.y;return`${f.dataset.label}: Â£${p.toLocaleString()}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:f=>`Â£${Number(f).toLocaleString()}`}}}},c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},tooltip:{callbacks:{label:f=>{const p=f.parsed,x=f.dataset.data.reduce((b,_)=>b+_,0),y=(p/x*100).toFixed(1);return`${f.label}: Â£${p.toLocaleString()} (${y}%)`}}}}},h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},tooltip:{callbacks:{label:f=>{const p=f.parsed;return`${f.label}: ${p} disposals`}}}}};return r.jsx("div",{className:`data-visualization ${t}`,children:r.jsxs("div",{className:"row",children:[r.jsx("div",{className:"col-lg-6 mb-4",children:r.jsxs("div",{className:"card h-100",children:[r.jsx("div",{className:"card-header",children:r.jsxs("h5",{className:"card-title mb-0",children:[r.jsx("i",{className:"fas fa-chart-pie me-2"}),"Portfolio Allocation"]})}),r.jsx("div",{className:"card-body",children:r.jsx("div",{style:{height:"300px"},children:r.jsx(er,{data:i(),options:c})})})]})}),r.jsx("div",{className:"col-lg-6 mb-4",children:r.jsxs("div",{className:"card h-100",children:[r.jsx("div",{className:"card-header",children:r.jsxs("h5",{className:"card-title mb-0",children:[r.jsx("i",{className:"fas fa-globe me-2"}),"Currency Breakdown"]})}),r.jsx("div",{className:"card-body",children:r.jsx("div",{style:{height:"300px"},children:r.jsx(er,{data:a(),options:c})})})]})}),r.jsx("div",{className:"col-12 mb-4",children:r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsxs("h5",{className:"card-title mb-0",children:[r.jsx("i",{className:"fas fa-chart-bar me-2"}),"Unrealized Gains/Losses by Security"]})}),r.jsx("div",{className:"card-body",children:r.jsx("div",{style:{height:"400px"},children:r.jsx(Vv,{data:n(),options:l})})})]})}),e.total_tax_liability>0&&r.jsx("div",{className:"col-lg-6 mb-4",children:r.jsxs("div",{className:"card h-100",children:[r.jsx("div",{className:"card-header",children:r.jsxs("h5",{className:"card-title mb-0",children:[r.jsx("i",{className:"fas fa-receipt me-2"}),"Tax Analysis"]})}),r.jsxs("div",{className:"card-body",children:[r.jsx("div",{style:{height:"300px"},children:r.jsx(er,{data:o(),options:h})}),r.jsx("div",{className:"mt-3",children:r.jsxs("div",{className:"row text-center",children:[r.jsx("div",{className:"col-6",children:r.jsxs("div",{className:"border-end",children:[r.jsx("h6",{className:"text-muted mb-1",children:"Total Tax"}),r.jsxs("span",{className:"fs-5 fw-bold text-danger",children:["Â£",e.total_tax_liability.toLocaleString()]})]})}),r.jsxs("div",{className:"col-6",children:[r.jsx("h6",{className:"text-muted mb-1",children:"Disposals"}),r.jsx("span",{className:"fs-5 fw-bold text-info",children:((u=e.disposal_calculations)==null?void 0:u.length)||0})]})]})})]})]})}),r.jsx("div",{className:`${e.total_tax_liability>0?"col-lg-6":"col-12"} mb-4`,children:r.jsxs("div",{className:"card h-100",children:[r.jsx("div",{className:"card-header",children:r.jsxs("h5",{className:"card-title mb-0",children:[r.jsx("i",{className:"fas fa-chart-line me-2"}),"Portfolio Summary"]})}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"row g-3",children:[r.jsx("div",{className:"col-sm-6",children:r.jsxs("div",{className:"text-center p-3 bg-light rounded",children:[r.jsx("h6",{className:"text-muted mb-1",children:"Total Holdings"}),r.jsx("span",{className:"fs-4 fw-bold text-primary",children:Object.values(s.market_summaries).reduce((f,p)=>f+p.holdings.length,0)})]})}),r.jsx("div",{className:"col-sm-6",children:r.jsxs("div",{className:"text-center p-3 bg-light rounded",children:[r.jsx("h6",{className:"text-muted mb-1",children:"Total Value"}),r.jsxs("span",{className:"fs-4 fw-bold text-success",children:["Â£",s.total_portfolio_value.toLocaleString()]})]})}),r.jsx("div",{className:"col-sm-6",children:r.jsxs("div",{className:"text-center p-3 bg-light rounded",children:[r.jsx("h6",{className:"text-muted mb-1",children:"Total Gains"}),r.jsxs("span",{className:`fs-4 fw-bold ${s.total_unrealized_gain_loss>=0?"text-success":"text-danger"}`,children:["Â£",s.total_unrealized_gain_loss.toLocaleString()]})]})}),r.jsx("div",{className:"col-sm-6",children:r.jsxs("div",{className:"text-center p-3 bg-light rounded",children:[r.jsx("h6",{className:"text-muted mb-1",children:"Currencies"}),r.jsx("span",{className:"fs-4 fw-bold text-info",children:Object.keys(s.market_summaries).length||1})]})})]})})]})})]})})},td=s=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:2,maximumFractionDigits:2}).format(s||0),Yv=s=>`${(s||0).toFixed(2)}%`,qv=({metrics:s,taxYear:e,showCgtWarning:t=!1,className:i=""})=>{const n=[{icon:"fas fa-receipt",title:"Total Tax Liability",value:td(s.totalTaxLiability),subtitle:"Capital Gains & Dividend Tax",variantClass:"tax-liability"},{icon:"fas fa-wallet",title:"Portfolio Value",value:td(s.portfolioValue),subtitle:"Current Market Value",variantClass:"portfolio-value"},{icon:"fas fa-chart-line",title:"Total Return",value:Yv(s.totalReturnPercent),subtitle:"Overall Performance",variantClass:"total-return"}];return r.jsxs("div",{className:`results-metrics-summary ${i}`,children:[r.jsx("div",{className:"row g-3 g-md-4 mb-3",children:n.map((a,o)=>r.jsx("div",{className:"col-12 col-md-4",children:r.jsx(ut,{className:`metric-card h-100 shadow-sm border-0 ${a.variantClass}`,children:r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("div",{className:"metric-icon rounded-circle bg-primary bg-opacity-10 text-primary me-3 d-flex align-items-center justify-content-center",children:r.jsx("i",{className:a.icon,"aria-hidden":"true"})}),r.jsxs("div",{children:[r.jsx("div",{className:"metric-label text-muted small fw-semibold text-uppercase",children:a.title}),r.jsx("div",{className:"metric-value h4 mb-0 fw-bold",children:a.value}),r.jsx("div",{className:"metric-subtitle text-muted small",children:a.subtitle})]})]})})},o))}),(t||e==="2024-2025")&&r.jsx(jt,{variant:"warning",className:"shadow-sm border-0",children:r.jsxs("div",{className:"d-flex align-items-start",children:[r.jsx("i",{className:"fas fa-exclamation-triangle me-3 text-warning fa-2x","aria-hidden":"true"}),r.jsxs("div",{children:[r.jsx("h5",{className:"mb-2",children:"Important: 2024-2025 CGT Rate Changes"}),r.jsx("p",{className:"mb-3 small",children:"The annual CGT allowance has been reduced to Â£6,000 for the 2024-2025 tax year. Higher-rate taxpayers remain at 20%. Ensure your calculations account for these updated thresholds."}),r.jsxs("div",{className:"d-flex flex-wrap gap-3 small",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Basic Rate:"})," 10% (unchanged)"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Higher/Additional Rate:"})," 20% (unchanged)"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Annual Exemption:"})," Â£6,000"]})]})]})]})})]})},tr=s=>`Â£${(s||0).toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Kv=({disposals:s,className:e=""})=>{const t=s.reduce((n,a)=>({proceeds:n.proceeds+(a.proceeds||0),costBasis:n.costBasis+(a.costBasis||0),gainLoss:n.gainLoss+(a.gainLoss||0)}),{proceeds:0,costBasis:0,gainLoss:0}),i=r.jsxs("div",{className:"d-flex flex-wrap gap-3",children:[r.jsxs("div",{className:"small text-muted",children:[r.jsx("strong",{children:"Total Proceeds:"})," ",tr(t.proceeds)]}),r.jsxs("div",{className:"small text-muted",children:[r.jsx("strong",{children:"Total Cost:"})," ",tr(t.costBasis)]}),r.jsxs("div",{className:`small fw-semibold ${t.gainLoss>=0?"text-success":"text-danger"}`,children:[r.jsx("strong",{children:"Net Gain/Loss:"})," ",t.gainLoss>=0?"+":"",tr(t.gainLoss)]})]});return r.jsx(ut,{className:`results-disposals-table shadow-sm border-0 ${e}`,title:"Share Disposals",header:r.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap gap-2",children:[r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-exchange-alt me-2 text-secondary","aria-hidden":"true"}),r.jsx("span",{children:"Capital gains and losses from share sales"})]}),r.jsxs("span",{className:"badge bg-light text-dark",children:[s.length," disposals"]})]}),footer:s.length>0?i:void 0,children:r.jsx(wg,{data:s.map(n=>{var a,o;return{disposal_date:n.disposalDate,security:{symbol:n.symbol,name:((o=(a=n.raw)==null?void 0:a.security)==null?void 0:o.name)||n.symbol},quantity:n.quantity,proceeds:n.proceeds,cost_basis:n.costBasis,gain_or_loss:n.gainLoss}}),pagination:!0,pageSize:10,emptyMessage:"No disposals found"})})},sr=s=>`Â£${(s||0).toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Xv=({dividends:s,className:e=""})=>{const t=s.reduce((n,a)=>({gross:n.gross+(a.grossAmount||0),withholding:n.withholding+(a.withholdingTax||0),net:n.net+(a.netAmount||0)}),{gross:0,withholding:0,net:0}),i=r.jsxs("div",{className:"d-flex flex-wrap gap-3",children:[r.jsxs("div",{className:"small text-muted",children:[r.jsx("strong",{children:"Total Gross:"})," ",sr(t.gross)]}),r.jsxs("div",{className:"small text-muted",children:[r.jsx("strong",{children:"Withholding Tax:"})," ",sr(t.withholding)]}),r.jsxs("div",{className:"small fw-semibold text-success",children:[r.jsx("strong",{children:"Total Net:"})," ",sr(t.net)]})]});return r.jsx(ut,{className:`results-dividends-table shadow-sm border-0 ${e}`,title:"Dividend Income",header:r.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap gap-2",children:[r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-coins me-2 text-success","aria-hidden":"true"}),r.jsx("span",{children:"Dividend payments received during the tax year"})]}),r.jsxs("span",{className:"badge bg-light text-dark",children:[s.length," payments"]})]}),footer:s.length>0?i:void 0,children:r.jsx(_g,{data:s.map(n=>({payment_date:n.paymentDate,security:{symbol:n.symbol,name:n.name||n.symbol},amount_gbp:n.grossAmount,withholding_tax_gbp:n.withholdingTax,net_amount_gbp:n.netAmount})),pagination:!0,pageSize:10,emptyMessage:"No dividends found"})})},Qv=({onNewCalculation:s,onLearnMore:e,onGetHelp:t,className:i=""})=>{const n=()=>{if(s){s();return}window.location.hash=""},a=()=>{if(e){e();return}window.location.hash="about"},o=()=>{if(t){t();return}window.location.hash="help"};return r.jsxs(ut,{className:`results-call-to-action shadow-sm border-0 text-center ${i}`,children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"mb-2",children:"Need Another Calculation?"}),r.jsx("p",{className:"text-muted mb-0",children:"Calculate taxes for different years or update your portfolio analysis"})]}),r.jsxs("div",{className:"d-flex flex-wrap justify-content-center gap-3",children:[r.jsxs(He,{variant:"primary",onClick:n,children:[r.jsx("i",{className:"fas fa-calculator me-2","aria-hidden":"true"}),"New Calculation"]}),r.jsxs(He,{variant:"outline-primary",onClick:a,children:[r.jsx("i",{className:"fas fa-info-circle me-2","aria-hidden":"true"}),"Learn More"]}),r.jsxs(He,{variant:"outline-secondary",onClick:o,children:[r.jsx("i",{className:"fas fa-question-circle me-2","aria-hidden":"true"}),"Get Help"]})]})]})},Zv=({onCalculate:s,className:e=""})=>{const[t,i]=C.useState("0"),[n,a]=C.useState("0"),[o,l]=C.useState("0"),[c,h]=C.useState(!1),u=()=>{s({otherIncome:parseFloat(t)||0,otherDividends:parseFloat(n)||0,otherCapitalGains:parseFloat(o)||0})},f=y=>{const b=parseFloat(y)||0;return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:2}).format(b)},p=(y,b)=>{const _=y.replace(/[^\d.]/g,"");_.split(".").length>2||b(_)},x=(parseFloat(t)||0)+(parseFloat(n)||0)+(parseFloat(o)||0);return r.jsxs(ut,{className:`additional-income-card ${e}`,children:[r.jsxs("div",{className:"card-header bg-light",children:[r.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-plus-circle me-2 text-primary","aria-hidden":"true"}),r.jsx("h5",{className:"card-title mb-0",children:"Additional Income Sources"})]}),r.jsx(He,{variant:"link",size:"sm",onClick:()=>h(!c),className:"text-decoration-none",children:c?r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"fas fa-chevron-up me-1"}),"Hide"]}):r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"fas fa-chevron-down me-1"}),"Show"]})})]}),r.jsx("p",{className:"text-muted small mb-0 mt-2",children:"Include other income sources not captured in your brokerage statements for a comprehensive tax calculation"})]}),c&&r.jsxs("div",{className:"card-body",children:[r.jsx("div",{className:"alert alert-info border-0 mb-4",children:r.jsxs("div",{className:"d-flex align-items-start",children:[r.jsx("i",{className:"fas fa-info-circle me-2 mt-1"}),r.jsxs("div",{className:"small",children:[r.jsx("strong",{children:"Note:"})," Enter any additional income from other sources such as other trading accounts, employment income, rental income, or other investments. This will help calculate your total UK tax liability more accurately."]})]})}),r.jsxs("div",{className:"row g-3 mb-4",children:[r.jsxs("div",{className:"col-md-4",children:[r.jsxs("label",{htmlFor:"otherIncome",className:"form-label fw-semibold",children:[r.jsx("i",{className:"fas fa-pound-sign me-1 text-muted"}),"Other Employment/Self-Employment Income"]}),r.jsxs("div",{className:"input-group",children:[r.jsx("span",{className:"input-group-text",children:"Â£"}),r.jsx("input",{type:"text",className:"form-control",id:"otherIncome",value:t,onChange:y=>p(y.target.value,i),placeholder:"0.00","aria-label":"Other income amount"})]}),r.jsx("small",{className:"form-text text-muted",children:"Income from employment, self-employment, or other taxable sources"})]}),r.jsxs("div",{className:"col-md-4",children:[r.jsxs("label",{htmlFor:"otherDividends",className:"form-label fw-semibold",children:[r.jsx("i",{className:"fas fa-hand-holding-usd me-1 text-muted"}),"Other Dividend Income"]}),r.jsxs("div",{className:"input-group",children:[r.jsx("span",{className:"input-group-text",children:"Â£"}),r.jsx("input",{type:"text",className:"form-control",id:"otherDividends",value:n,onChange:y=>p(y.target.value,a),placeholder:"0.00","aria-label":"Other dividends amount"})]}),r.jsx("small",{className:"form-text text-muted",children:"Dividends from other investments not in this portfolio"})]}),r.jsxs("div",{className:"col-md-4",children:[r.jsxs("label",{htmlFor:"otherCapitalGains",className:"form-label fw-semibold",children:[r.jsx("i",{className:"fas fa-chart-line me-1 text-muted"}),"Other Capital Gains"]}),r.jsxs("div",{className:"input-group",children:[r.jsx("span",{className:"input-group-text",children:"Â£"}),r.jsx("input",{type:"text",className:"form-control",id:"otherCapitalGains",value:o,onChange:y=>p(y.target.value,l),placeholder:"0.00","aria-label":"Other capital gains amount"})]}),r.jsx("small",{className:"form-text text-muted",children:"Capital gains from property, crypto, or other assets"})]})]}),x>0&&r.jsx("div",{className:"alert alert-secondary border-0 mb-3",children:r.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[r.jsx("div",{children:r.jsx("strong",{children:"Total Additional Income:"})}),r.jsx("div",{className:"h5 mb-0 text-primary",children:f(x.toString())})]})}),r.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[r.jsxs(He,{variant:"outline-secondary",onClick:()=>{i("0"),a("0"),l("0")},children:[r.jsx("i",{className:"fas fa-undo me-2"}),"Reset"]}),r.jsxs(He,{variant:"primary",onClick:u,children:[r.jsx("i",{className:"fas fa-calculator me-2"}),"Recalculate Tax"]})]})]})]})},Jv=()=>{const{state:s}=Ed(),[e,t]=C.useState({otherIncome:0,otherDividends:0,otherCapitalGains:0}),i=C.useMemo(()=>s.result?s.result:s.raw?zd(s.raw):null,[s.result,s.raw]),n=C.useMemo(()=>{var c;return i!=null&&i.portfolioAnalysis?i.portfolioAnalysis:(c=s.raw)!=null&&c.portfolio_analysis?s.raw.portfolio_analysis:null},[i,s.raw]),a=C.useMemo(()=>{var j,S,E,A,F;const c=(i==null?void 0:i.taxReport)??((j=s.raw)==null?void 0:j.tax_report),h=(i==null?void 0:i.taxAnalysis)??((S=s.raw)==null?void 0:S.tax_analysis);if(!((E=c==null?void 0:c.summary)!=null&&E.estimated_tax_liability))return null;const u=c.summary.estimated_tax_liability||{},f=((A=h==null?void 0:h.capital_gains)==null?void 0:A.section_104_pools)||u.section_104_pools||{},x=(Array.isArray(i==null?void 0:i.disposals)?i.disposals:Array.isArray((F=h==null?void 0:h.capital_gains)==null?void 0:F.disposals)?h.capital_gains.disposals:[]).map(R=>{var ke;const O=Object.prototype.hasOwnProperty.call(R,"disposalDate"),z=O?R.proceeds||0:Number(R.proceeds)||0,H=O?0:Number(R.expenses)||0,V=O?R.costBasis||0:Number(R.cost_basis)||0,Q=O?R.gainLoss||0:Number(R.gain_or_loss)||z-V-H,ye=O?R.disposalDate:R.disposal_date||R.sell_date||R.date||"";return{symbol:O?R.symbol||"UNKNOWN":((ke=R.security)==null?void 0:ke.symbol)||R.symbol||"UNKNOWN",disposal_date:ye,quantity:O?R.quantity||0:Number(R.quantity)||0,proceeds:z,gain_loss:Q}}),y=Number(u.capital_gains_tax)||0,b=Number(u.dividend_tax)||0,_=e.otherCapitalGains*.2,w=e.otherDividends*.0875;return{capital_gains_tax:y+_,dividend_tax:b+w,total_tax_liability:y+_+b+w+(Number(u.currency_gains_tax)||0),section_104_pools:f,disposal_calculations:x,additional_income:e}},[i,s.raw,e]),o=c=>{t(c)},l=(i==null?void 0:i.taxYear)??"N/A";return s.status==="submitting"?r.jsx("div",{className:"container-fluid py-4",children:r.jsx("div",{className:"row justify-content-center",children:r.jsxs("div",{className:"col-12 col-md-8 text-center",children:[r.jsx(On,{size:"lg",className:"mb-3"}),r.jsx("h3",{className:"text-primary",children:"Processing Your Tax Calculation"}),r.jsx("p",{className:"text-muted",children:"Please wait while we analyse your portfolio and calculate your tax obligations..."})]})})}):s.status==="error"?r.jsx("div",{className:"container-fluid py-4",children:r.jsx("div",{className:"row justify-content-center",children:r.jsx("div",{className:"col-12 col-md-8",children:r.jsxs(jt,{variant:"danger",className:"text-center",children:[r.jsxs("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[r.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),r.jsx("h4",{className:"mb-0",children:"Calculation Error"})]}),r.jsx("p",{className:"mb-3",children:s.error||"An unexpected error occurred while processing your calculation."}),r.jsxs(He,{variant:"primary",onClick:()=>window.location.hash="",className:"me-2",children:[r.jsx("i",{className:"fas fa-calculator me-2"}),"Try Again"]})]})})})}):s.status==="idle"?r.jsx("div",{className:"container-fluid py-4",children:r.jsx("div",{className:"row justify-content-center",children:r.jsxs("div",{className:"col-12 col-md-8 text-center",children:[r.jsx("div",{className:"mb-4",children:r.jsx("i",{className:"fas fa-chart-line text-primary",style:{fontSize:"4rem"}})}),r.jsx("h2",{className:"text-primary mb-3",children:"No Calculation Results"}),r.jsx("p",{className:"text-muted mb-4",children:"Upload your brokerage files and run a calculation to see your tax results here."}),r.jsxs(He,{variant:"primary",size:"lg",onClick:()=>window.location.hash="",children:[r.jsx("i",{className:"fas fa-calculator me-2"}),"Start Tax Calculation"]})]})})}):!i||!n||!a?r.jsx("div",{className:"container-fluid py-4",children:r.jsx("div",{className:"row justify-content-center",children:r.jsx("div",{className:"col-12 col-md-8",children:r.jsxs(jt,{variant:"warning",className:"text-center",children:[r.jsx("h4",{children:"Incomplete Data"}),r.jsx("p",{children:"The calculation completed but some results data is missing. Please try running the calculation again."}),r.jsx(He,{variant:"primary",onClick:()=>window.location.hash="",children:"Run New Calculation"})]})})})}):r.jsxs("div",{className:"container-fluid py-4",style:{backgroundColor:"#f8f9fa",minHeight:"100vh"},children:[r.jsx("div",{className:"row mb-4",children:r.jsx("div",{className:"col-12",children:r.jsxs("div",{className:"d-flex justify-content-between align-items-center bg-white rounded shadow-sm p-4 flex-wrap gap-3",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"h2 mb-1 text-primary",children:[r.jsx("i",{className:"fas fa-chart-line me-3"}),"Tax Calculation Results"]}),r.jsx("p",{className:"text-muted mb-0",children:"Comprehensive analysis of your portfolio and UK tax obligations"}),r.jsxs("div",{className:"small text-muted mt-2",children:[r.jsx("strong",{children:"Tax Year:"})," ",l]})]}),r.jsxs("div",{className:"text-end",children:[r.jsxs(He,{variant:"outline-primary",size:"sm",onClick:()=>window.location.hash="",className:"me-2",children:[r.jsx("i",{className:"fas fa-calculator me-2"}),"New Calculation"]}),r.jsxs(He,{variant:"outline-secondary",size:"sm",onClick:()=>window.print(),children:[r.jsx("i",{className:"fas fa-print me-2"}),"Print Results"]})]})]})})}),r.jsx(qv,{metrics:i.metrics,taxYear:i.taxYear,showCgtWarning:i.showCgtWarning,className:"mb-4"}),r.jsx("div",{className:"row mb-4",children:r.jsx("div",{className:"col-12",children:r.jsx(Zv,{onCalculate:o,className:"shadow-sm border-0"})})}),a.total_tax_liability>0&&r.jsx("div",{className:"row mb-4",children:r.jsx("div",{className:"col-12",children:r.jsx(jt,{variant:"warning",className:"border-0 shadow-sm",children:r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("i",{className:"fas fa-exclamation-triangle me-3",style:{fontSize:"1.5rem"}}),r.jsxs("div",{children:[r.jsx("h5",{className:"mb-1",children:"Tax Liability Identified"}),r.jsxs("p",{className:"mb-0",children:["Your portfolio analysis shows a potential tax liability of"," ",r.jsx("strong",{children:new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(a.total_tax_liability)}),". Please consult with a qualified tax advisor to confirm your obligations."]})]})]})})})}),r.jsx("div",{className:"row mb-4",children:r.jsx("div",{className:"col-12",children:r.jsx(gg,{portfolioAnalysis:n,className:"shadow-sm border-0"})})}),r.jsx("div",{className:"row mb-4",children:r.jsx("div",{className:"col-12",children:r.jsx(Kv,{disposals:i.disposals,className:"shadow-sm border-0"})})}),r.jsx("div",{className:"row mb-4",children:r.jsx("div",{className:"col-12",children:r.jsx(Xv,{dividends:i.dividends,className:"shadow-sm border-0"})})}),r.jsx("div",{className:"row mb-4",children:r.jsx("div",{className:"col-12",children:r.jsx(jg,{holdings:i.holdings,marketSummaries:n.market_summaries,className:"shadow-sm border-0"})})}),a&&r.jsx("div",{className:"row mb-4",children:r.jsx("div",{className:"col-12",children:r.jsx(kg,{taxCalculations:a,className:"shadow-sm border-0"})})}),r.jsx("div",{className:"row mb-4",children:r.jsx("div",{className:"col-12",children:r.jsx(Gv,{portfolioAnalysis:n,taxCalculations:a})})}),r.jsx("div",{className:"row mb-4",children:r.jsx("div",{className:"col-12",children:r.jsx(Qv,{})})}),r.jsx("div",{className:"row",children:r.jsx("div",{className:"col-12",children:r.jsxs("div",{className:"bg-white rounded shadow-sm p-4 mb-4",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("h4",{className:"text-dark mb-2",children:"ðŸ“ˆ Further Your Tax Knowledge"}),r.jsx("p",{className:"text-muted",children:"Based on your calculation complexity, these resources can help you understand tax implications better"})]}),r.jsx(Ot,{featuredOnly:!0,limit:3,columns:{xs:1,sm:2,md:3},showRatings:!0,showCategories:!0,layout:"vertical",sortBy:"rating"})]})})}),r.jsx("div",{className:"row",children:r.jsx("div",{className:"col-12",children:r.jsxs("div",{className:"bg-white rounded shadow-sm p-4 text-center",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("h5",{className:"text-muted",children:"Need Help?"}),r.jsx("p",{className:"small text-muted mb-0",children:"These calculations are estimates. For professional tax advice, consult with a qualified accountant or tax advisor."})]}),r.jsxs("div",{className:"d-flex justify-content-center gap-3 flex-wrap",children:[r.jsxs(He,{variant:"primary",onClick:()=>window.location.hash="",children:[r.jsx("i",{className:"fas fa-calculator me-2"}),"Run New Calculation"]}),r.jsxs(He,{variant:"outline-secondary",onClick:()=>window.location.href="/",children:[r.jsx("i",{className:"fas fa-home me-2"}),"Back to Home"]}),r.jsxs(He,{variant:"outline-secondary",onClick:()=>window.open("https://www.gov.uk/capital-gains-tax","_blank"),children:[r.jsx("i",{className:"fas fa-external-link-alt me-2"}),"HMRC Guidance"]})]})]})})})]})},e_=()=>r.jsx("div",{className:"container py-4",children:r.jsx("div",{className:"row justify-content-center",children:r.jsxs("div",{className:"col-lg-8",children:[r.jsx("div",{className:"card shadow",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h1",{className:"card-title",children:"About IBKR Tax Calculator"}),r.jsx("p",{className:"lead",children:"A comprehensive UK Capital Gains Tax calculator designed specifically for Interactive Brokers and other trading platform users."}),r.jsx("h2",{children:"Features"}),r.jsxs("ul",{className:"list-unstyled",children:[r.jsxs("li",{children:[r.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Accurate CGT calculations following HMRC guidelines"]}),r.jsxs("li",{children:[r.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Support for QFX and CSV file imports"]}),r.jsxs("li",{children:[r.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Real-time calculation updates"]}),r.jsxs("li",{children:[r.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Detailed breakdown of gains and losses"]}),r.jsxs("li",{children:[r.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Section 104 holding calculations"]})]}),r.jsx("h2",{children:"Data Privacy"}),r.jsx("p",{children:"Your financial data is processed locally in your browser. No data is stored on our servers, ensuring complete privacy and security."}),r.jsxs("div",{className:"alert alert-info",children:[r.jsx("i",{className:"bi bi-info-circle me-2"}),"This calculator is provided for informational purposes only. Always consult with a qualified tax advisor for official tax guidance."]})]})}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"card shadow",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title h4 mb-3",children:"ðŸ“š Educational Resources"}),r.jsx("p",{className:"text-muted mb-4",children:"Enhance your understanding of UK taxation and investment strategies with these professionally recommended guides"}),r.jsx(Ot,{limit:6,columns:{xs:1,sm:2,md:2,lg:3},showRatings:!0,showCategories:!0,layout:"vertical",sortBy:"featured"})]})})})]})})}),t_=()=>r.jsx("div",{className:"container py-4",children:r.jsx("div",{className:"row justify-content-center",children:r.jsxs("div",{className:"col-lg-10",children:[r.jsx("div",{className:"card shadow",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h1",{className:"card-title",children:"Help & FAQ"}),r.jsx("p",{className:"lead",children:"Get help with using the IBKR Tax Calculator and understanding UK Capital Gains Tax."}),r.jsxs("div",{className:"row",children:[r.jsxs("div",{className:"col-md-6",children:[r.jsx("h2",{children:"Getting Started"}),r.jsxs("div",{className:"accordion",id:"gettingStartedAccordion",children:[r.jsxs("div",{className:"accordion-item",children:[r.jsx("h2",{className:"accordion-header",children:r.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#fileUpload",children:"How to upload transaction files"})}),r.jsx("div",{id:"fileUpload",className:"accordion-collapse collapse","data-bs-parent":"#gettingStartedAccordion",children:r.jsxs("div",{className:"accordion-body",children:[r.jsx("p",{children:"You can upload transaction data in two formats:"}),r.jsxs("ul",{children:[r.jsxs("li",{children:[r.jsx("strong",{children:"QFX files:"})," Export from Interactive Brokers activity statements"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"CSV files:"})," Export from Sharesight or other portfolio platforms"]})]}),r.jsx("p",{children:'Simply click the "Choose File" button and select your file. The calculator will automatically detect the format and process your transactions.'})]})})]}),r.jsxs("div",{className:"accordion-item",children:[r.jsx("h2",{className:"accordion-header",children:r.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#calculations",children:"Understanding the calculations"})}),r.jsx("div",{id:"calculations",className:"accordion-collapse collapse","data-bs-parent":"#gettingStartedAccordion",children:r.jsxs("div",{className:"accordion-body",children:[r.jsx("p",{children:"The calculator follows HMRC guidelines for Capital Gains Tax:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Uses Section 104 holding rules for share pooling"}),r.jsx("li",{children:"Applies 30-day rule for wash sales"}),r.jsx("li",{children:"Calculates allowable costs including broker fees"}),r.jsx("li",{children:"Accounts for currency conversions at HMRC rates"})]})]})})]})]})]}),r.jsxs("div",{className:"col-md-6",children:[r.jsx("h2",{children:"Common Questions"}),r.jsxs("div",{className:"accordion",id:"faqAccordion",children:[r.jsxs("div",{className:"accordion-item",children:[r.jsx("h2",{className:"accordion-header",children:r.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#dataPrivacy",children:"Is my data secure?"})}),r.jsx("div",{id:"dataPrivacy",className:"accordion-collapse collapse","data-bs-parent":"#faqAccordion",children:r.jsx("div",{className:"accordion-body",children:r.jsx("p",{children:"Yes! All calculations are performed locally in your browser. Your financial data never leaves your device and is not stored on our servers."})})})]}),r.jsxs("div",{className:"accordion-item",children:[r.jsx("h2",{className:"accordion-header",children:r.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accuracy",children:"How accurate are the calculations?"})}),r.jsx("div",{id:"accuracy",className:"accordion-collapse collapse","data-bs-parent":"#faqAccordion",children:r.jsx("div",{className:"accordion-body",children:r.jsx("p",{children:"Our calculator follows HMRC guidelines and has been tested with various scenarios. However, always consult with a qualified tax advisor for official tax guidance."})})})]})]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("div",{className:"alert alert-primary",children:[r.jsx("h4",{className:"alert-heading",children:"Need More Help?"}),r.jsx("p",{children:"If you can't find the answer you're looking for, try our CGT Guide for detailed explanations of UK Capital Gains Tax rules."}),r.jsx("a",{href:"#guide",className:"btn btn-primary",children:"View CGT Guide"})]})})]})}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"card shadow",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"h4 mb-3",children:"ðŸ“– Recommended Reading"}),r.jsx("p",{className:"text-muted mb-4",children:"Expand your knowledge with these comprehensive guides to UK taxation and investment strategies"}),r.jsx(Ot,{category:"tax",limit:4,columns:{xs:1,sm:2,md:2},showRatings:!0,showCategories:!1,layout:"horizontal"})]})})})]})})}),s_=()=>r.jsx("div",{className:"container py-4",children:r.jsx("div",{className:"row justify-content-center",children:r.jsx("div",{className:"col-lg-10",children:r.jsx("div",{className:"card shadow",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h1",{className:"card-title",children:"UK Capital Gains Tax Guide"}),r.jsx("p",{className:"lead",children:"A comprehensive guide to understanding UK Capital Gains Tax for shares and investments."}),r.jsxs("div",{className:"row",children:[r.jsxs("div",{className:"col-lg-8",children:[r.jsx("h2",{children:"What is Capital Gains Tax?"}),r.jsx("p",{children:"Capital Gains Tax (CGT) is a tax on the profit when you sell (or 'dispose of') something (an 'asset') that's gone up in value. It's the gain you make that's taxed, not the amount of money you receive."}),r.jsx("h3",{children:"CGT Rates for 2024/25"}),r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table table-striped",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Tax Band"}),r.jsx("th",{children:"Rate (Shares)"}),r.jsx("th",{children:"Rate (Residential Property)"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{children:"Basic Rate"}),r.jsx("td",{children:"10%"}),r.jsx("td",{children:"18%"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Higher Rate"}),r.jsx("td",{children:"20%"}),r.jsx("td",{children:"28%"})]})]})]})}),r.jsx("h3",{children:"Annual Exempt Amount"}),r.jsx("p",{children:"You can make gains of up to Â£6,000 (2024/25) before you need to pay Capital Gains Tax. This is known as your annual exempt amount or 'allowance'."}),r.jsx("h3",{children:"Section 104 Holdings"}),r.jsx("p",{children:"When you buy shares of the same company at different times, they are pooled together in what's called a 'Section 104 holding'. This means you calculate the average cost when you sell shares."}),r.jsxs("div",{className:"alert alert-info",children:[r.jsx("h4",{className:"alert-heading",children:"Example Calculation:"}),r.jsx("p",{children:"If you bought 100 shares at Â£10 each and later bought 50 shares at Â£15 each:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Total shares: 150"}),r.jsx("li",{children:"Total cost: (100 Ã— Â£10) + (50 Ã— Â£15) = Â£1,750"}),r.jsx("li",{children:"Average cost per share: Â£1,750 Ã· 150 = Â£11.67"})]})]}),r.jsx("h3",{children:"The 30-Day Rule"}),r.jsx("p",{children:"If you sell shares and buy the same shares within 30 days, special rules apply to prevent 'bed and breakfasting' (selling and immediately rebuying to crystallize losses)."}),r.jsx("h3",{children:"Allowable Costs"}),r.jsx("p",{children:"You can deduct certain costs from your capital gain:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"The original cost of the asset"}),r.jsx("li",{children:"Costs of buying and selling (e.g., broker fees, stamp duty)"}),r.jsx("li",{children:"Costs of improving the asset"})]})]}),r.jsx("div",{className:"col-lg-4",children:r.jsxs("div",{className:"sticky-top",style:{top:"20px"},children:[r.jsxs("div",{className:"card bg-light",children:[r.jsx("div",{className:"card-header",children:r.jsx("h5",{children:"Quick Links"})}),r.jsx("div",{className:"card-body",children:r.jsxs("ul",{className:"list-unstyled",children:[r.jsx("li",{children:r.jsx("a",{href:"#calculator",className:"text-decoration-none",children:"ðŸ§® Use Calculator"})}),r.jsx("li",{children:r.jsx("a",{href:"#help",className:"text-decoration-none",children:"â“ Get Help"})}),r.jsx("li",{children:r.jsx("a",{href:"#about",className:"text-decoration-none",children:"â„¹ï¸ About Us"})})]})})]}),r.jsx("div",{className:"card bg-warning bg-opacity-10 mt-3",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h6",{className:"card-title",children:"âš ï¸ Important"}),r.jsx("p",{className:"card-text small",children:"This guide provides general information only. Always consult with a qualified tax advisor for specific advice about your situation."})]})})]})})]})]})})})})}),i_=({posts:s,className:e="",onPostClick:t})=>{const[i,n]=C.useState(""),[a,o]=C.useState("All Categories"),[l,c]=C.useState(""),h=C.useMemo(()=>["All Categories",...new Set(s.map(_=>_.category))],[s]),u=C.useMemo(()=>{const b=new Set;return s.forEach(_=>{_.tags&&_.tags.forEach(w=>b.add(w))}),Array.from(b).sort()},[s]),f=C.useMemo(()=>s.filter(b=>{const _=i===""||b.title.toLowerCase().includes(i.toLowerCase())||b.content.toLowerCase().includes(i.toLowerCase())||b.excerpt&&b.excerpt.toLowerCase().includes(i.toLowerCase()),w=a==="All Categories"||b.category===a,j=l===""||b.tags&&b.tags.includes(l);return _&&w&&j}),[s,i,a,l]),p=b=>{c(l===b?"":b)},x=b=>{t&&t(b)},y=b=>new Date(b).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"});return r.jsxs("div",{className:`blog-index ${e}`,children:[r.jsx("div",{className:"blog-controls mb-4",children:r.jsxs("div",{className:"row g-3",children:[r.jsx("div",{className:"col-md-6",children:r.jsx("input",{type:"text",className:"form-control",placeholder:"Search blog posts...",value:i,onChange:b=>n(b.target.value)})}),r.jsx("div",{className:"col-md-3",children:r.jsx("select",{className:"form-select",value:a,onChange:b=>o(b.target.value),children:h.map(b=>r.jsx("option",{value:b,children:b},b))})}),r.jsx("div",{className:"col-md-3",children:r.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[r.jsxs("span",{className:"text-muted small",children:[f.length," articles"]}),l&&r.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>c(""),children:"Clear tag filter"})]})})]})}),u.length>0&&r.jsx("div",{className:"blog-tags mb-4",children:r.jsx("div",{className:"d-flex flex-wrap gap-2",children:u.map(b=>r.jsxs("button",{className:`btn btn-sm ${l===b?"btn-primary":"btn-outline-primary"}`,onClick:()=>p(b),children:["#",b]},b))})}),r.jsx("div",{className:"blog-posts",children:f.length>0?r.jsx("div",{className:"row g-4",children:f.map(b=>r.jsx("div",{className:"col-md-6 col-lg-4",children:r.jsx("div",{className:"card h-100 blog-post-card",style:{cursor:t?"pointer":"default"},onClick:()=>x(b),children:r.jsxs("div",{className:"card-body d-flex flex-column",children:[r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:"badge bg-secondary mb-2",children:b.category})}),r.jsx("h5",{className:"card-title",children:b.title}),r.jsx("p",{className:"card-text flex-grow-1",children:b.excerpt}),r.jsxs("div",{className:"blog-post-meta mt-auto",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[r.jsxs("small",{className:"text-muted",children:["By ",b.author]}),r.jsxs("small",{className:"text-muted",children:[b.readingTime," min read"]})]}),r.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[r.jsx("small",{className:"text-muted",children:y(b.publishedDate)}),r.jsxs("div",{className:"blog-post-tags",children:[b.tags&&b.tags.slice(0,2).map(_=>r.jsx("span",{className:"badge bg-light text-dark me-1",style:{fontSize:"0.7em"},children:_},_)),b.tags&&b.tags.length>2&&r.jsxs("span",{className:"badge bg-light text-dark",style:{fontSize:"0.7em"},children:["+",b.tags.length-2]})]})]})]})]})})},b.id))}):r.jsxs("div",{className:"text-center py-5",children:[r.jsx("div",{className:"mb-3",children:r.jsx("i",{className:"bi bi-search",style:{fontSize:"3rem",color:"#6c757d"}})}),r.jsx("h4",{className:"text-muted",children:"No blog posts found"}),r.jsx("p",{className:"text-muted",children:"Try adjusting your search or filter criteria."}),(i||a!=="All Categories"||l)&&r.jsx("button",{className:"btn btn-outline-primary",onClick:()=>{n(""),o("All Categories"),c("")},children:"Clear all filters"})]})})]})},Eh=({post:s,className:e=""})=>{const t=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return r.jsx("article",{className:`blog-post ${e}`,children:r.jsxs(ut,{className:"blog-post-card",children:[r.jsxs("div",{className:"blog-post-header mb-4",children:[r.jsx("h1",{className:"blog-post-title h2 mb-3 text-primary",children:s.title}),r.jsxs("div",{className:"blog-post-meta d-flex flex-wrap align-items-center text-muted small mb-3",children:[s.author&&r.jsxs("span",{className:"me-3",children:[r.jsx("i",{className:"fas fa-user me-1"}),s.author]}),r.jsxs("span",{className:"me-3",children:[r.jsx("i",{className:"fas fa-calendar me-1"}),t(s.publishedDate)]}),s.readingTime&&r.jsxs("span",{className:"me-3",children:[r.jsx("i",{className:"fas fa-clock me-1"}),s.readingTime," min read"]}),s.category&&r.jsx("span",{className:"badge bg-primary",children:s.category})]}),s.tags&&s.tags.length>0&&r.jsx("div",{className:"blog-post-tags mb-3",children:s.tags.map(i=>r.jsxs("span",{className:"badge bg-light text-dark me-2 mb-1",children:["#",i]},i))})]}),r.jsx("div",{className:"blog-post-content",children:r.jsx("div",{className:"prose",dangerouslySetInnerHTML:{__html:s.content.replace(/(<\/?(ul|ol|li|div|p|h[1-6]|blockquote|pre|table|tr|td|th|thead|tbody)>)\s*\n+\s*/gi,"$1").replace(/>\s*\n+\s*</g,"><").replace(/([^>])\n([^<])/g,"$1<br />$2")}})})]})})};Eh.displayName="BlogPost";const n_="modulepreload",a_=function(s,e){return new URL(s,e).href},sd={},Be=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(t.map(h=>{if(h=a_(h,i),h in sd)return;sd[h]=!0;const u=h.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!i)for(let y=o.length-1;y>=0;y--){const b=o[y];if(b.href===h&&(!u||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${f}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":n_,u||(x.as="script"),x.crossOrigin="",x.href=h,c&&x.setAttribute("nonce",c),document.head.appendChild(x),u)return new Promise((y,b)=>{x.addEventListener("load",y),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function Gr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let ws=Gr();function Dh(s){ws=s}const Ph=/[&<>"']/,r_=new RegExp(Ph.source,"g"),Lh=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,o_=new RegExp(Lh.source,"g"),l_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},id=s=>l_[s];function Ze(s,e){if(e){if(Ph.test(s))return s.replace(r_,id)}else if(Lh.test(s))return s.replace(o_,id);return s}const c_=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function d_(s){return s.replace(c_,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const h_=/(^|[^\[])\^/g;function me(s,e){let t=typeof s=="string"?s:s.source;e=e||"";const i={replace:(n,a)=>{let o=typeof a=="string"?a:a.source;return o=o.replace(h_,"$1"),t=t.replace(n,o),i},getRegex:()=>new RegExp(t,e)};return i}function nd(s){try{s=encodeURI(s).replace(/%25/g,"%")}catch{return null}return s}const ji={exec:()=>null};function ad(s,e){const t=s.replace(/\|/g,(a,o,l)=>{let c=!1,h=o;for(;--h>=0&&l[h]==="\\";)c=!c;return c?"|":" |"}),i=t.split(/ \|/);let n=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function kn(s,e,t){const i=s.length;if(i===0)return"";let n=0;for(;n<i&&s.charAt(i-n-1)===e;)n++;return s.slice(0,i-n)}function u_(s,e){if(s.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<s.length;i++)if(s[i]==="\\")i++;else if(s[i]===e[0])t++;else if(s[i]===e[1]&&(t--,t<0))return i;return-1}function rd(s,e,t,i){const n=e.href,a=e.title?Ze(e.title):null,o=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){i.state.inLink=!0;const l={type:"link",raw:t,href:n,title:a,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,l}return{type:"image",raw:t,href:n,title:a,text:Ze(o)}}function f_(s,e){const t=s.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(n=>{const a=n.match(/^\s+/);if(a===null)return n;const[o]=a;return o.length>=i.length?n.slice(i.length):n}).join(`
`)}class Gn{constructor(e){L(this,"options");L(this,"rules");L(this,"lexer");this.options=e||ws}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:kn(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],n=f_(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const n=kn(i,"#");(this.options.pedantic||!n||/ $/.test(n))&&(i=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let i=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);i=kn(i.replace(/^ *>[ \t]?/gm,""),`
`);const n=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(i);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:a,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const n=i.length>1,a={type:"list",raw:"",ordered:n,start:n?+i.slice(0,-1):"",loose:!1,items:[]};i=n?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=n?i:"[*+-]");const o=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",c="",h=!1;for(;e;){let u=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let f=t[2].split(`
`,1)[0].replace(/^\t+/,w=>" ".repeat(3*w.length)),p=e.split(`
`,1)[0],x=0;this.options.pedantic?(x=2,c=f.trimStart()):(x=t[2].search(/[^ ]/),x=x>4?1:x,c=f.slice(x),x+=t[1].length);let y=!1;if(!f&&/^ *$/.test(p)&&(l+=p+`
`,e=e.substring(p.length+1),u=!0),!u){const w=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),j=new RegExp(`^ {0,${Math.min(3,x-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:\`\`\`|~~~)`),E=new RegExp(`^ {0,${Math.min(3,x-1)}}#`);for(;e;){const A=e.split(`
`,1)[0];if(p=A,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),S.test(p)||E.test(p)||w.test(p)||j.test(e))break;if(p.search(/[^ ]/)>=x||!p.trim())c+=`
`+p.slice(x);else{if(y||f.search(/[^ ]/)>=4||S.test(f)||E.test(f)||j.test(f))break;c+=`
`+p}!y&&!p.trim()&&(y=!0),l+=A+`
`,e=e.substring(A.length+1),f=p.slice(x)}}a.loose||(h?a.loose=!0:/\n *\n *$/.test(l)&&(h=!0));let b=null,_;this.options.gfm&&(b=/^\[[ xX]\] /.exec(c),b&&(_=b[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:l,task:!!b,checked:_,loose:!1,text:c,tokens:[]}),a.raw+=l}a.items[a.items.length-1].raw=l.trimEnd(),a.items[a.items.length-1].text=c.trimEnd(),a.raw=a.raw.trimEnd();for(let u=0;u<a.items.length;u++)if(this.lexer.state.top=!1,a.items[u].tokens=this.lexer.blockTokens(a.items[u].text,[]),!a.loose){const f=a.items[u].tokens.filter(x=>x.type==="space"),p=f.length>0&&f.some(x=>/\n.*\n/.test(x.raw));a.loose=p}if(a.loose)for(let u=0;u<a.items.length;u++)a.items[u].loose=!0;return a}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:n,title:a}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const i=ad(t[1]),n=t[2].replace(/^\||\| *$/g,"").split("|"),a=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===n.length){for(const l of n)/^ *-+: *$/.test(l)?o.align.push("right"):/^ *:-+: *$/.test(l)?o.align.push("center"):/^ *:-+ *$/.test(l)?o.align.push("left"):o.align.push(null);for(const l of i)o.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of a)o.rows.push(ad(l,o.header.length).map(c=>({text:c,tokens:this.lexer.inline(c)})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ze(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=kn(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=u_(t[2],"()");if(o>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let n=t[2],a="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);o&&(n=o[1],a=o[3])}else a=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(this.options.pedantic&&!/>$/.test(i)?n=n.slice(1):n=n.slice(1,-1)),rd(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const n=(i[2]||i[1]).replace(/\s+/g," "),a=t[n.toLowerCase()];if(!a){const o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return rd(i,a,i[0],this.lexer)}}emStrong(e,t,i=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!n||n[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(n[1]||n[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const o=[...n[0]].length-1;let l,c,h=o,u=0;const f=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+o);(n=f.exec(t))!=null;){if(l=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!l)continue;if(c=[...l].length,n[3]||n[4]){h+=c;continue}else if((n[5]||n[6])&&o%3&&!((o+c)%3)){u+=c;continue}if(h-=c,h>0)continue;c=Math.min(c,c+h+u);const p=[...n[0]][0].length,x=e.slice(0,o+n.index+p+c);if(Math.min(o,c)%2){const b=x.slice(1,-1);return{type:"em",raw:x,text:b,tokens:this.lexer.inlineTokens(b)}}const y=x.slice(2,-2);return{type:"strong",raw:x,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const n=/[^ ]/.test(i),a=/^ /.test(i)&&/ $/.test(i);return n&&a&&(i=i.substring(1,i.length-1)),i=Ze(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,n;return t[2]==="@"?(i=Ze(t[1]),n="mailto:"+i):(i=Ze(t[1]),n=i),{type:"link",raw:t[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let t;if(t=this.rules.inline.url.exec(e)){let n,a;if(t[2]==="@")n=Ze(t[0]),a="mailto:"+n;else{let o;do o=t[0],t[0]=((i=this.rules.inline._backpedal.exec(t[0]))==null?void 0:i[0])??"";while(o!==t[0]);n=Ze(t[0]),t[1]==="www."?a="http://"+t[0]:a=t[0]}return{type:"link",raw:t[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=t[0]:i=Ze(t[0]),{type:"text",raw:t[0],text:i}}}}const m_=/^(?: *(?:\n|$))+/,p_=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,g_=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ii=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,x_=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Rh=/(?:[*+-]|\d{1,9}[.)])/,Oh=me(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Rh).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Yr=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,b_=/^[^\n]+/,qr=/(?!\s*\])(?:\\.|[^\[\]\\])+/,y_=me(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",qr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),v_=me(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Rh).getRegex(),ia="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Kr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,__=me("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Kr).replace("tag",ia).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ih=me(Yr).replace("hr",Ii).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ia).getRegex(),w_=me(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ih).getRegex(),Xr={blockquote:w_,code:p_,def:y_,fences:g_,heading:x_,hr:Ii,html:__,lheading:Oh,list:v_,newline:m_,paragraph:Ih,table:ji,text:b_},od=me("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ii).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ia).getRegex(),j_={...Xr,table:od,paragraph:me(Yr).replace("hr",Ii).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",od).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ia).getRegex()},k_={...Xr,html:me(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Kr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ji,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:me(Yr).replace("hr",Ii).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Oh).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Fh=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,N_=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,$h=/^( {2,}|\\)\n(?!\s*$)/,C_=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Fi="\\p{P}\\p{S}",S_=me(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Fi).getRegex(),T_=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,A_=me(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Fi).getRegex(),M_=me("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Fi).getRegex(),E_=me("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Fi).getRegex(),D_=me(/\\([punct])/,"gu").replace(/punct/g,Fi).getRegex(),P_=me(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),L_=me(Kr).replace("(?:-->|$)","-->").getRegex(),R_=me("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",L_).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Yn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,O_=me(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Yn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),zh=me(/^!?\[(label)\]\[(ref)\]/).replace("label",Yn).replace("ref",qr).getRegex(),Bh=me(/^!?\[(ref)\](?:\[\])?/).replace("ref",qr).getRegex(),I_=me("reflink|nolink(?!\\()","g").replace("reflink",zh).replace("nolink",Bh).getRegex(),Qr={_backpedal:ji,anyPunctuation:D_,autolink:P_,blockSkip:T_,br:$h,code:N_,del:ji,emStrongLDelim:A_,emStrongRDelimAst:M_,emStrongRDelimUnd:E_,escape:Fh,link:O_,nolink:Bh,punctuation:S_,reflink:zh,reflinkSearch:I_,tag:R_,text:C_,url:ji},F_={...Qr,link:me(/^!?\[(label)\]\((.*?)\)/).replace("label",Yn).getRegex(),reflink:me(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Yn).getRegex()},yr={...Qr,escape:me(Fh).replace("])","~|])").getRegex(),url:me(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},$_={...yr,br:me($h).replace("{2,}","*").getRegex(),text:me(yr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Nn={normal:Xr,gfm:j_,pedantic:k_},di={normal:Qr,gfm:yr,breaks:$_,pedantic:F_};class _t{constructor(e){L(this,"tokens");L(this,"options");L(this,"state");L(this,"tokenizer");L(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ws,this.options.tokenizer=this.options.tokenizer||new Gn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Nn.normal,inline:di.normal};this.options.pedantic?(t.block=Nn.pedantic,t.inline=di.pedantic):this.options.gfm&&(t.block=Nn.gfm,this.options.breaks?t.inline=di.breaks:t.inline=di.gfm),this.tokenizer.rules=t}static get rules(){return{block:Nn,inline:di}}static lex(e,t){return new _t(t).lex(e)}static lexInline(e,t){return new _t(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,h)=>c+"    ".repeat(h.length));let i,n,a,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(i=l.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+i.raw,n.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let h;this.options.extensions.startBlock.forEach(u=>{h=u.call({lexer:this},c),typeof h=="number"&&h>=0&&(l=Math.min(l,h))}),l<1/0&&l>=0&&(a=e.substring(0,l+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){n=t[t.length-1],o&&n.type==="paragraph"?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i),o=a.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&n.type==="text"?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,n,a,o=e,l,c,h;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,l.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(h=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(i=u.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&i.type==="text"&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),n=t[t.length-1],n&&i.type==="text"&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,o,h)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const f=e.slice(1);let p;this.options.extensions.startInline.forEach(x=>{p=x.call({lexer:this},f),typeof p=="number"&&p>=0&&(u=Math.min(u,p))}),u<1/0&&u>=0&&(a=e.substring(0,u+1))}if(i=this.tokenizer.inlineText(a)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(h=i.raw.slice(-1)),c=!0,n=t[t.length-1],n&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class qn{constructor(e){L(this,"options");this.options=e||ws}code(e,t,i){var a;const n=(a=(t||"").match(/^\S*/))==null?void 0:a[0];return e=e.replace(/\n$/,"")+`
`,n?'<pre><code class="language-'+Ze(n)+'">'+(i?e:Ze(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:Ze(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,i){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,i){const n=t?"ol":"ul",a=t&&i!==1?' start="'+i+'"':"";return"<"+n+a+`>
`+e+"</"+n+`>
`}listitem(e,t,i){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,i){const n=nd(e);if(n===null)return i;e=n;let a='<a href="'+e+'"';return t&&(a+=' title="'+t+'"'),a+=">"+i+"</a>",a}image(e,t,i){const n=nd(e);if(n===null)return i;e=n;let a=`<img src="${e}" alt="${i}"`;return t&&(a+=` title="${t}"`),a+=">",a}text(e){return e}}class Zr{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class wt{constructor(e){L(this,"options");L(this,"renderer");L(this,"textRenderer");this.options=e||ws,this.options.renderer=this.options.renderer||new qn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Zr}static parse(e,t){return new wt(t).parse(e)}static parseInline(e,t){return new wt(t).parseInline(e)}parse(e,t=!0){let i="";for(let n=0;n<e.length;n++){const a=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=a,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){i+=l||"";continue}}switch(a.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{const o=a;i+=this.renderer.heading(this.parseInline(o.tokens),o.depth,d_(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=a;i+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=a;let l="",c="";for(let u=0;u<o.header.length;u++)c+=this.renderer.tablecell(this.parseInline(o.header[u].tokens),{header:!0,align:o.align[u]});l+=this.renderer.tablerow(c);let h="";for(let u=0;u<o.rows.length;u++){const f=o.rows[u];c="";for(let p=0;p<f.length;p++)c+=this.renderer.tablecell(this.parseInline(f[p].tokens),{header:!1,align:o.align[p]});h+=this.renderer.tablerow(c)}i+=this.renderer.table(l,h);continue}case"blockquote":{const o=a,l=this.parse(o.tokens);i+=this.renderer.blockquote(l);continue}case"list":{const o=a,l=o.ordered,c=o.start,h=o.loose;let u="";for(let f=0;f<o.items.length;f++){const p=o.items[f],x=p.checked,y=p.task;let b="";if(p.task){const _=this.renderer.checkbox(!!x);h?p.tokens.length>0&&p.tokens[0].type==="paragraph"?(p.tokens[0].text=_+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&p.tokens[0].tokens[0].type==="text"&&(p.tokens[0].tokens[0].text=_+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",text:_+" "}):b+=_+" "}b+=this.parse(p.tokens,h),u+=this.renderer.listitem(b,y,!!x)}i+=this.renderer.list(u,l,c);continue}case"html":{const o=a;i+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=a;i+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=a,l=o.tokens?this.parseInline(o.tokens):o.text;for(;n+1<e.length&&e[n+1].type==="text";)o=e[++n],l+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);i+=t?this.renderer.paragraph(l):l;continue}default:{const o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let n=0;n<e.length;n++){const a=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){i+=o||"";continue}}switch(a.type){case"escape":{const o=a;i+=t.text(o.text);break}case"html":{const o=a;i+=t.html(o.text);break}case"link":{const o=a;i+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{const o=a;i+=t.image(o.href,o.title,o.text);break}case"strong":{const o=a;i+=t.strong(this.parseInline(o.tokens,t));break}case"em":{const o=a;i+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{const o=a;i+=t.codespan(o.text);break}case"br":{i+=t.br();break}case"del":{const o=a;i+=t.del(this.parseInline(o.tokens,t));break}case"text":{const o=a;i+=t.text(o.text);break}default:{const o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}}class ki{constructor(e){L(this,"options");this.options=e||ws}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}L(ki,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var ys,vr,Hh;class z_{constructor(...e){Pl(this,ys);L(this,"defaults",Gr());L(this,"options",this.setOptions);L(this,"parse",on(this,ys,vr).call(this,_t.lex,wt.parse));L(this,"parseInline",on(this,ys,vr).call(this,_t.lexInline,wt.parseInline));L(this,"Parser",wt);L(this,"Renderer",qn);L(this,"TextRenderer",Zr);L(this,"Lexer",_t);L(this,"Tokenizer",Gn);L(this,"Hooks",ki);this.use(...e)}walkTokens(e,t){var n,a;let i=[];for(const o of e)switch(i=i.concat(t.call(this,o)),o.type){case"table":{const l=o;for(const c of l.header)i=i.concat(this.walkTokens(c.tokens,t));for(const c of l.rows)for(const h of c)i=i.concat(this.walkTokens(h.tokens,t));break}case"list":{const l=o;i=i.concat(this.walkTokens(l.items,t));break}default:{const l=o;(a=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&a[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{const h=l[c].flat(1/0);i=i.concat(this.walkTokens(h,t))}):l.tokens&&(i=i.concat(this.walkTokens(l.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const n={...i};if(n.async=this.defaults.async||n.async||!1,i.extensions&&(i.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const o=t.renderers[a.name];o?t.renderers[a.name]=function(...l){let c=a.renderer.apply(this,l);return c===!1&&(c=o.apply(this,l)),c}:t.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[a.level];o?o.unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(t.childTokens[a.name]=a.childTokens)}),n.extensions=t),i.renderer){const a=this.defaults.renderer||new qn(this.defaults);for(const o in i.renderer){if(!(o in a))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const l=o,c=i.renderer[l],h=a[l];a[l]=(...u)=>{let f=c.apply(a,u);return f===!1&&(f=h.apply(a,u)),f||""}}n.renderer=a}if(i.tokenizer){const a=this.defaults.tokenizer||new Gn(this.defaults);for(const o in i.tokenizer){if(!(o in a))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,c=i.tokenizer[l],h=a[l];a[l]=(...u)=>{let f=c.apply(a,u);return f===!1&&(f=h.apply(a,u)),f}}n.tokenizer=a}if(i.hooks){const a=this.defaults.hooks||new ki;for(const o in i.hooks){if(!(o in a))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const l=o,c=i.hooks[l],h=a[l];ki.passThroughHooks.has(o)?a[l]=u=>{if(this.defaults.async)return Promise.resolve(c.call(a,u)).then(p=>h.call(a,p));const f=c.call(a,u);return h.call(a,f)}:a[l]=(...u)=>{let f=c.apply(a,u);return f===!1&&(f=h.apply(a,u)),f}}n.hooks=a}if(i.walkTokens){const a=this.defaults.walkTokens,o=i.walkTokens;n.walkTokens=function(l){let c=[];return c.push(o.call(this,l)),a&&(c=c.concat(a.call(this,l))),c}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return _t.lex(e,t??this.defaults)}parser(e,t){return wt.parse(e,t??this.defaults)}}ys=new WeakSet,vr=function(e,t){return(i,n)=>{const a={...n},o={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const l=on(this,ys,Hh).call(this,!!o.silent,!!o.async);if(typeof i>"u"||i===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(i):i).then(c=>e(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>t(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(l);try{o.hooks&&(i=o.hooks.preprocess(i));let c=e(i,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let h=t(c,o);return o.hooks&&(h=o.hooks.postprocess(h)),h}catch(c){return l(c)}}},Hh=function(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const n="<p>An error occurred:</p><pre>"+Ze(i.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(i);throw i}};const bs=new z_;function he(s,e){return bs.parse(s,e)}he.options=he.setOptions=function(s){return bs.setOptions(s),he.defaults=bs.defaults,Dh(he.defaults),he};he.getDefaults=Gr;he.defaults=ws;he.use=function(...s){return bs.use(...s),he.defaults=bs.defaults,Dh(he.defaults),he};he.walkTokens=function(s,e){return bs.walkTokens(s,e)};he.parseInline=bs.parseInline;he.Parser=wt;he.parser=wt.parse;he.Renderer=qn;he.TextRenderer=Zr;he.Lexer=_t;he.lexer=_t.lex;he.Tokenizer=Gn;he.Hooks=ki;he.parse=he;he.options;he.setOptions;he.use;he.walkTokens;he.parseInline;wt.parse;_t.lex;function B_(s){const e=[];return["title","slug","author","date","category","tags","excerpt"].forEach(i=>{(s[i]===void 0||s[i]===null||Array.isArray(s[i])&&s[i].length===0||s[i]==="")&&e.push(`Missing required field: ${i}`)}),s.slug&&!/^[a-z0-9-]+$/.test(s.slug)&&e.push(`Invalid slug format: ${s.slug}`),s.date&&(isNaN(Date.parse(s.date))||!/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?)?$/.test(s.date))&&e.push(`Invalid date format (expected ISO 8601): ${s.date}`),s.excerpt&&s.excerpt.length>300&&e.push("Excerpt too long (>300 chars)"),e}function H_(s){const t=s.replace(/`[^`]*`/g," ").replace(/[^A-Za-z0-9\s]/g," ").split(/\s+/).filter(Boolean).length,i=Math.max(1,Math.ceil(t/200));return{wordCount:t,readingTime:i}}function W_(s){const e=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,t=s.match(e);if(!t)return{content:s,data:{}};const[,i,n]=t,a={};return i.split(`
`).forEach(o=>{const l=o.trim();if(!l||l.startsWith("#"))return;const c=l.indexOf(":");if(c===-1)return;const h=l.slice(0,c).trim();let u=l.slice(c+1).trim();if((u.startsWith('"')&&u.endsWith('"')||u.startsWith("'")&&u.endsWith("'"))&&(u=u.slice(1,-1)),u.startsWith("[")&&u.endsWith("]")){const f=u.slice(1,-1);a[h]=f.split(",").map(p=>p.trim().replace(/^["']|["']$/g,"")).filter(Boolean)}else a[h]=u}),{content:n.trim(),data:a}}const U_=Object.assign({"./blog/2024/hmrc-reporting-requirements.md":()=>Be(()=>import("./hmrc-reporting-requirements-lU4HqUMG.js"),[],import.meta.url).then(s=>s.default),"./blog/2024/tax-efficient-investment-strategies.md":()=>Be(()=>import("./tax-efficient-investment-strategies-DNQaJq8Y.js"),[],import.meta.url).then(s=>s.default),"./blog/2024/understanding-uk-capital-gains-tax.md":()=>Be(()=>import("./understanding-uk-capital-gains-tax-Cyo6ytRG.js"),[],import.meta.url).then(s=>s.default),"./blog/2024/using-interactive-brokers-data.md":()=>Be(()=>import("./using-interactive-brokers-data-D5h70NGR.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/beginners-guide-to-technical-analysis.md":()=>Be(()=>import("./beginners-guide-to-technical-analysis-CpYIUNBT.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/diversification-vs-concentration-strategy.md":()=>Be(()=>import("./diversification-vs-concentration-strategy-ASGj5IKK.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/fundamental-vs-technical-analysis.md":()=>Be(()=>import("./fundamental-vs-technical-analysis-DhpKvnYs.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/how-to-keep-a-trading-journal.md":()=>Be(()=>import("./how-to-keep-a-trading-journal-AwUZPstZ.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/mastering-emotional-discipline-trading.md":()=>Be(()=>import("./mastering-emotional-discipline-trading-DlXoXxmI.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/risk-management-fundamentals.md":()=>Be(()=>import("./risk-management-fundamentals-DzetqPgl.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/tax-loss-harvesting-strategy.md":()=>Be(()=>import("./tax-loss-harvesting-strategy-DWsykOlC.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/the-dangers-of-leverage-and-margin.md":()=>Be(()=>import("./the-dangers-of-leverage-and-margin-Cbz9xi3o.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/the-psychology-of-a-winning-trader.md":()=>Be(()=>import("./the-psychology-of-a-winning-trader-uQM59xZc.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/the-ultimate-guide-to-building-a-robust-trading-plan.md":()=>Be(()=>import("./the-ultimate-guide-to-building-a-robust-trading-plan-BfT6WKbu.js"),[],import.meta.url).then(s=>s.default),"./blog/2025/understanding-market-cycles.md":()=>Be(()=>import("./understanding-market-cycles-CTSLSL8u.js"),[],import.meta.url).then(s=>s.default)});let ir=null;function V_(s,e){const{content:t,data:i}=W_(s),n=i,a=B_(n);if(a.length)throw new Error(`Frontmatter validation failed for ${e}:
 - ${a.join(`
 - `)}`);const{wordCount:o,readingTime:l}=H_(t),c=he.parse(t);return{title:n.title,slug:n.slug,author:n.author,date:n.date,category:n.category,tags:n.tags,excerpt:n.excerpt,readingTime:n.readingTime??l,content:c,wordCount:o}}async function G_(s=!1){if(ir&&!s)return ir;const e=Object.entries(U_);e.length===0&&console.warn("[BlogLoader] No markdown modules discovered by import.meta.glob.");const t=[];for(const[i,n]of e)try{const a=await n(),o=V_(a,i);t.push(o)}catch(a){throw console.error("[BlogLoader] Error processing",i,":",a),a}return t.sort((i,n)=>new Date(n.date).getTime()-new Date(i.date).getTime()),ir=t,t}const ld={1:"understanding-uk-capital-gains-tax",2:"hmrc-reporting-requirements",3:"using-interactive-brokers-data",4:"tax-efficient-investment-strategies"},Y_=()=>{const[s,e]=C.useState([]),[t,i]=C.useState(!0),[n,a]=C.useState(null),[o,l]=C.useState(null),c=C.useRef(!1),h=o&&s.find(b=>b.id===o)||null,u=C.useCallback(b=>{const _=[...b.tags||[],b.category,...b.title.toLowerCase().includes("tax")?["tax"]:[],...b.title.toLowerCase().includes("trading")?["trading"]:[],...b.title.toLowerCase().includes("investment")?["investing"]:[],...b.title.toLowerCase().includes("capital gains")?["tax"]:[]].filter(Boolean);return Od(_.join(" ")).slice(0,3)},[]);C.useEffect(()=>{let b=!1;return(async()=>{try{i(!0);const _=await G_();if(!b){const w=_.map(j=>({id:j.slug,title:j.title,content:j.content,excerpt:j.excerpt,author:j.author,publishedDate:j.date,tags:j.tags,category:j.category,readingTime:j.readingTime}));e(w)}}catch(_){b||a((_==null?void 0:_.message)||"Failed to load blog posts")}finally{b||i(!1)}})(),()=>{b=!0}},[]);const f=C.useCallback(()=>{if(typeof window>"u")return;const b=window.location.hash,_=b.startsWith("#")?b.substring(1):b;if(_==="blog"){l(null);return}if(_.startsWith("blog/")){const w=_.split("/");let j="";if(w.length===2?j=w[1]:w.length===3&&w[1]==="post"&&(j=w[2]),j){if(/^\d+$/.test(j)&&ld[j]){const S=ld[j];if(!c.current){c.current=!0,window.location.replace(`#blog/post/${S}`);return}}l(j);return}}l(null)},[]);C.useEffect(()=>{f();const b=()=>f();return window.addEventListener("hashchange",b),()=>window.removeEventListener("hashchange",b)},[f]);const p=b=>{typeof window<"u"&&(window.location.hash=`blog/post/${b}`)},x=b=>{p(b.id)},y=()=>{typeof window<"u"&&(window.location.hash="blog")};return r.jsx("div",{className:"container-fluid py-4",children:r.jsx("div",{className:"row justify-content-center",children:r.jsxs("div",{className:"col-12 col-xl-10",children:[!h&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h1",{className:"h2 text-primary mb-2",children:"Tax Calculator Blog"}),r.jsx("p",{className:"text-muted lead",children:"Expert insights, guides, and updates on UK tax calculations for stocks and shares."})]}),t&&r.jsx("div",{className:"text-center py-5",children:r.jsx("div",{className:"spinner-border text-primary",role:"status",children:r.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),!t&&n&&r.jsx("div",{className:"alert alert-danger",role:"alert",children:n}),!t&&!n&&h?r.jsxs("div",{className:"blog-post-detail",children:[r.jsxs("div",{className:"d-flex align-items-center mb-3",children:[r.jsxs("button",{className:"btn btn-sm btn-outline-secondary me-3",onClick:y,children:[r.jsx("i",{className:"bi bi-arrow-left me-1"})," Back to all posts"]}),r.jsxs("span",{className:"text-muted small",children:["Post ",s.findIndex(b=>b.id===h.id)+1," of ",s.length]})]}),r.jsx(Eh,{post:h}),r.jsx("div",{className:"mt-5 mb-4",children:r.jsxs("div",{className:"border-top pt-4",children:[r.jsx("h4",{className:"h5 mb-3",children:"ðŸ“š Related Resources"}),r.jsx("p",{className:"text-muted mb-3",children:"Deepen your understanding with these expert-recommended books"}),r.jsx(Ot,{products:u(h),columns:{xs:1,sm:2,md:3},showRatings:!0,showCategories:!0,layout:"vertical",emptyStateMessage:"No related books found for this topic"})]})}),r.jsxs("div",{className:"mt-4 d-flex justify-content-between",children:[r.jsxs("button",{className:"btn btn-outline-primary btn-sm",disabled:s.length===0||h.id===s[0].id,onClick:()=>{const b=s.findIndex(_=>_.id===h.id);b>0&&p(s[b-1].id)},children:[r.jsx("i",{className:"bi bi-chevron-left me-1"})," Previous"]}),r.jsxs("button",{className:"btn btn-outline-primary btn-sm",disabled:s.length===0||h.id===s[s.length-1].id,onClick:()=>{const b=s.findIndex(_=>_.id===h.id);b<s.length-1&&p(s[b+1].id)},children:["Next ",r.jsx("i",{className:"bi bi-chevron-right ms-1"})]})]})]}):null,!t&&!n&&!h&&r.jsx(i_,{posts:s,onPostClick:x,className:"blog-page-index"})]})})})},q_=()=>{const[s,e]=C.useState("all"),[t,i]=C.useState(""),[n,a]=C.useState("vertical"),o=qt(),l=Rd();return r.jsx("div",{className:"container my-5",children:r.jsx("div",{className:"row",children:r.jsxs("div",{className:"col-12",children:[r.jsxs("div",{className:"text-center mb-5",children:[r.jsx("h1",{className:"display-4 mb-3",children:"Affiliate Components Demo"}),r.jsx("p",{className:"lead text-muted",children:"Comprehensive Amazon affiliate marketing system for tax and trading books"}),r.jsx(An,{style:"banner"})]}),r.jsxs("div",{className:"card mb-4",children:[r.jsx("div",{className:"card-header",children:r.jsxs("h5",{className:"card-title mb-0",children:[r.jsx("i",{className:"bi bi-gear me-2"}),"Demo Controls"]})}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"row g-3",children:[r.jsxs("div",{className:"col-md-4",children:[r.jsx("label",{htmlFor:"categorySelect",className:"form-label",children:"Category Filter"}),r.jsxs("select",{id:"categorySelect",className:"form-select",value:s,onChange:c=>e(c.target.value),children:[r.jsx("option",{value:"all",children:"All Categories"}),r.jsx("option",{value:"tax",children:"Tax Guides"}),r.jsx("option",{value:"trading",children:"Trading Psychology"}),r.jsx("option",{value:"finance",children:"Finance & Investment"}),r.jsx("option",{value:"business",children:"Business & Entrepreneurship"})]})]}),r.jsxs("div",{className:"col-md-4",children:[r.jsx("label",{htmlFor:"searchInput",className:"form-label",children:"Search Products"}),r.jsx("input",{id:"searchInput",type:"text",className:"form-control",placeholder:"Search by title, author, or tags...",value:t,onChange:c=>i(c.target.value)})]}),r.jsxs("div",{className:"col-md-4",children:[r.jsx("label",{htmlFor:"layoutSelect",className:"form-label",children:"Card Layout"}),r.jsxs("select",{id:"layoutSelect",className:"form-select",value:n,onChange:c=>a(c.target.value),children:[r.jsx("option",{value:"vertical",children:"Vertical Cards"}),r.jsx("option",{value:"horizontal",children:"Horizontal Cards"})]})]})]})})]}),r.jsxs("div",{className:"row mb-5",children:[r.jsx("div",{className:"col-lg-6 mb-4",children:r.jsxs("div",{className:"card h-100",children:[r.jsx("div",{className:"card-header",children:r.jsxs("h5",{className:"card-title mb-0",children:[r.jsx("i",{className:"bi bi-link-45deg me-2"}),"AffiliateLink Component"]})}),r.jsxs("div",{className:"card-body",children:[r.jsx("p",{className:"text-muted",children:"Simple affiliate links with tracking and FTC compliance:"}),r.jsxs("div",{className:"d-flex flex-column gap-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Default Link:"}),r.jsx("br",{}),r.jsx(xi,{product:o[0]})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Button Style:"}),r.jsx("br",{}),r.jsxs(xi,{product:o[0],className:"btn btn-primary",children:[r.jsx("i",{className:"bi bi-cart3 me-2"}),"Buy on Amazon"]})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"No Disclosure:"}),r.jsx("br",{}),r.jsx(xi,{product:o[0],showDisclosure:!1,className:"btn btn-outline-success btn-sm",children:"View Details"})]})]})]})]})}),r.jsx("div",{className:"col-lg-6 mb-4",children:r.jsxs("div",{className:"card h-100",children:[r.jsx("div",{className:"card-header",children:r.jsxs("h5",{className:"card-title mb-0",children:[r.jsx("i",{className:"bi bi-card-text me-2"}),"AffiliateCard Component"]})}),r.jsxs("div",{className:"card-body",children:[r.jsx("p",{className:"text-muted",children:"Rich product cards with images and details:"}),l.length>0&&r.jsx(Id,{product:l[0],layout:"horizontal",imageHeight:120,compact:!0})]})]})})]}),l.length>0&&r.jsxs("section",{className:"mb-5",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[r.jsxs("h2",{className:"h3 mb-0",children:[r.jsx("i",{className:"bi bi-star-fill text-warning me-2"}),"Featured Products"]}),r.jsxs("span",{className:"badge bg-primary",children:[l.length," products"]})]}),r.jsx(Ot,{products:l,columns:{xs:1,sm:2,md:2,lg:3,xl:4},layout:"vertical",showRatings:!0,showCategories:!0})]}),r.jsxs("section",{className:"mb-5",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[r.jsxs("h2",{className:"h3 mb-0",children:[r.jsx("i",{className:"bi bi-grid-3x3-gap me-2"}),"Product Catalog"]}),r.jsxs("span",{className:"badge bg-secondary",children:[o.length," total products"]})]}),r.jsx(Ot,{category:s!=="all"?s:void 0,searchQuery:t,layout:n,columns:{xs:1,sm:2,md:2,lg:3,xl:4},showRatings:!0,showCategories:!0,sortBy:"featured",emptyStateMessage:"No products match your search criteria"})]}),r.jsxs("section",{className:"mb-5",children:[r.jsxs("h2",{className:"h3 mb-4",children:[r.jsx("i",{className:"bi bi-tags me-2"}),"Categories Overview"]}),r.jsx("div",{className:"row g-4",children:["tax","trading","finance","business"].map(c=>{const h=Ld(c);return r.jsx("div",{className:"col-lg-6",children:r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsxs("h5",{className:"card-title mb-0 text-capitalize",children:[c," (",h.length,")"]})}),r.jsx("div",{className:"card-body",children:h.length>0?r.jsx(Ot,{products:h.slice(0,2),columns:{xs:1,sm:2},layout:"horizontal",showCategories:!1,showRatings:!0}):r.jsx("p",{className:"text-muted text-center py-3",children:"No products in this category yet."})})]})},c)})})]}),r.jsxs("section",{className:"mb-5",children:[r.jsxs("h2",{className:"h3 mb-4",children:[r.jsx("i",{className:"bi bi-shield-check me-2"}),"Disclosure Styles"]}),r.jsxs("div",{className:"row g-4",children:[r.jsxs("div",{className:"col-md-4",children:[r.jsx("h6",{children:"Inline Style"}),r.jsxs("p",{children:["Check out this amazing book",r.jsx(An,{style:"inline"})]})]}),r.jsxs("div",{className:"col-md-8",children:[r.jsx("h6",{children:"Footer Style"}),r.jsx(An,{style:"footer"})]})]})]}),r.jsx("section",{className:"mb-5",children:r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsxs("h5",{className:"card-title mb-0",children:[r.jsx("i",{className:"bi bi-graph-up me-2"}),"System Statistics"]})}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"row text-center",children:[r.jsxs("div",{className:"col-md-3",children:[r.jsx("div",{className:"h4 text-primary",children:o.length}),r.jsx("small",{className:"text-muted",children:"Total Products"})]}),r.jsxs("div",{className:"col-md-3",children:[r.jsx("div",{className:"h4 text-success",children:l.length}),r.jsx("small",{className:"text-muted",children:"Featured Products"})]}),r.jsxs("div",{className:"col-md-3",children:[r.jsx("div",{className:"h4 text-info",children:Array.from(new Set(o.map(c=>c.category))).length}),r.jsx("small",{className:"text-muted",children:"Categories"})]}),r.jsxs("div",{className:"col-md-3",children:[r.jsx("div",{className:"h4 text-warning",children:(o.reduce((c,h)=>c+(h.rating||0),0)/o.length).toFixed(1)}),r.jsx("small",{className:"text-muted",children:"Avg Rating"})]})]})})]})}),r.jsx("section",{className:"mb-5",children:r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsxs("h5",{className:"card-title mb-0",children:[r.jsx("i",{className:"bi bi-code-square me-2"}),"Quick Implementation Guide"]})}),r.jsxs("div",{className:"card-body",children:[r.jsx("h6",{children:"1. Import Components"}),r.jsx("pre",{className:"bg-light p-3 rounded",children:`import {
  AffiliateLink,
  AffiliateCard,
  AffiliateGrid,
  AffiliateDisclosure
} from './components/affiliate';`}),r.jsx("h6",{children:"2. Basic Usage"}),r.jsx("pre",{className:"bg-light p-3 rounded",children:`// Simple affiliate link
<AffiliateLink product={product} />

// Product grid
<AffiliateGrid category="tax" limit={6} />

// FTC disclosure
<AffiliateDisclosure style="banner" />`}),r.jsx("h6",{children:"3. Add to Your Pages"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Tax Calculator: Show tax guide books"}),r.jsx("li",{children:"Trading Tools: Display trading psychology books"}),r.jsx("li",{children:"Blog Posts: Relevant book recommendations"}),r.jsx("li",{children:"Footer: Legal disclosures"})]})]})]})})]})})})},K_=()=>(console.log("[SPA] App component rendering with HashRouter..."),r.jsx(Pp,{children:r.jsx(Kp,{position:"top-end",children:r.jsx(Vp,{children:r.jsx("div",{className:"min-vh-100 bg-light",children:r.jsx(eg,{children:r.jsxs(dp,{children:[r.jsx(Mt,{path:"/",element:r.jsx(ig,{})}),r.jsx(Mt,{path:"/calculator",element:r.jsx(pg,{})}),r.jsx(Mt,{path:"/results",element:r.jsx(Jv,{})}),r.jsx(Mt,{path:"/about",element:r.jsx(e_,{})}),r.jsx(Mt,{path:"/help",element:r.jsx(t_,{})}),r.jsx(Mt,{path:"/guide",element:r.jsx(s_,{})}),r.jsx(Mt,{path:"/blog/*",element:r.jsx(Y_,{})}),r.jsx(Mt,{path:"/affiliate-demo",element:r.jsx(q_,{})})]})})})})})}));var X_={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(s,e){(function(t,i){s.exports=i()})(mm,function(){const t=new Map,i={set(g,d,m){t.has(g)||t.set(g,new Map);const v=t.get(g);v.has(d)||v.size===0?v.set(d,m):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(v.keys())[0]}.`)},get:(g,d)=>t.has(g)&&t.get(g).get(d)||null,remove(g,d){if(!t.has(g))return;const m=t.get(g);m.delete(d),m.size===0&&t.delete(g)}},n="transitionend",a=g=>(g&&window.CSS&&window.CSS.escape&&(g=g.replace(/#([^\s"#']+)/g,(d,m)=>`#${CSS.escape(m)}`)),g),o=g=>g==null?`${g}`:Object.prototype.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase(),l=g=>{g.dispatchEvent(new Event(n))},c=g=>!(!g||typeof g!="object")&&(g.jquery!==void 0&&(g=g[0]),g.nodeType!==void 0),h=g=>c(g)?g.jquery?g[0]:g:typeof g=="string"&&g.length>0?document.querySelector(a(g)):null,u=g=>{if(!c(g)||g.getClientRects().length===0)return!1;const d=getComputedStyle(g).getPropertyValue("visibility")==="visible",m=g.closest("details:not([open])");if(!m)return d;if(m!==g){const v=g.closest("summary");if(v&&v.parentNode!==m||v===null)return!1}return d},f=g=>!g||g.nodeType!==Node.ELEMENT_NODE||!!g.classList.contains("disabled")||(g.disabled!==void 0?g.disabled:g.hasAttribute("disabled")&&g.getAttribute("disabled")!=="false"),p=g=>{if(!document.documentElement.attachShadow)return null;if(typeof g.getRootNode=="function"){const d=g.getRootNode();return d instanceof ShadowRoot?d:null}return g instanceof ShadowRoot?g:g.parentNode?p(g.parentNode):null},x=()=>{},y=g=>{g.offsetHeight},b=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,_=[],w=()=>document.documentElement.dir==="rtl",j=g=>{var d;d=()=>{const m=b();if(m){const v=g.NAME,k=m.fn[v];m.fn[v]=g.jQueryInterface,m.fn[v].Constructor=g,m.fn[v].noConflict=()=>(m.fn[v]=k,g.jQueryInterface)}},document.readyState==="loading"?(_.length||document.addEventListener("DOMContentLoaded",()=>{for(const m of _)m()}),_.push(d)):d()},S=(g,d=[],m=g)=>typeof g=="function"?g.call(...d):m,E=(g,d,m=!0)=>{if(!m)return void S(g);const v=(T=>{if(!T)return 0;let{transitionDuration:D,transitionDelay:P}=window.getComputedStyle(T);const $=Number.parseFloat(D),B=Number.parseFloat(P);return $||B?(D=D.split(",")[0],P=P.split(",")[0],1e3*(Number.parseFloat(D)+Number.parseFloat(P))):0})(d)+5;let k=!1;const N=({target:T})=>{T===d&&(k=!0,d.removeEventListener(n,N),S(g))};d.addEventListener(n,N),setTimeout(()=>{k||l(d)},v)},A=(g,d,m,v)=>{const k=g.length;let N=g.indexOf(d);return N===-1?!m&&v?g[k-1]:g[0]:(N+=m?1:-1,v&&(N=(N+k)%k),g[Math.max(0,Math.min(N,k-1))])},F=/[^.]*(?=\..*)\.|.*/,R=/\..*/,O=/::\d+$/,z={};let H=1;const V={mouseenter:"mouseover",mouseleave:"mouseout"},Q=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ye(g,d){return d&&`${d}::${H++}`||g.uidEvent||H++}function ke(g){const d=ye(g);return g.uidEvent=d,z[d]=z[d]||{},z[d]}function ie(g,d,m=null){return Object.values(g).find(v=>v.callable===d&&v.delegationSelector===m)}function re(g,d,m){const v=typeof d=="string",k=v?m:d||m;let N=K(g);return Q.has(N)||(N=g),[v,k,N]}function pe(g,d,m,v,k){if(typeof d!="string"||!g)return;let[N,T,D]=re(d,m,v);d in V&&(T=(Y=>function(G){if(!G.relatedTarget||G.relatedTarget!==G.delegateTarget&&!G.delegateTarget.contains(G.relatedTarget))return Y.call(this,G)})(T));const P=ke(g),$=P[D]||(P[D]={}),B=ie($,T,N?m:null);if(B)return void(B.oneOff=B.oneOff&&k);const I=ye(T,d.replace(F,"")),Z=N?function(U,Y,G){return function q(ue){const be=U.querySelectorAll(Y);for(let{target:te}=ue;te&&te!==this;te=te.parentNode)for(const ae of be)if(ae===te)return Oe(ue,{delegateTarget:te}),q.oneOff&&M.off(U,ue.type,Y,G),G.apply(te,[ue])}}(g,m,T):function(U,Y){return function G(q){return Oe(q,{delegateTarget:U}),G.oneOff&&M.off(U,q.type,Y),Y.apply(U,[q])}}(g,T);Z.delegationSelector=N?m:null,Z.callable=T,Z.oneOff=k,Z.uidEvent=I,$[I]=Z,g.addEventListener(D,Z,N)}function Ee(g,d,m,v,k){const N=ie(d[m],v,k);N&&(g.removeEventListener(m,N,!!k),delete d[m][N.uidEvent])}function Se(g,d,m,v){const k=d[m]||{};for(const[N,T]of Object.entries(k))N.includes(v)&&Ee(g,d,m,T.callable,T.delegationSelector)}function K(g){return g=g.replace(R,""),V[g]||g}const M={on(g,d,m,v){pe(g,d,m,v,!1)},one(g,d,m,v){pe(g,d,m,v,!0)},off(g,d,m,v){if(typeof d!="string"||!g)return;const[k,N,T]=re(d,m,v),D=T!==d,P=ke(g),$=P[T]||{},B=d.startsWith(".");if(N===void 0){if(B)for(const I of Object.keys(P))Se(g,P,I,d.slice(1));for(const[I,Z]of Object.entries($)){const U=I.replace(O,"");D&&!d.includes(U)||Ee(g,P,T,Z.callable,Z.delegationSelector)}}else{if(!Object.keys($).length)return;Ee(g,P,T,N,k?m:null)}},trigger(g,d,m){if(typeof d!="string"||!g)return null;const v=b();let k=null,N=!0,T=!0,D=!1;d!==K(d)&&v&&(k=v.Event(d,m),v(g).trigger(k),N=!k.isPropagationStopped(),T=!k.isImmediatePropagationStopped(),D=k.isDefaultPrevented());const P=Oe(new Event(d,{bubbles:N,cancelable:!0}),m);return D&&P.preventDefault(),T&&g.dispatchEvent(P),P.defaultPrevented&&k&&k.preventDefault(),P}};function Oe(g,d={}){for(const[m,v]of Object.entries(d))try{g[m]=v}catch{Object.defineProperty(g,m,{configurable:!0,get:()=>v})}return g}function Pe(g){if(g==="true")return!0;if(g==="false")return!1;if(g===Number(g).toString())return Number(g);if(g===""||g==="null")return null;if(typeof g!="string")return g;try{return JSON.parse(decodeURIComponent(g))}catch{return g}}function We(g){return g.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const De={setDataAttribute(g,d,m){g.setAttribute(`data-bs-${We(d)}`,m)},removeDataAttribute(g,d){g.removeAttribute(`data-bs-${We(d)}`)},getDataAttributes(g){if(!g)return{};const d={},m=Object.keys(g.dataset).filter(v=>v.startsWith("bs")&&!v.startsWith("bsConfig"));for(const v of m){let k=v.replace(/^bs/,"");k=k.charAt(0).toLowerCase()+k.slice(1),d[k]=Pe(g.dataset[v])}return d},getDataAttribute:(g,d)=>Pe(g.getAttribute(`data-bs-${We(d)}`))};class Ye{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,m){const v=c(m)?De.getDataAttribute(m,"config"):{};return{...this.constructor.Default,...typeof v=="object"?v:{},...c(m)?De.getDataAttributes(m):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,m=this.constructor.DefaultType){for(const[v,k]of Object.entries(m)){const N=d[v],T=c(N)?"element":o(N);if(!new RegExp(k).test(T))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${T}" but expected type "${k}".`)}}}class lt extends Ye{constructor(d,m){super(),(d=h(d))&&(this._element=d,this._config=this._getConfig(m),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),M.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,m,v=!0){E(d,m,v)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return i.get(h(d),this.DATA_KEY)}static getOrCreateInstance(d,m={}){return this.getInstance(d)||new this(d,typeof m=="object"?m:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const na=g=>{let d=g.getAttribute("data-bs-target");if(!d||d==="#"){let m=g.getAttribute("href");if(!m||!m.includes("#")&&!m.startsWith("."))return null;m.includes("#")&&!m.startsWith("#")&&(m=`#${m.split("#")[1]}`),d=m&&m!=="#"?m.trim():null}return d?d.split(",").map(m=>a(m)).join(","):null},W={find:(g,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,g)),findOne:(g,d=document.documentElement)=>Element.prototype.querySelector.call(d,g),children:(g,d)=>[].concat(...g.children).filter(m=>m.matches(d)),parents(g,d){const m=[];let v=g.parentNode.closest(d);for(;v;)m.push(v),v=v.parentNode.closest(d);return m},prev(g,d){let m=g.previousElementSibling;for(;m;){if(m.matches(d))return[m];m=m.previousElementSibling}return[]},next(g,d){let m=g.nextElementSibling;for(;m;){if(m.matches(d))return[m];m=m.nextElementSibling}return[]},focusableChildren(g){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(m=>`${m}:not([tabindex^="-"])`).join(",");return this.find(d,g).filter(m=>!f(m)&&u(m))},getSelectorFromElement(g){const d=na(g);return d&&W.findOne(d)?d:null},getElementFromSelector(g){const d=na(g);return d?W.findOne(d):null},getMultipleElementsFromSelector(g){const d=na(g);return d?W.find(d):[]}},$i=(g,d="hide")=>{const m=`click.dismiss${g.EVENT_KEY}`,v=g.NAME;M.on(document,m,`[data-bs-dismiss="${v}"]`,function(k){if(["A","AREA"].includes(this.tagName)&&k.preventDefault(),f(this))return;const N=W.getElementFromSelector(this)||this.closest(`.${v}`);g.getOrCreateInstance(N)[d]()})},Jr=".bs.alert",Wh=`close${Jr}`,Uh=`closed${Jr}`;class qs extends lt{static get NAME(){return"alert"}close(){if(M.trigger(this._element,Wh).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),M.trigger(this._element,Uh),this.dispose()}static jQueryInterface(d){return this.each(function(){const m=qs.getOrCreateInstance(this);if(typeof d=="string"){if(m[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);m[d](this)}})}}$i(qs,"close"),j(qs);const eo='[data-bs-toggle="button"]';class Ks extends lt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const m=Ks.getOrCreateInstance(this);d==="toggle"&&m[d]()})}}M.on(document,"click.bs.button.data-api",eo,g=>{g.preventDefault();const d=g.target.closest(eo);Ks.getOrCreateInstance(d).toggle()}),j(Ks);const js=".bs.swipe",Vh=`touchstart${js}`,Gh=`touchmove${js}`,Yh=`touchend${js}`,qh=`pointerdown${js}`,Kh=`pointerup${js}`,Xh={endCallback:null,leftCallback:null,rightCallback:null},Qh={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class zi extends Ye{constructor(d,m){super(),this._element=d,d&&zi.isSupported()&&(this._config=this._getConfig(m),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Xh}static get DefaultType(){return Qh}static get NAME(){return"swipe"}dispose(){M.off(this._element,js)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),S(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const m=d/this._deltaX;this._deltaX=0,m&&S(m>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(M.on(this._element,qh,d=>this._start(d)),M.on(this._element,Kh,d=>this._end(d)),this._element.classList.add("pointer-event")):(M.on(this._element,Vh,d=>this._start(d)),M.on(this._element,Gh,d=>this._move(d)),M.on(this._element,Yh,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const zt=".bs.carousel",to=".data-api",Zh="ArrowLeft",Jh="ArrowRight",Xs="next",ks="prev",Ns="left",Bi="right",eu=`slide${zt}`,aa=`slid${zt}`,tu=`keydown${zt}`,su=`mouseenter${zt}`,iu=`mouseleave${zt}`,nu=`dragstart${zt}`,au=`load${zt}${to}`,ru=`click${zt}${to}`,so="carousel",Hi="active",io=".active",no=".carousel-item",ou=io+no,lu={[Zh]:Bi,[Jh]:Ns},cu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},du={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Cs extends lt{constructor(d,m){super(d,m),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===so&&this.cycle()}static get Default(){return cu}static get DefaultType(){return du}static get NAME(){return"carousel"}next(){this._slide(Xs)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide(ks)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?M.one(this._element,aa,()=>this.cycle()):this.cycle())}to(d){const m=this._getItems();if(d>m.length-1||d<0)return;if(this._isSliding)return void M.one(this._element,aa,()=>this.to(d));const v=this._getItemIndex(this._getActive());if(v===d)return;const k=d>v?Xs:ks;this._slide(k,m[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&M.on(this._element,tu,d=>this._keydown(d)),this._config.pause==="hover"&&(M.on(this._element,su,()=>this.pause()),M.on(this._element,iu,()=>this._maybeEnableCycle())),this._config.touch&&zi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const m of W.find(".carousel-item img",this._element))M.on(m,nu,v=>v.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(Ns)),rightCallback:()=>this._slide(this._directionToOrder(Bi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new zi(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const m=lu[d.key];m&&(d.preventDefault(),this._slide(this._directionToOrder(m)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const m=W.findOne(io,this._indicatorsElement);m.classList.remove(Hi),m.removeAttribute("aria-current");const v=W.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);v&&(v.classList.add(Hi),v.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const m=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=m||this._config.defaultInterval}_slide(d,m=null){if(this._isSliding)return;const v=this._getActive(),k=d===Xs,N=m||A(this._getItems(),v,k,this._config.wrap);if(N===v)return;const T=this._getItemIndex(N),D=I=>M.trigger(this._element,I,{relatedTarget:N,direction:this._orderToDirection(d),from:this._getItemIndex(v),to:T});if(D(eu).defaultPrevented||!v||!N)return;const P=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(T),this._activeElement=N;const $=k?"carousel-item-start":"carousel-item-end",B=k?"carousel-item-next":"carousel-item-prev";N.classList.add(B),y(N),v.classList.add($),N.classList.add($),this._queueCallback(()=>{N.classList.remove($,B),N.classList.add(Hi),v.classList.remove(Hi,B,$),this._isSliding=!1,D(aa)},v,this._isAnimated()),P&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return W.findOne(ou,this._element)}_getItems(){return W.find(no,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return w()?d===Ns?ks:Xs:d===Ns?Xs:ks}_orderToDirection(d){return w()?d===ks?Ns:Bi:d===ks?Bi:Ns}static jQueryInterface(d){return this.each(function(){const m=Cs.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(m[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);m[d]()}}else m.to(d)})}}M.on(document,ru,"[data-bs-slide], [data-bs-slide-to]",function(g){const d=W.getElementFromSelector(this);if(!d||!d.classList.contains(so))return;g.preventDefault();const m=Cs.getOrCreateInstance(d),v=this.getAttribute("data-bs-slide-to");return v?(m.to(v),void m._maybeEnableCycle()):De.getDataAttribute(this,"slide")==="next"?(m.next(),void m._maybeEnableCycle()):(m.prev(),void m._maybeEnableCycle())}),M.on(window,au,()=>{const g=W.find('[data-bs-ride="carousel"]');for(const d of g)Cs.getOrCreateInstance(d)}),j(Cs);const Qs=".bs.collapse",hu=`show${Qs}`,uu=`shown${Qs}`,fu=`hide${Qs}`,mu=`hidden${Qs}`,pu=`click${Qs}.data-api`,ra="show",Ss="collapse",Wi="collapsing",gu=`:scope .${Ss} .${Ss}`,oa='[data-bs-toggle="collapse"]',xu={parent:null,toggle:!0},bu={parent:"(null|element)",toggle:"boolean"};class Ts extends lt{constructor(d,m){super(d,m),this._isTransitioning=!1,this._triggerArray=[];const v=W.find(oa);for(const k of v){const N=W.getSelectorFromElement(k),T=W.find(N).filter(D=>D===this._element);N!==null&&T.length&&this._triggerArray.push(k)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return xu}static get DefaultType(){return bu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(k=>k!==this._element).map(k=>Ts.getOrCreateInstance(k,{toggle:!1}))),d.length&&d[0]._isTransitioning||M.trigger(this._element,hu).defaultPrevented)return;for(const k of d)k.hide();const m=this._getDimension();this._element.classList.remove(Ss),this._element.classList.add(Wi),this._element.style[m]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const v=`scroll${m[0].toUpperCase()+m.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Wi),this._element.classList.add(Ss,ra),this._element.style[m]="",M.trigger(this._element,uu)},this._element,!0),this._element.style[m]=`${this._element[v]}px`}hide(){if(this._isTransitioning||!this._isShown()||M.trigger(this._element,fu).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,y(this._element),this._element.classList.add(Wi),this._element.classList.remove(Ss,ra);for(const m of this._triggerArray){const v=W.getElementFromSelector(m);v&&!this._isShown(v)&&this._addAriaAndCollapsedClass([m],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Wi),this._element.classList.add(Ss),M.trigger(this._element,mu)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(ra)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=h(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(oa);for(const m of d){const v=W.getElementFromSelector(m);v&&this._addAriaAndCollapsedClass([m],this._isShown(v))}}_getFirstLevelChildren(d){const m=W.find(gu,this._config.parent);return W.find(d,this._config.parent).filter(v=>!m.includes(v))}_addAriaAndCollapsedClass(d,m){if(d.length)for(const v of d)v.classList.toggle("collapsed",!m),v.setAttribute("aria-expanded",m)}static jQueryInterface(d){const m={};return typeof d=="string"&&/show|hide/.test(d)&&(m.toggle=!1),this.each(function(){const v=Ts.getOrCreateInstance(this,m);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}M.on(document,pu,oa,function(g){(g.target.tagName==="A"||g.delegateTarget&&g.delegateTarget.tagName==="A")&&g.preventDefault();for(const d of W.getMultipleElementsFromSelector(this))Ts.getOrCreateInstance(d,{toggle:!1}).toggle()}),j(Ts);var Ie="top",qe="bottom",Ke="right",Fe="left",Ui="auto",As=[Ie,qe,Ke,Fe],Zt="start",Ms="end",ao="clippingParents",la="viewport",Es="popper",ro="reference",ca=As.reduce(function(g,d){return g.concat([d+"-"+Zt,d+"-"+Ms])},[]),da=[].concat(As,[Ui]).reduce(function(g,d){return g.concat([d,d+"-"+Zt,d+"-"+Ms])},[]),oo="beforeRead",lo="read",co="afterRead",ho="beforeMain",uo="main",fo="afterMain",mo="beforeWrite",po="write",go="afterWrite",xo=[oo,lo,co,ho,uo,fo,mo,po,go];function mt(g){return g?(g.nodeName||"").toLowerCase():null}function Xe(g){if(g==null)return window;if(g.toString()!=="[object Window]"){var d=g.ownerDocument;return d&&d.defaultView||window}return g}function Jt(g){return g instanceof Xe(g).Element||g instanceof Element}function Je(g){return g instanceof Xe(g).HTMLElement||g instanceof HTMLElement}function ha(g){return typeof ShadowRoot<"u"&&(g instanceof Xe(g).ShadowRoot||g instanceof ShadowRoot)}const ua={name:"applyStyles",enabled:!0,phase:"write",fn:function(g){var d=g.state;Object.keys(d.elements).forEach(function(m){var v=d.styles[m]||{},k=d.attributes[m]||{},N=d.elements[m];Je(N)&&mt(N)&&(Object.assign(N.style,v),Object.keys(k).forEach(function(T){var D=k[T];D===!1?N.removeAttribute(T):N.setAttribute(T,D===!0?"":D)}))})},effect:function(g){var d=g.state,m={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,m.popper),d.styles=m,d.elements.arrow&&Object.assign(d.elements.arrow.style,m.arrow),function(){Object.keys(d.elements).forEach(function(v){var k=d.elements[v],N=d.attributes[v]||{},T=Object.keys(d.styles.hasOwnProperty(v)?d.styles[v]:m[v]).reduce(function(D,P){return D[P]="",D},{});Je(k)&&mt(k)&&(Object.assign(k.style,T),Object.keys(N).forEach(function(D){k.removeAttribute(D)}))})}},requires:["computeStyles"]};function pt(g){return g.split("-")[0]}var es=Math.max,Vi=Math.min,Ds=Math.round;function fa(){var g=navigator.userAgentData;return g!=null&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function bo(){return!/^((?!chrome|android).)*safari/i.test(fa())}function Ps(g,d,m){d===void 0&&(d=!1),m===void 0&&(m=!1);var v=g.getBoundingClientRect(),k=1,N=1;d&&Je(g)&&(k=g.offsetWidth>0&&Ds(v.width)/g.offsetWidth||1,N=g.offsetHeight>0&&Ds(v.height)/g.offsetHeight||1);var T=(Jt(g)?Xe(g):window).visualViewport,D=!bo()&&m,P=(v.left+(D&&T?T.offsetLeft:0))/k,$=(v.top+(D&&T?T.offsetTop:0))/N,B=v.width/k,I=v.height/N;return{width:B,height:I,top:$,right:P+B,bottom:$+I,left:P,x:P,y:$}}function ma(g){var d=Ps(g),m=g.offsetWidth,v=g.offsetHeight;return Math.abs(d.width-m)<=1&&(m=d.width),Math.abs(d.height-v)<=1&&(v=d.height),{x:g.offsetLeft,y:g.offsetTop,width:m,height:v}}function yo(g,d){var m=d.getRootNode&&d.getRootNode();if(g.contains(d))return!0;if(m&&ha(m)){var v=d;do{if(v&&g.isSameNode(v))return!0;v=v.parentNode||v.host}while(v)}return!1}function Ct(g){return Xe(g).getComputedStyle(g)}function yu(g){return["table","td","th"].indexOf(mt(g))>=0}function Bt(g){return((Jt(g)?g.ownerDocument:g.document)||window.document).documentElement}function Gi(g){return mt(g)==="html"?g:g.assignedSlot||g.parentNode||(ha(g)?g.host:null)||Bt(g)}function vo(g){return Je(g)&&Ct(g).position!=="fixed"?g.offsetParent:null}function Zs(g){for(var d=Xe(g),m=vo(g);m&&yu(m)&&Ct(m).position==="static";)m=vo(m);return m&&(mt(m)==="html"||mt(m)==="body"&&Ct(m).position==="static")?d:m||function(v){var k=/firefox/i.test(fa());if(/Trident/i.test(fa())&&Je(v)&&Ct(v).position==="fixed")return null;var N=Gi(v);for(ha(N)&&(N=N.host);Je(N)&&["html","body"].indexOf(mt(N))<0;){var T=Ct(N);if(T.transform!=="none"||T.perspective!=="none"||T.contain==="paint"||["transform","perspective"].indexOf(T.willChange)!==-1||k&&T.willChange==="filter"||k&&T.filter&&T.filter!=="none")return N;N=N.parentNode}return null}(g)||d}function pa(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function Js(g,d,m){return es(g,Vi(d,m))}function _o(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function wo(g,d){return d.reduce(function(m,v){return m[v]=g,m},{})}const jo={name:"arrow",enabled:!0,phase:"main",fn:function(g){var d,m=g.state,v=g.name,k=g.options,N=m.elements.arrow,T=m.modifiersData.popperOffsets,D=pt(m.placement),P=pa(D),$=[Fe,Ke].indexOf(D)>=0?"height":"width";if(N&&T){var B=function(fe,le){return _o(typeof(fe=typeof fe=="function"?fe(Object.assign({},le.rects,{placement:le.placement})):fe)!="number"?fe:wo(fe,As))}(k.padding,m),I=ma(N),Z=P==="y"?Ie:Fe,U=P==="y"?qe:Ke,Y=m.rects.reference[$]+m.rects.reference[P]-T[P]-m.rects.popper[$],G=T[P]-m.rects.reference[P],q=Zs(N),ue=q?P==="y"?q.clientHeight||0:q.clientWidth||0:0,be=Y/2-G/2,te=B[Z],ae=ue-I[$]-B[U],J=ue/2-I[$]/2+be,se=Js(te,J,ae),oe=P;m.modifiersData[v]=((d={})[oe]=se,d.centerOffset=se-J,d)}},effect:function(g){var d=g.state,m=g.options.element,v=m===void 0?"[data-popper-arrow]":m;v!=null&&(typeof v!="string"||(v=d.elements.popper.querySelector(v)))&&yo(d.elements.popper,v)&&(d.elements.arrow=v)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ls(g){return g.split("-")[1]}var vu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ko(g){var d,m=g.popper,v=g.popperRect,k=g.placement,N=g.variation,T=g.offsets,D=g.position,P=g.gpuAcceleration,$=g.adaptive,B=g.roundOffsets,I=g.isFixed,Z=T.x,U=Z===void 0?0:Z,Y=T.y,G=Y===void 0?0:Y,q=typeof B=="function"?B({x:U,y:G}):{x:U,y:G};U=q.x,G=q.y;var ue=T.hasOwnProperty("x"),be=T.hasOwnProperty("y"),te=Fe,ae=Ie,J=window;if($){var se=Zs(m),oe="clientHeight",fe="clientWidth";se===Xe(m)&&Ct(se=Bt(m)).position!=="static"&&D==="absolute"&&(oe="scrollHeight",fe="scrollWidth"),(k===Ie||(k===Fe||k===Ke)&&N===Ms)&&(ae=qe,G-=(I&&se===J&&J.visualViewport?J.visualViewport.height:se[oe])-v.height,G*=P?1:-1),k!==Fe&&(k!==Ie&&k!==qe||N!==Ms)||(te=Ke,U-=(I&&se===J&&J.visualViewport?J.visualViewport.width:se[fe])-v.width,U*=P?1:-1)}var le,Ne=Object.assign({position:D},$&&vu),Qe=B===!0?function(dt,$e){var tt=dt.x,st=dt.y,we=$e.devicePixelRatio||1;return{x:Ds(tt*we)/we||0,y:Ds(st*we)/we||0}}({x:U,y:G},Xe(m)):{x:U,y:G};return U=Qe.x,G=Qe.y,P?Object.assign({},Ne,((le={})[ae]=be?"0":"",le[te]=ue?"0":"",le.transform=(J.devicePixelRatio||1)<=1?"translate("+U+"px, "+G+"px)":"translate3d("+U+"px, "+G+"px, 0)",le)):Object.assign({},Ne,((d={})[ae]=be?G+"px":"",d[te]=ue?U+"px":"",d.transform="",d))}const ga={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(g){var d=g.state,m=g.options,v=m.gpuAcceleration,k=v===void 0||v,N=m.adaptive,T=N===void 0||N,D=m.roundOffsets,P=D===void 0||D,$={placement:pt(d.placement),variation:Ls(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:k,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,ko(Object.assign({},$,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:T,roundOffsets:P})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,ko(Object.assign({},$,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:P})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var Yi={passive:!0};const xa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(g){var d=g.state,m=g.instance,v=g.options,k=v.scroll,N=k===void 0||k,T=v.resize,D=T===void 0||T,P=Xe(d.elements.popper),$=[].concat(d.scrollParents.reference,d.scrollParents.popper);return N&&$.forEach(function(B){B.addEventListener("scroll",m.update,Yi)}),D&&P.addEventListener("resize",m.update,Yi),function(){N&&$.forEach(function(B){B.removeEventListener("scroll",m.update,Yi)}),D&&P.removeEventListener("resize",m.update,Yi)}},data:{}};var _u={left:"right",right:"left",bottom:"top",top:"bottom"};function qi(g){return g.replace(/left|right|bottom|top/g,function(d){return _u[d]})}var wu={start:"end",end:"start"};function No(g){return g.replace(/start|end/g,function(d){return wu[d]})}function ba(g){var d=Xe(g);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function ya(g){return Ps(Bt(g)).left+ba(g).scrollLeft}function va(g){var d=Ct(g),m=d.overflow,v=d.overflowX,k=d.overflowY;return/auto|scroll|overlay|hidden/.test(m+k+v)}function Co(g){return["html","body","#document"].indexOf(mt(g))>=0?g.ownerDocument.body:Je(g)&&va(g)?g:Co(Gi(g))}function ei(g,d){var m;d===void 0&&(d=[]);var v=Co(g),k=v===((m=g.ownerDocument)==null?void 0:m.body),N=Xe(v),T=k?[N].concat(N.visualViewport||[],va(v)?v:[]):v,D=d.concat(T);return k?D:D.concat(ei(Gi(T)))}function _a(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function So(g,d,m){return d===la?_a(function(v,k){var N=Xe(v),T=Bt(v),D=N.visualViewport,P=T.clientWidth,$=T.clientHeight,B=0,I=0;if(D){P=D.width,$=D.height;var Z=bo();(Z||!Z&&k==="fixed")&&(B=D.offsetLeft,I=D.offsetTop)}return{width:P,height:$,x:B+ya(v),y:I}}(g,m)):Jt(d)?function(v,k){var N=Ps(v,!1,k==="fixed");return N.top=N.top+v.clientTop,N.left=N.left+v.clientLeft,N.bottom=N.top+v.clientHeight,N.right=N.left+v.clientWidth,N.width=v.clientWidth,N.height=v.clientHeight,N.x=N.left,N.y=N.top,N}(d,m):_a(function(v){var k,N=Bt(v),T=ba(v),D=(k=v.ownerDocument)==null?void 0:k.body,P=es(N.scrollWidth,N.clientWidth,D?D.scrollWidth:0,D?D.clientWidth:0),$=es(N.scrollHeight,N.clientHeight,D?D.scrollHeight:0,D?D.clientHeight:0),B=-T.scrollLeft+ya(v),I=-T.scrollTop;return Ct(D||N).direction==="rtl"&&(B+=es(N.clientWidth,D?D.clientWidth:0)-P),{width:P,height:$,x:B,y:I}}(Bt(g)))}function To(g){var d,m=g.reference,v=g.element,k=g.placement,N=k?pt(k):null,T=k?Ls(k):null,D=m.x+m.width/2-v.width/2,P=m.y+m.height/2-v.height/2;switch(N){case Ie:d={x:D,y:m.y-v.height};break;case qe:d={x:D,y:m.y+m.height};break;case Ke:d={x:m.x+m.width,y:P};break;case Fe:d={x:m.x-v.width,y:P};break;default:d={x:m.x,y:m.y}}var $=N?pa(N):null;if($!=null){var B=$==="y"?"height":"width";switch(T){case Zt:d[$]=d[$]-(m[B]/2-v[B]/2);break;case Ms:d[$]=d[$]+(m[B]/2-v[B]/2)}}return d}function Rs(g,d){d===void 0&&(d={});var m=d,v=m.placement,k=v===void 0?g.placement:v,N=m.strategy,T=N===void 0?g.strategy:N,D=m.boundary,P=D===void 0?ao:D,$=m.rootBoundary,B=$===void 0?la:$,I=m.elementContext,Z=I===void 0?Es:I,U=m.altBoundary,Y=U!==void 0&&U,G=m.padding,q=G===void 0?0:G,ue=_o(typeof q!="number"?q:wo(q,As)),be=Z===Es?ro:Es,te=g.rects.popper,ae=g.elements[Y?be:Z],J=function($e,tt,st,we){var gt=tt==="clippingParents"?function(ge){var ze=ei(Gi(ge)),it=["absolute","fixed"].indexOf(Ct(ge).position)>=0&&Je(ge)?Zs(ge):ge;return Jt(it)?ze.filter(function(Wt){return Jt(Wt)&&yo(Wt,it)&&mt(Wt)!=="body"}):[]}($e):[].concat(tt),xt=[].concat(gt,[st]),Fs=xt[0],Me=xt.reduce(function(ge,ze){var it=So($e,ze,we);return ge.top=es(it.top,ge.top),ge.right=Vi(it.right,ge.right),ge.bottom=Vi(it.bottom,ge.bottom),ge.left=es(it.left,ge.left),ge},So($e,Fs,we));return Me.width=Me.right-Me.left,Me.height=Me.bottom-Me.top,Me.x=Me.left,Me.y=Me.top,Me}(Jt(ae)?ae:ae.contextElement||Bt(g.elements.popper),P,B,T),se=Ps(g.elements.reference),oe=To({reference:se,element:te,placement:k}),fe=_a(Object.assign({},te,oe)),le=Z===Es?fe:se,Ne={top:J.top-le.top+ue.top,bottom:le.bottom-J.bottom+ue.bottom,left:J.left-le.left+ue.left,right:le.right-J.right+ue.right},Qe=g.modifiersData.offset;if(Z===Es&&Qe){var dt=Qe[k];Object.keys(Ne).forEach(function($e){var tt=[Ke,qe].indexOf($e)>=0?1:-1,st=[Ie,qe].indexOf($e)>=0?"y":"x";Ne[$e]+=dt[st]*tt})}return Ne}function ju(g,d){d===void 0&&(d={});var m=d,v=m.placement,k=m.boundary,N=m.rootBoundary,T=m.padding,D=m.flipVariations,P=m.allowedAutoPlacements,$=P===void 0?da:P,B=Ls(v),I=B?D?ca:ca.filter(function(Y){return Ls(Y)===B}):As,Z=I.filter(function(Y){return $.indexOf(Y)>=0});Z.length===0&&(Z=I);var U=Z.reduce(function(Y,G){return Y[G]=Rs(g,{placement:G,boundary:k,rootBoundary:N,padding:T})[pt(G)],Y},{});return Object.keys(U).sort(function(Y,G){return U[Y]-U[G]})}const Ao={name:"flip",enabled:!0,phase:"main",fn:function(g){var d=g.state,m=g.options,v=g.name;if(!d.modifiersData[v]._skip){for(var k=m.mainAxis,N=k===void 0||k,T=m.altAxis,D=T===void 0||T,P=m.fallbackPlacements,$=m.padding,B=m.boundary,I=m.rootBoundary,Z=m.altBoundary,U=m.flipVariations,Y=U===void 0||U,G=m.allowedAutoPlacements,q=d.options.placement,ue=pt(q),be=P||(ue!==q&&Y?function(ge){if(pt(ge)===Ui)return[];var ze=qi(ge);return[No(ge),ze,No(ze)]}(q):[qi(q)]),te=[q].concat(be).reduce(function(ge,ze){return ge.concat(pt(ze)===Ui?ju(d,{placement:ze,boundary:B,rootBoundary:I,padding:$,flipVariations:Y,allowedAutoPlacements:G}):ze)},[]),ae=d.rects.reference,J=d.rects.popper,se=new Map,oe=!0,fe=te[0],le=0;le<te.length;le++){var Ne=te[le],Qe=pt(Ne),dt=Ls(Ne)===Zt,$e=[Ie,qe].indexOf(Qe)>=0,tt=$e?"width":"height",st=Rs(d,{placement:Ne,boundary:B,rootBoundary:I,altBoundary:Z,padding:$}),we=$e?dt?Ke:Fe:dt?qe:Ie;ae[tt]>J[tt]&&(we=qi(we));var gt=qi(we),xt=[];if(N&&xt.push(st[Qe]<=0),D&&xt.push(st[we]<=0,st[gt]<=0),xt.every(function(ge){return ge})){fe=Ne,oe=!1;break}se.set(Ne,xt)}if(oe)for(var Fs=function(ge){var ze=te.find(function(it){var Wt=se.get(it);if(Wt)return Wt.slice(0,ge).every(function(nn){return nn})});if(ze)return fe=ze,"break"},Me=Y?3:1;Me>0&&Fs(Me)!=="break";Me--);d.placement!==fe&&(d.modifiersData[v]._skip=!0,d.placement=fe,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Mo(g,d,m){return m===void 0&&(m={x:0,y:0}),{top:g.top-d.height-m.y,right:g.right-d.width+m.x,bottom:g.bottom-d.height+m.y,left:g.left-d.width-m.x}}function Eo(g){return[Ie,Ke,qe,Fe].some(function(d){return g[d]>=0})}const Do={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(g){var d=g.state,m=g.name,v=d.rects.reference,k=d.rects.popper,N=d.modifiersData.preventOverflow,T=Rs(d,{elementContext:"reference"}),D=Rs(d,{altBoundary:!0}),P=Mo(T,v),$=Mo(D,k,N),B=Eo(P),I=Eo($);d.modifiersData[m]={referenceClippingOffsets:P,popperEscapeOffsets:$,isReferenceHidden:B,hasPopperEscaped:I},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":B,"data-popper-escaped":I})}},Po={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(g){var d=g.state,m=g.options,v=g.name,k=m.offset,N=k===void 0?[0,0]:k,T=da.reduce(function(B,I){return B[I]=function(Z,U,Y){var G=pt(Z),q=[Fe,Ie].indexOf(G)>=0?-1:1,ue=typeof Y=="function"?Y(Object.assign({},U,{placement:Z})):Y,be=ue[0],te=ue[1];return be=be||0,te=(te||0)*q,[Fe,Ke].indexOf(G)>=0?{x:te,y:be}:{x:be,y:te}}(I,d.rects,N),B},{}),D=T[d.placement],P=D.x,$=D.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=P,d.modifiersData.popperOffsets.y+=$),d.modifiersData[v]=T}},wa={name:"popperOffsets",enabled:!0,phase:"read",fn:function(g){var d=g.state,m=g.name;d.modifiersData[m]=To({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},Lo={name:"preventOverflow",enabled:!0,phase:"main",fn:function(g){var d=g.state,m=g.options,v=g.name,k=m.mainAxis,N=k===void 0||k,T=m.altAxis,D=T!==void 0&&T,P=m.boundary,$=m.rootBoundary,B=m.altBoundary,I=m.padding,Z=m.tether,U=Z===void 0||Z,Y=m.tetherOffset,G=Y===void 0?0:Y,q=Rs(d,{boundary:P,rootBoundary:$,padding:I,altBoundary:B}),ue=pt(d.placement),be=Ls(d.placement),te=!be,ae=pa(ue),J=ae==="x"?"y":"x",se=d.modifiersData.popperOffsets,oe=d.rects.reference,fe=d.rects.popper,le=typeof G=="function"?G(Object.assign({},d.rects,{placement:d.placement})):G,Ne=typeof le=="number"?{mainAxis:le,altAxis:le}:Object.assign({mainAxis:0,altAxis:0},le),Qe=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,dt={x:0,y:0};if(se){if(N){var $e,tt=ae==="y"?Ie:Fe,st=ae==="y"?qe:Ke,we=ae==="y"?"height":"width",gt=se[ae],xt=gt+q[tt],Fs=gt-q[st],Me=U?-fe[we]/2:0,ge=be===Zt?oe[we]:fe[we],ze=be===Zt?-fe[we]:-oe[we],it=d.elements.arrow,Wt=U&&it?ma(it):{width:0,height:0},nn=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},vl=nn[tt],_l=nn[st],an=Js(0,oe[we],Wt[we]),sm=te?oe[we]/2-Me-an-vl-Ne.mainAxis:ge-an-vl-Ne.mainAxis,im=te?-oe[we]/2+Me+an+_l+Ne.mainAxis:ze+an+_l+Ne.mainAxis,Oa=d.elements.arrow&&Zs(d.elements.arrow),nm=Oa?ae==="y"?Oa.clientTop||0:Oa.clientLeft||0:0,wl=($e=Qe==null?void 0:Qe[ae])!=null?$e:0,am=gt+im-wl,jl=Js(U?Vi(xt,gt+sm-wl-nm):xt,gt,U?es(Fs,am):Fs);se[ae]=jl,dt[ae]=jl-gt}if(D){var kl,rm=ae==="x"?Ie:Fe,om=ae==="x"?qe:Ke,ls=se[J],rn=J==="y"?"height":"width",Nl=ls+q[rm],Cl=ls-q[om],Ia=[Ie,Fe].indexOf(ue)!==-1,Sl=(kl=Qe==null?void 0:Qe[J])!=null?kl:0,Tl=Ia?Nl:ls-oe[rn]-fe[rn]-Sl+Ne.altAxis,Al=Ia?ls+oe[rn]+fe[rn]-Sl-Ne.altAxis:Cl,Ml=U&&Ia?function(lm,cm,Fa){var El=Js(lm,cm,Fa);return El>Fa?Fa:El}(Tl,ls,Al):Js(U?Tl:Nl,ls,U?Al:Cl);se[J]=Ml,dt[J]=Ml-ls}d.modifiersData[v]=dt}},requiresIfExists:["offset"]};function ku(g,d,m){m===void 0&&(m=!1);var v,k,N=Je(d),T=Je(d)&&function(I){var Z=I.getBoundingClientRect(),U=Ds(Z.width)/I.offsetWidth||1,Y=Ds(Z.height)/I.offsetHeight||1;return U!==1||Y!==1}(d),D=Bt(d),P=Ps(g,T,m),$={scrollLeft:0,scrollTop:0},B={x:0,y:0};return(N||!N&&!m)&&((mt(d)!=="body"||va(D))&&($=(v=d)!==Xe(v)&&Je(v)?{scrollLeft:(k=v).scrollLeft,scrollTop:k.scrollTop}:ba(v)),Je(d)?((B=Ps(d,!0)).x+=d.clientLeft,B.y+=d.clientTop):D&&(B.x=ya(D))),{x:P.left+$.scrollLeft-B.x,y:P.top+$.scrollTop-B.y,width:P.width,height:P.height}}function Nu(g){var d=new Map,m=new Set,v=[];function k(N){m.add(N.name),[].concat(N.requires||[],N.requiresIfExists||[]).forEach(function(T){if(!m.has(T)){var D=d.get(T);D&&k(D)}}),v.push(N)}return g.forEach(function(N){d.set(N.name,N)}),g.forEach(function(N){m.has(N.name)||k(N)}),v}var Ro={placement:"bottom",modifiers:[],strategy:"absolute"};function Oo(){for(var g=arguments.length,d=new Array(g),m=0;m<g;m++)d[m]=arguments[m];return!d.some(function(v){return!(v&&typeof v.getBoundingClientRect=="function")})}function Ki(g){g===void 0&&(g={});var d=g,m=d.defaultModifiers,v=m===void 0?[]:m,k=d.defaultOptions,N=k===void 0?Ro:k;return function(T,D,P){P===void 0&&(P=N);var $,B,I={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ro,N),modifiersData:{},elements:{reference:T,popper:D},attributes:{},styles:{}},Z=[],U=!1,Y={state:I,setOptions:function(q){var ue=typeof q=="function"?q(I.options):q;G(),I.options=Object.assign({},N,I.options,ue),I.scrollParents={reference:Jt(T)?ei(T):T.contextElement?ei(T.contextElement):[],popper:ei(D)};var be,te,ae=function(J){var se=Nu(J);return xo.reduce(function(oe,fe){return oe.concat(se.filter(function(le){return le.phase===fe}))},[])}((be=[].concat(v,I.options.modifiers),te=be.reduce(function(J,se){var oe=J[se.name];return J[se.name]=oe?Object.assign({},oe,se,{options:Object.assign({},oe.options,se.options),data:Object.assign({},oe.data,se.data)}):se,J},{}),Object.keys(te).map(function(J){return te[J]})));return I.orderedModifiers=ae.filter(function(J){return J.enabled}),I.orderedModifiers.forEach(function(J){var se=J.name,oe=J.options,fe=oe===void 0?{}:oe,le=J.effect;if(typeof le=="function"){var Ne=le({state:I,name:se,instance:Y,options:fe});Z.push(Ne||function(){})}}),Y.update()},forceUpdate:function(){if(!U){var q=I.elements,ue=q.reference,be=q.popper;if(Oo(ue,be)){I.rects={reference:ku(ue,Zs(be),I.options.strategy==="fixed"),popper:ma(be)},I.reset=!1,I.placement=I.options.placement,I.orderedModifiers.forEach(function(le){return I.modifiersData[le.name]=Object.assign({},le.data)});for(var te=0;te<I.orderedModifiers.length;te++)if(I.reset!==!0){var ae=I.orderedModifiers[te],J=ae.fn,se=ae.options,oe=se===void 0?{}:se,fe=ae.name;typeof J=="function"&&(I=J({state:I,options:oe,name:fe,instance:Y})||I)}else I.reset=!1,te=-1}}},update:($=function(){return new Promise(function(q){Y.forceUpdate(),q(I)})},function(){return B||(B=new Promise(function(q){Promise.resolve().then(function(){B=void 0,q($())})})),B}),destroy:function(){G(),U=!0}};if(!Oo(T,D))return Y;function G(){Z.forEach(function(q){return q()}),Z=[]}return Y.setOptions(P).then(function(q){!U&&P.onFirstUpdate&&P.onFirstUpdate(q)}),Y}}var Cu=Ki(),Su=Ki({defaultModifiers:[xa,wa,ga,ua]}),ja=Ki({defaultModifiers:[xa,wa,ga,ua,Po,Ao,Lo,jo,Do]});const Io=Object.freeze(Object.defineProperty({__proto__:null,afterMain:fo,afterRead:co,afterWrite:go,applyStyles:ua,arrow:jo,auto:Ui,basePlacements:As,beforeMain:ho,beforeRead:oo,beforeWrite:mo,bottom:qe,clippingParents:ao,computeStyles:ga,createPopper:ja,createPopperBase:Cu,createPopperLite:Su,detectOverflow:Rs,end:Ms,eventListeners:xa,flip:Ao,hide:Do,left:Fe,main:uo,modifierPhases:xo,offset:Po,placements:da,popper:Es,popperGenerator:Ki,popperOffsets:wa,preventOverflow:Lo,read:lo,reference:ro,right:Ke,start:Zt,top:Ie,variationPlacements:ca,viewport:la,write:po},Symbol.toStringTag,{value:"Module"})),Fo="dropdown",ts=".bs.dropdown",ka=".data-api",Tu="ArrowUp",$o="ArrowDown",Au=`hide${ts}`,Mu=`hidden${ts}`,Eu=`show${ts}`,Du=`shown${ts}`,zo=`click${ts}${ka}`,Bo=`keydown${ts}${ka}`,Pu=`keyup${ts}${ka}`,Os="show",ss='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Lu=`${ss}.${Os}`,Xi=".dropdown-menu",Ru=w()?"top-end":"top-start",Ou=w()?"top-start":"top-end",Iu=w()?"bottom-end":"bottom-start",Fu=w()?"bottom-start":"bottom-end",$u=w()?"left-start":"right-start",zu=w()?"right-start":"left-start",Bu={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Hu={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ct extends lt{constructor(d,m){super(d,m),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,Xi)[0]||W.prev(this._element,Xi)[0]||W.findOne(Xi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Bu}static get DefaultType(){return Hu}static get NAME(){return Fo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!M.trigger(this._element,Eu,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const m of[].concat(...document.body.children))M.on(m,"mouseover",x);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Os),this._element.classList.add(Os),M.trigger(this._element,Du,d)}}hide(){if(f(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!M.trigger(this._element,Au,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))M.off(m,"mouseover",x);this._popper&&this._popper.destroy(),this._menu.classList.remove(Os),this._element.classList.remove(Os),this._element.setAttribute("aria-expanded","false"),De.removeDataAttribute(this._menu,"popper"),M.trigger(this._element,Mu,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!c(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${Fo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(Io===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:c(this._config.reference)?d=h(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const m=this._getPopperConfig();this._popper=ja(d,this._menu,m)}_isShown(){return this._menu.classList.contains(Os)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return $u;if(d.classList.contains("dropstart"))return zu;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const m=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?m?Ou:Ru:m?Fu:Iu}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(m=>Number.parseInt(m,10)):typeof d=="function"?m=>d(m,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(De.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...S(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:m}){const v=W.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(k=>u(k));v.length&&A(v,m,d===$o,!v.includes(m)).focus()}static jQueryInterface(d){return this.each(function(){const m=ct.getOrCreateInstance(this,d);if(typeof d=="string"){if(m[d]===void 0)throw new TypeError(`No method named "${d}"`);m[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const m=W.find(Lu);for(const v of m){const k=ct.getInstance(v);if(!k||k._config.autoClose===!1)continue;const N=d.composedPath(),T=N.includes(k._menu);if(N.includes(k._element)||k._config.autoClose==="inside"&&!T||k._config.autoClose==="outside"&&T||k._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const D={relatedTarget:k._element};d.type==="click"&&(D.clickEvent=d),k._completeHide(D)}}static dataApiKeydownHandler(d){const m=/input|textarea/i.test(d.target.tagName),v=d.key==="Escape",k=[Tu,$o].includes(d.key);if(!k&&!v||m&&!v)return;d.preventDefault();const N=this.matches(ss)?this:W.prev(this,ss)[0]||W.next(this,ss)[0]||W.findOne(ss,d.delegateTarget.parentNode),T=ct.getOrCreateInstance(N);if(k)return d.stopPropagation(),T.show(),void T._selectMenuItem(d);T._isShown()&&(d.stopPropagation(),T.hide(),N.focus())}}M.on(document,Bo,ss,ct.dataApiKeydownHandler),M.on(document,Bo,Xi,ct.dataApiKeydownHandler),M.on(document,zo,ct.clearMenus),M.on(document,Pu,ct.clearMenus),M.on(document,zo,ss,function(g){g.preventDefault(),ct.getOrCreateInstance(this).toggle()}),j(ct);const Ho="backdrop",Wo="show",Uo=`mousedown.bs.${Ho}`,Wu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Uu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Vo extends Ye{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Wu}static get DefaultType(){return Uu}static get NAME(){return Ho}show(d){if(!this._config.isVisible)return void S(d);this._append();const m=this._getElement();this._config.isAnimated&&y(m),m.classList.add(Wo),this._emulateAnimation(()=>{S(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(Wo),this._emulateAnimation(()=>{this.dispose(),S(d)})):S(d)}dispose(){this._isAppended&&(M.off(this._element,Uo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=h(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),M.on(d,Uo,()=>{S(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){E(d,this._getElement(),this._config.isAnimated)}}const Qi=".bs.focustrap",Vu=`focusin${Qi}`,Gu=`keydown.tab${Qi}`,Go="backward",Yu={autofocus:!0,trapElement:null},qu={autofocus:"boolean",trapElement:"element"};class Yo extends Ye{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Yu}static get DefaultType(){return qu}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),M.off(document,Qi),M.on(document,Vu,d=>this._handleFocusin(d)),M.on(document,Gu,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,M.off(document,Qi))}_handleFocusin(d){const{trapElement:m}=this._config;if(d.target===document||d.target===m||m.contains(d.target))return;const v=W.focusableChildren(m);v.length===0?m.focus():this._lastTabNavDirection===Go?v[v.length-1].focus():v[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?Go:"forward")}}const qo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ko=".sticky-top",Zi="padding-right",Xo="margin-right";class Na{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Zi,m=>m+d),this._setElementAttributes(qo,Zi,m=>m+d),this._setElementAttributes(Ko,Xo,m=>m-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Zi),this._resetElementAttributes(qo,Zi),this._resetElementAttributes(Ko,Xo)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,m,v){const k=this.getWidth();this._applyManipulationCallback(d,N=>{if(N!==this._element&&window.innerWidth>N.clientWidth+k)return;this._saveInitialAttribute(N,m);const T=window.getComputedStyle(N).getPropertyValue(m);N.style.setProperty(m,`${v(Number.parseFloat(T))}px`)})}_saveInitialAttribute(d,m){const v=d.style.getPropertyValue(m);v&&De.setDataAttribute(d,m,v)}_resetElementAttributes(d,m){this._applyManipulationCallback(d,v=>{const k=De.getDataAttribute(v,m);k!==null?(De.removeDataAttribute(v,m),v.style.setProperty(m,k)):v.style.removeProperty(m)})}_applyManipulationCallback(d,m){if(c(d))m(d);else for(const v of W.find(d,this._element))m(v)}}const et=".bs.modal",Ku=`hide${et}`,Xu=`hidePrevented${et}`,Qo=`hidden${et}`,Zo=`show${et}`,Qu=`shown${et}`,Zu=`resize${et}`,Ju=`click.dismiss${et}`,ef=`mousedown.dismiss${et}`,tf=`keydown.dismiss${et}`,sf=`click${et}.data-api`,Jo="modal-open",el="show",Ca="modal-static",nf={backdrop:!0,focus:!0,keyboard:!0},af={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class is extends lt{constructor(d,m){super(d,m),this._dialog=W.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Na,this._addEventListeners()}static get Default(){return nf}static get DefaultType(){return af}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||M.trigger(this._element,Zo,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Jo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(M.trigger(this._element,Ku).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(el),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){M.off(window,et),M.off(this._dialog,et),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Vo({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Yo({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const m=W.findOne(".modal-body",this._dialog);m&&(m.scrollTop=0),y(this._element),this._element.classList.add(el),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,M.trigger(this._element,Qu,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){M.on(this._element,tf,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),M.on(window,Zu,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),M.on(this._element,ef,d=>{M.one(this._element,Ju,m=>{this._element===d.target&&this._element===m.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Jo),this._resetAdjustments(),this._scrollBar.reset(),M.trigger(this._element,Qo)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(M.trigger(this._element,Xu).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,m=this._element.style.overflowY;m==="hidden"||this._element.classList.contains(Ca)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Ca),this._queueCallback(()=>{this._element.classList.remove(Ca),this._queueCallback(()=>{this._element.style.overflowY=m},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,m=this._scrollBar.getWidth(),v=m>0;if(v&&!d){const k=w()?"paddingLeft":"paddingRight";this._element.style[k]=`${m}px`}if(!v&&d){const k=w()?"paddingRight":"paddingLeft";this._element.style[k]=`${m}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,m){return this.each(function(){const v=is.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d](m)}})}}M.on(document,sf,'[data-bs-toggle="modal"]',function(g){const d=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&g.preventDefault(),M.one(d,Zo,v=>{v.defaultPrevented||M.one(d,Qo,()=>{u(this)&&this.focus()})});const m=W.findOne(".modal.show");m&&is.getInstance(m).hide(),is.getOrCreateInstance(d).toggle(this)}),$i(is),j(is);const St=".bs.offcanvas",tl=".data-api",rf=`load${St}${tl}`,sl="show",il="showing",nl="hiding",al=".offcanvas.show",of=`show${St}`,lf=`shown${St}`,cf=`hide${St}`,rl=`hidePrevented${St}`,ol=`hidden${St}`,df=`resize${St}`,hf=`click${St}${tl}`,uf=`keydown.dismiss${St}`,ff={backdrop:!0,keyboard:!0,scroll:!1},mf={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Tt extends lt{constructor(d,m){super(d,m),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ff}static get DefaultType(){return mf}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||M.trigger(this._element,of,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Na().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(il),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(sl),this._element.classList.remove(il),M.trigger(this._element,lf,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(M.trigger(this._element,cf).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(nl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(sl,nl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Na().reset(),M.trigger(this._element,ol)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new Vo({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():M.trigger(this._element,rl)}:null})}_initializeFocusTrap(){return new Yo({trapElement:this._element})}_addEventListeners(){M.on(this._element,uf,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():M.trigger(this._element,rl))})}static jQueryInterface(d){return this.each(function(){const m=Tt.getOrCreateInstance(this,d);if(typeof d=="string"){if(m[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);m[d](this)}})}}M.on(document,hf,'[data-bs-toggle="offcanvas"]',function(g){const d=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&g.preventDefault(),f(this))return;M.one(d,ol,()=>{u(this)&&this.focus()});const m=W.findOne(al);m&&m!==d&&Tt.getInstance(m).hide(),Tt.getOrCreateInstance(d).toggle(this)}),M.on(window,rf,()=>{for(const g of W.find(al))Tt.getOrCreateInstance(g).show()}),M.on(window,df,()=>{for(const g of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(g).position!=="fixed"&&Tt.getOrCreateInstance(g).hide()}),$i(Tt),j(Tt);const ll={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},pf=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),gf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,xf=(g,d)=>{const m=g.nodeName.toLowerCase();return d.includes(m)?!pf.has(m)||!!gf.test(g.nodeValue):d.filter(v=>v instanceof RegExp).some(v=>v.test(m))},bf={allowList:ll,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},yf={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},vf={entry:"(string|element|function|null)",selector:"(string|element)"};class _f extends Ye{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return bf}static get DefaultType(){return yf}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[k,N]of Object.entries(this._config.content))this._setContent(d,N,k);const m=d.children[0],v=this._resolvePossibleFunction(this._config.extraClass);return v&&m.classList.add(...v.split(" ")),m}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[m,v]of Object.entries(d))super._typeCheckConfig({selector:m,entry:v},vf)}_setContent(d,m,v){const k=W.findOne(v,d);k&&((m=this._resolvePossibleFunction(m))?c(m)?this._putElementInTemplate(h(m),k):this._config.html?k.innerHTML=this._maybeSanitize(m):k.textContent=m:k.remove())}_maybeSanitize(d){return this._config.sanitize?function(m,v,k){if(!m.length)return m;if(k&&typeof k=="function")return k(m);const N=new window.DOMParser().parseFromString(m,"text/html"),T=[].concat(...N.body.querySelectorAll("*"));for(const D of T){const P=D.nodeName.toLowerCase();if(!Object.keys(v).includes(P)){D.remove();continue}const $=[].concat(...D.attributes),B=[].concat(v["*"]||[],v[P]||[]);for(const I of $)xf(I,B)||D.removeAttribute(I.nodeName)}return N.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return S(d,[void 0,this])}_putElementInTemplate(d,m){if(this._config.html)return m.innerHTML="",void m.append(d);m.textContent=d.textContent}}const wf=new Set(["sanitize","allowList","sanitizeFn"]),Sa="fade",Ji="show",jf=".tooltip-inner",cl=".modal",dl="hide.bs.modal",ti="hover",Ta="focus",Aa="click",kf={AUTO:"auto",TOP:"top",RIGHT:w()?"left":"right",BOTTOM:"bottom",LEFT:w()?"right":"left"},Nf={allowList:ll,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Cf={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ns extends lt{constructor(d,m){if(Io===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,m),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Nf}static get DefaultType(){return Cf}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),M.off(this._element.closest(cl),dl,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=M.trigger(this._element,this.constructor.eventName("show")),m=(p(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!m)return;this._disposePopper();const v=this._getTipElement();this._element.setAttribute("aria-describedby",v.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(v),M.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(v),v.classList.add(Ji),"ontouchstart"in document.documentElement)for(const N of[].concat(...document.body.children))M.on(N,"mouseover",x);this._queueCallback(()=>{M.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!M.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ji),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))M.off(d,"mouseover",x);this._activeTrigger[Aa]=!1,this._activeTrigger[Ta]=!1,this._activeTrigger[ti]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),M.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const m=this._getTemplateFactory(d).toHtml();if(!m)return null;m.classList.remove(Sa,Ji),m.classList.add(`bs-${this.constructor.NAME}-auto`);const v=(k=>{do k+=Math.floor(1e6*Math.random());while(document.getElementById(k));return k})(this.constructor.NAME).toString();return m.setAttribute("id",v),this._isAnimated()&&m.classList.add(Sa),m}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new _f({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[jf]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Sa)}_isShown(){return this.tip&&this.tip.classList.contains(Ji)}_createPopper(d){const m=S(this._config.placement,[this,d,this._element]),v=kf[m.toUpperCase()];return ja(this._element,d,this._getPopperConfig(v))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(m=>Number.parseInt(m,10)):typeof d=="function"?m=>d(m,this._element):d}_resolvePossibleFunction(d){return S(d,[this._element,this._element])}_getPopperConfig(d){const m={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:v=>{this._getTipElement().setAttribute("data-popper-placement",v.state.placement)}}]};return{...m,...S(this._config.popperConfig,[void 0,m])}}_setListeners(){const d=this._config.trigger.split(" ");for(const m of d)if(m==="click")M.on(this._element,this.constructor.eventName("click"),this._config.selector,v=>{const k=this._initializeOnDelegatedTarget(v);k._activeTrigger[Aa]=!(k._isShown()&&k._activeTrigger[Aa]),k.toggle()});else if(m!=="manual"){const v=m===ti?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),k=m===ti?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");M.on(this._element,v,this._config.selector,N=>{const T=this._initializeOnDelegatedTarget(N);T._activeTrigger[N.type==="focusin"?Ta:ti]=!0,T._enter()}),M.on(this._element,k,this._config.selector,N=>{const T=this._initializeOnDelegatedTarget(N);T._activeTrigger[N.type==="focusout"?Ta:ti]=T._element.contains(N.relatedTarget),T._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},M.on(this._element.closest(cl),dl,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,m){clearTimeout(this._timeout),this._timeout=setTimeout(d,m)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const m=De.getDataAttributes(this._element);for(const v of Object.keys(m))wf.has(v)&&delete m[v];return d={...m,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:h(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[m,v]of Object.entries(this._config))this.constructor.Default[m]!==v&&(d[m]=v);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const m=ns.getOrCreateInstance(this,d);if(typeof d=="string"){if(m[d]===void 0)throw new TypeError(`No method named "${d}"`);m[d]()}})}}j(ns);const Sf=".popover-header",Tf=".popover-body",Af={...ns.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Mf={...ns.DefaultType,content:"(null|string|element|function)"};class en extends ns{static get Default(){return Af}static get DefaultType(){return Mf}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Sf]:this._getTitle(),[Tf]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const m=en.getOrCreateInstance(this,d);if(typeof d=="string"){if(m[d]===void 0)throw new TypeError(`No method named "${d}"`);m[d]()}})}}j(en);const Ma=".bs.scrollspy",Ef=`activate${Ma}`,hl=`click${Ma}`,Df=`load${Ma}.data-api`,Is="active",Ea="[href]",ul=".nav-link",Pf=`${ul}, .nav-item > ${ul}, .list-group-item`,Lf={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Rf={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class si extends lt{constructor(d,m){super(d,m),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Lf}static get DefaultType(){return Rf}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=h(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(m=>Number.parseFloat(m))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(M.off(this._config.target,hl),M.on(this._config.target,hl,Ea,d=>{const m=this._observableSections.get(d.target.hash);if(m){d.preventDefault();const v=this._rootElement||window,k=m.offsetTop-this._element.offsetTop;if(v.scrollTo)return void v.scrollTo({top:k,behavior:"smooth"});v.scrollTop=k}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(m=>this._observerCallback(m),d)}_observerCallback(d){const m=T=>this._targetLinks.get(`#${T.target.id}`),v=T=>{this._previousScrollData.visibleEntryTop=T.target.offsetTop,this._process(m(T))},k=(this._rootElement||document.documentElement).scrollTop,N=k>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=k;for(const T of d){if(!T.isIntersecting){this._activeTarget=null,this._clearActiveClass(m(T));continue}const D=T.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(N&&D){if(v(T),!k)return}else N||D||v(T)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=W.find(Ea,this._config.target);for(const m of d){if(!m.hash||f(m))continue;const v=W.findOne(decodeURI(m.hash),this._element);u(v)&&(this._targetLinks.set(decodeURI(m.hash),m),this._observableSections.set(m.hash,v))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(Is),this._activateParents(d),M.trigger(this._element,Ef,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))W.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(Is);else for(const m of W.parents(d,".nav, .list-group"))for(const v of W.prev(m,Pf))v.classList.add(Is)}_clearActiveClass(d){d.classList.remove(Is);const m=W.find(`${Ea}.${Is}`,d);for(const v of m)v.classList.remove(Is)}static jQueryInterface(d){return this.each(function(){const m=si.getOrCreateInstance(this,d);if(typeof d=="string"){if(m[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);m[d]()}})}}M.on(window,Df,()=>{for(const g of W.find('[data-bs-spy="scroll"]'))si.getOrCreateInstance(g)}),j(si);const as=".bs.tab",Of=`hide${as}`,If=`hidden${as}`,Ff=`show${as}`,$f=`shown${as}`,zf=`click${as}`,Bf=`keydown${as}`,Hf=`load${as}`,Wf="ArrowLeft",fl="ArrowRight",Uf="ArrowUp",ml="ArrowDown",Da="Home",pl="End",rs="active",gl="fade",Pa="show",xl=".dropdown-toggle",La=`:not(${xl})`,bl='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ra=`.nav-link${La}, .list-group-item${La}, [role="tab"]${La}, ${bl}`,Vf=`.${rs}[data-bs-toggle="tab"], .${rs}[data-bs-toggle="pill"], .${rs}[data-bs-toggle="list"]`;class os extends lt{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),M.on(this._element,Bf,m=>this._keydown(m)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const m=this._getActiveElem(),v=m?M.trigger(m,Of,{relatedTarget:d}):null;M.trigger(d,Ff,{relatedTarget:m}).defaultPrevented||v&&v.defaultPrevented||(this._deactivate(m,d),this._activate(d,m))}_activate(d,m){d&&(d.classList.add(rs),this._activate(W.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),M.trigger(d,$f,{relatedTarget:m})):d.classList.add(Pa)},d,d.classList.contains(gl)))}_deactivate(d,m){d&&(d.classList.remove(rs),d.blur(),this._deactivate(W.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),M.trigger(d,If,{relatedTarget:m})):d.classList.remove(Pa)},d,d.classList.contains(gl)))}_keydown(d){if(![Wf,fl,Uf,ml,Da,pl].includes(d.key))return;d.stopPropagation(),d.preventDefault();const m=this._getChildren().filter(k=>!f(k));let v;if([Da,pl].includes(d.key))v=m[d.key===Da?0:m.length-1];else{const k=[fl,ml].includes(d.key);v=A(m,d.target,k,!0)}v&&(v.focus({preventScroll:!0}),os.getOrCreateInstance(v).show())}_getChildren(){return W.find(Ra,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,m){this._setAttributeIfNotExists(d,"role","tablist");for(const v of m)this._setInitialAttributesOnChild(v)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const m=this._elemIsActive(d),v=this._getOuterElement(d);d.setAttribute("aria-selected",m),v!==d&&this._setAttributeIfNotExists(v,"role","presentation"),m||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const m=W.getElementFromSelector(d);m&&(this._setAttributeIfNotExists(m,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(m,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,m){const v=this._getOuterElement(d);if(!v.classList.contains("dropdown"))return;const k=(N,T)=>{const D=W.findOne(N,v);D&&D.classList.toggle(T,m)};k(xl,rs),k(".dropdown-menu",Pa),v.setAttribute("aria-expanded",m)}_setAttributeIfNotExists(d,m,v){d.hasAttribute(m)||d.setAttribute(m,v)}_elemIsActive(d){return d.classList.contains(rs)}_getInnerElement(d){return d.matches(Ra)?d:W.findOne(Ra,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const m=os.getOrCreateInstance(this);if(typeof d=="string"){if(m[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);m[d]()}})}}M.on(document,zf,bl,function(g){["A","AREA"].includes(this.tagName)&&g.preventDefault(),f(this)||os.getOrCreateInstance(this).show()}),M.on(window,Hf,()=>{for(const g of W.find(Vf))os.getOrCreateInstance(g)}),j(os);const Ht=".bs.toast",Gf=`mouseover${Ht}`,Yf=`mouseout${Ht}`,qf=`focusin${Ht}`,Kf=`focusout${Ht}`,Xf=`hide${Ht}`,Qf=`hidden${Ht}`,Zf=`show${Ht}`,Jf=`shown${Ht}`,yl="hide",tn="show",sn="showing",em={animation:"boolean",autohide:"boolean",delay:"number"},tm={animation:!0,autohide:!0,delay:5e3};class ii extends lt{constructor(d,m){super(d,m),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return tm}static get DefaultType(){return em}static get NAME(){return"toast"}show(){M.trigger(this._element,Zf).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(yl),y(this._element),this._element.classList.add(tn,sn),this._queueCallback(()=>{this._element.classList.remove(sn),M.trigger(this._element,Jf),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(M.trigger(this._element,Xf).defaultPrevented||(this._element.classList.add(sn),this._queueCallback(()=>{this._element.classList.add(yl),this._element.classList.remove(sn,tn),M.trigger(this._element,Qf)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(tn),super.dispose()}isShown(){return this._element.classList.contains(tn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,m){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=m;break;case"focusin":case"focusout":this._hasKeyboardInteraction=m}if(m)return void this._clearTimeout();const v=d.relatedTarget;this._element===v||this._element.contains(v)||this._maybeScheduleHide()}_setListeners(){M.on(this._element,Gf,d=>this._onInteraction(d,!0)),M.on(this._element,Yf,d=>this._onInteraction(d,!1)),M.on(this._element,qf,d=>this._onInteraction(d,!0)),M.on(this._element,Kf,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const m=ii.getOrCreateInstance(this,d);if(typeof d=="string"){if(m[d]===void 0)throw new TypeError(`No method named "${d}"`);m[d](this)}})}}return $i(ii),j(ii),{Alert:qs,Button:Ks,Carousel:Cs,Collapse:Ts,Dropdown:ct,Modal:is,Offcanvas:Tt,Popover:en,ScrollSpy:si,Tab:os,Toast:ii,Tooltip:ns}})})(X_);console.log("[SPA] Starting React application...");const _r=document.getElementById("spa-root");console.log("[SPA] Container found:",_r);if(_r){console.log("[SPA] Creating React root...");const s=hd(_r);console.log("[SPA] Rendering App component..."),s.render(r.jsx(K_,{})),console.log("[SPA] React app rendered successfully")}else{console.error("[SPA] Mount container #spa-root not found!");const s=document.createElement("div");s.id="spa-root",s.innerHTML='<p style="color: red; padding: 20px;">SPA container not found - created fallback</p>',document.body.appendChild(s)}
